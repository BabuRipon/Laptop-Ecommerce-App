{"version":3,"sources":["firebaseConfig.js","redux/actionType.js","functions/auth.js","Pages/Auth/login.js","Pages/Auth/register.js","Pages/component/forms/searchIcon.js","Pages/component/header.js","functions/category.js","functions/subCategory.js","images/laptop.jpeg","Pages/component/forms/agerageStar.js","Pages/component/product/homepageCard.js","Pages/component/product/loadingCard.js","functions/product.js","Pages/home/bestSeller.js","Pages/home/newArrival.js","Pages/home.js","Pages/Auth/reigisterComplete.js","Pages/Auth/forgotPassword.js","Pages/component/nav/usernav.js","functions/user.js","Pages/component/modal/ShowPaymentInfo.js","Pages/user/history.js","Pages/component/routes/loadingToRedirect.js","Pages/component/routes/userRoute.js","Pages/user/wishlist.js","Pages/user/password.js","Pages/component/nav/adminav.js","functions/admin.js","Pages/component/order/orders.js","Pages/admin/AdminDashboard.js","Pages/component/routes/adminRoute.js","Pages/component/forms/categoryForm.js","Pages/component/forms/localSearch.js","Pages/admin/category/admincategory.js","Pages/admin/category/updateCategory.js","Pages/admin/subCategory/createSubCategory.js","Pages/admin/subCategory/updateSubCategory.js","Pages/component/forms/productForm.js","functions/cloudinary.js","Pages/component/forms/imageForm.js","Pages/admin/product/createProduct.js","Pages/component/product/productCard.js","Pages/admin/product/products.js","Pages/component/forms/productUpdateForm.js","Pages/admin/product/productUpdate.js","Pages/component/product/imageCarousel.js","Pages/component/modal/modalCard.js","Pages/component/product/productDeatils.js","Pages/product.js","Pages/component/category/productCategoryWise.js","Pages/component/subcategory/ProductBySubCategory.js","Pages/shop/star.js","Pages/shop/shopTab.js","Pages/cart/cart.js","Pages/cart/drawer.js","Pages/cart/checkout.js","functions/coupon.js","Pages/admin/coupon/coupon.js","App.js","redux/reducer.js","redux/searchReducer.js","redux/cartReducer.js","redux/drawerReducer.js","redux/couponReducer.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","googleAuthProvider","GoogleAuthProvider","LOGGED_IN_USER","LOGGED_OUT_USER","createOrUpdateUser","idToken","a","axios","post","headers","token","currentUser","currentAdmin","Login","useState","email","setEmail","password","setPassword","eye","setEye","passordType","setPasswordType","loading","setLoading","dispatch","useDispatch","history","useHistory","onVisiblePasswordHandler","useSelector","state","user","e","preventDefault","pre","rolebaseRedirect","res","location","push","from","data","role","onLoginHandler","console","log","JSON","stringify","signInWithEmailAndPassword","then","userCredential","getIdTokenResult","type","actionTypes","payload","name","_id","catch","error","message","code","toast","setTimeout","onLoginHandlerWithGoogle","signInWithPopup","result","className","value","placeholder","onChange","target","autoFocus","onClick","style","fontSize","EyeOutlined","EyeInvisibleOutlined","shape","block","size","icon","MailOutlined","GoogleOutlined","to","Register","onSubmitHandler","actionCodeSettings","url","handleCodeInApp","sendSignInLinkToEmail","success","window","localStorage","setItem","onSubmit","SearchIcon","text","search","SearchOutlined","cursor","SubMenu","Menu","withRouter","props","current","setCurrent","cart","onLogoutHandler","signOut","key","selectedKeys","mode","Item","AppstoreOutlined","ShopOutlined","ShoppingCartOutlined","count","length","offset","UserAddOutlined","UserOutlined","title","split","ItemGroup","LogoutOutlined","getCategories","get","getCategory","slug","createCategory","category","upadteCategory","put","removeCategory","delete","getSubsByParent","getSubCategories","getSubCategory","createSubCategory","parent","upadteSubCategory","removeSubCategory","AverageStar","product","avgStar","setAvgStar","useEffect","total","ratings","map","p","star","reduce","acu","cur","starDimension","rating","starRatedColor","numberOfStars","Meta","Card","HomepageProductCard","images","description","price","quantity","setTooltip","hoverable","cover","alt","src","laptop","height","objectFit","actions","cartArray","undefined","getItem","parse","unique","_","uniqWith","isEqual","disabled","substr","concat","LoadingCard","cardArr","i","active","uuidv4","createProduct","getAllProducts","getProductBySlug","polulateProductBySlug","removeProduct","updateProduct","getProductsbyPagination","sort","order","page","productCount","ProductRatings","product_id","star_count","RelevantProduct","queryFilter","arg","brandsEnumValue","colorsEnumValue","NewArrivalProduct","products","setProduct","setPage","totalProduct","setTotalProduct","LoadAllProduct","err","Home","categories","setCategories","subCategories","setSubCategories","options","strings","autoStart","loop","c","RegisterComplete","onRegisterHandler","isSignInWithEmailLink","href","signInWithEmailLink","updatePassword","removeItem","ForgotPassword","sendPasswordResetEmail","userNav","userCart","authToken","getUserCart","EmptyCart","saveUserAdress","adress","applyDiscountCoupon","createOrder","paymentResponse","getUserOrders","authtoken","getWishlist","removeWishlist","productId","addToWishlist","ShowPaymentInfo","showStatus","orderCreationId","amount","toLocaleString","currency","created_at","Date","orderStatus","History","orders","setOrders","loadUserOrders","showOrderInTable","scope","brand","color","shipping","CheckCircleOutlined","CloseCircleOutlined","reverse","LoadingToRedirect","counter","setCounter","preCounter","UserRoute","children","rest","render","Wishlist","wishlist","setWishlist","loadWishlist","DeleteOutlined","Password","AdminNav","getOrders","changeStatus","orderId","Orders","handleStatusChange","defaultValue","AdminDashboard","loadOrders","AdminRoute","ok","setOk","CategoryForm","setCategory","handleSubmit","required","LocalSearch","keyword","setKeyword","toLowerCase","AdminCategory","loadCategories","response","filter","includes","confirm","EditOutlined","UpdateCategory","match","useParams","loadCategory","categoryResult","setParent","loadSubCategories","UpdateSubCategory","subCategory","setSubCategory","loadSubCategory","categorySubResult","selected","Option","Select","ProductForm","onChangeHandler","values","onCategoryChangeHandler","setValues","subs","colors","brands","width","sub","index","uploadImage","image","public_id","UploadImageForm","imgDetails","setImgDetails","newImageDetails","CloudUploadOutlined","multiple","hidden","accept","files","Resizer","imageFileResizer","uri","initialState","ProductCreate","setSubs","alert","reload","ProductCard","removeProductHandler","Products","setProducts","loadAllProducts","ProductUpdateForm","Productupdate","params","loadProduct","TabPane","Tabs","ImageCarousel","autoPlay","infiniteLoop","tab","ModalCard","onRatingHandler","modalVisible","setModalVisible","pathname","StarOutlined","visible","onOk","onCancel","ProductDetails","starCount","setStarCount","tootip","sold","find","postedBy","HeartOutlined","changeRating","ProductDetailPage","relevantProduct","setRelevantCategory","Object","keys","ProductCategoryWise","toUpperCase","ProductBySubCategory","StarNav","handleRatingChange","numberOfRatings","starHoverColor","starEmptyColor","ShopTabProduct","categoryIds","setCategoryIds","setPrice","setStars","setSub","setBrands","setcolors","setBrand","setColor","shippings","setShipping","loadAllProduct","id","loadProductByQuery","query","clearTimeout","onCheckHandler","clickedIds","indexOf","splice","stars","onSubcategoryHandler","onBrandHandler","onColorHandler","onShippingHandler","defaultOpenKeys","DollarOutlined","range","max","tipFormatter","v","DownSquareOutlined","checked","arr","starList","b","CarOutlined","CartPage","setColors","small","medium","modifiedCartArray","onCountChangeHandler","modifiedArray","onColorChangeHandler","item","CloseOutlined","onCartDeleteHandler","accu","whiteSpace","DrawerComponent","drawer","placement","onClose","loadScript","Promise","resolve","script","document","createElement","onload","onerror","body","appendChild","CheckoutPage","totalAmount","setTotalAmount","setAdress","coupon","setCoupon","totalAfterDiscount","setTotalAfterDiscount","discountSuccess","setDiscountSuccess","discountFailed","setDiscountFalied","savedAddress","setSaveAddress","couponApplied","cartTotal","displayRazorpay","process","order_id","toString","handler","razorpayPaymentId","razorpay_payment_id","razorpayOrderId","razorpay_order_id","razorpaySignature","razorpay_signature","prefill","notes","address","theme","Razorpay","open","createCoupon","couponData","deleteCoupon","coupon_id","getCoupons","CouponPage","setName","discount","setDiscount","expiryDate","setExpiryDate","coupons","setCoupons","LoadCoupons","date","toLocaleDateString","App","unsubscribe","onAuthStateChanged","path","exact","component","AdminSubCategory","reducer","action","actionType","SearchReducer","CartReducer","DrawerReducer","CouponReducer","ScrollToTop","useLocation","scrollTo","root","combineReducers","store","createStore","composeWithDevTools","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.2bd91e8b.chunk.js","sourcesContent":["// Firebase App (the core Firebase SDK) is always required and must be listed first\nimport firebase from \"firebase/app\";\n// If you are using v7 or any earlier version of the JS SDK, you should import firebase using namespace import\n// import * as firebase from \"firebase/app\"\n\n// If you enabled Analytics in your project, add the Firebase SDK for Analytics\nimport \"firebase/analytics\";\n\n// Add the Firebase products that you want to use\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\n   // Your web app's Firebase configuration\n   var firebaseConfig = {\n    apiKey: \"AIzaSyDhQWDxXoufMpm2IibRVA773RSt8EMLW_g\",\n    authDomain: \"ecommerce-c8bb3.firebaseapp.com\",\n    projectId: \"ecommerce-c8bb3\",\n    storageBucket: \"ecommerce-c8bb3.appspot.com\",\n    messagingSenderId: \"907312444013\",\n    appId: \"1:907312444013:web:eafba6a61fedd6f3acc564\"\n  };\n  // Initialize Firebase\n  firebase.initializeApp(firebaseConfig);\n\n  export const auth=firebase.auth();\n  export const googleAuthProvider =new firebase.auth.GoogleAuthProvider();\n//  export default firebase;","export const LOGGED_IN_USER=\"LOGGED_IN_USER\";\nexport const LOGGED_OUT_USER=\"LOGGED_OUT_USER\";","import axios from 'axios';\n\nexport const createOrUpdateUser=async (idToken)=>{\n    return await axios.post(`/api/create-or-update-user`,{},{\n        headers:{\n            token:idToken.token,\n        }\n    })\n}\n\nexport const currentUser=async(idToken)=>{\n    return await axios.post(`/api/current-user`,{},{\n        headers:{\n            token:idToken.token,\n        }\n    })\n}\n\nexport const currentAdmin=async(token)=>{\n    return await axios.post(`/api/current-admin`,{},{\n        headers:{\n            token:token,\n        }\n    })\n}","import React,{useState} from 'react';\nimport { Button } from 'antd';\nimport { MailOutlined ,GoogleOutlined,EyeOutlined,EyeInvisibleOutlined} from '@ant-design/icons';\nimport {auth,googleAuthProvider}from '../../firebaseConfig';\nimport { useDispatch ,useSelector} from 'react-redux';\nimport * as actionTypes from '../../redux/actionType';\nimport { Link, useHistory } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport {createOrUpdateUser} from '../../functions/auth';\n\n\nconst Login=()=>{\n\n    const [email,setEmail]=useState('');\n    const [password,setPassword]=useState('');\n    const [eye,setEye]=useState(false);\n    const [passordType,setPasswordType]=useState('password');\n    const [loading,setLoading]=useState(false);\n    const dispatch=useDispatch();\n    const history=useHistory();\n    const {user}=useSelector(state=>state);\n\n\n    const onVisiblePasswordHandler=(e)=>{\n        e.preventDefault();\n        setEye(eye=>!eye);\n        setPasswordType(pre=>pre==='password'?'text':'password');\n    }\n\n    const rolebaseRedirect=(res)=>{\n        \n        if(history.location.state){\n            history.push(history.location.state.from)\n        }else{\n            if(res.data.role==='admin'){\n                history.push('/admin/dashboard');\n            }else{\n                history.push('/user/history');\n            }\n        }\n   \n    }\n\n    const onLoginHandler=(e)=>{\n        e.preventDefault();\n        setLoading(true);\n        console.log('onLoginHandler '+JSON.stringify(history.location.state))\n        auth.signInWithEmailAndPassword(email,password)\n        .then(async(userCredential)=>{\n            const user = userCredential.user;\n            const idToken=await user.getIdTokenResult()\n            createOrUpdateUser(idToken)\n            .then(res=>{\n                dispatch({\n                    type:actionTypes.LOGGED_IN_USER,\n                    payload:{\n                        email:res.data.email,\n                        token:idToken.token,\n                        name:res.data.name,\n                        role:res.data.role,\n                        _id:res.data._id\n                    }\n                })\n\n                rolebaseRedirect(res);\n            })\n            .catch(error=>{\n                console.log(error.message);\n            })\n            \n        })\n        .catch(error=>{\n            setLoading(false);\n            if(error.code===\"auth/user-not-found\")\n            {\n               toast.error('email not register');\n               setTimeout(()=>{\n                   console.log(history)\n                history.push('/register')\n               },2000)\n            }else{\n                toast.error('password is incorrect');\n            }\n        })\n    }\n\n   const onLoginHandlerWithGoogle=async()=>{\n       try{\n        const result= await auth.signInWithPopup(googleAuthProvider);\n        const {user} = result\n        const idToken=await user.getIdTokenResult();\n\n        createOrUpdateUser(idToken)\n            .then(res=>{\n                console.log('backend setup success : ',res);\n                dispatch({\n                    type:actionTypes.LOGGED_IN_USER,\n                    payload:{\n                        email:res.data.email,\n                        token:idToken.token,\n                        name:res.data.name,\n                        role:res.data.role,\n                        _id:res.data._id\n                    }\n                })\n                //rollbase redirect\n                rolebaseRedirect(res);\n            })\n            .catch(error=>{\n                console.log(error.message);\n            })\n\n        history.push('/');\n\n       }catch(error){\n           console.log(error.message);\n       }\n    }\n\n\n    const LoginForm=()=>(\n        <form >\n            <div className=\"input-group mb-3\">\n                <input \n                value={email}\n                type=\"text\" \n                className=\"form-control\" \n                placeholder=\"username\" \n                onChange={(e)=>setEmail(e.target.value)}\n                autoFocus \n                />\n               \n            </div>\n            <div className=\"input-group mb-3\">\n                <input \n                value={password}\n                type={passordType} \n                className=\"form-control\" \n                placeholder=\"password\"  \n                onChange={(e)=>setPassword(e.target.value)}\n                />\n                <label \n                onClick={onVisiblePasswordHandler}\n                style={{fontSize:\"1.2rem\"}}\n                >\n                {eye?<EyeOutlined />:<EyeInvisibleOutlined />}\n                </label>\n            </div>\n            <Button \n            type=\"primary\" \n            shape=\"round\" \n            block\n            className=\"mb-3\"\n            size=\"large\"\n            icon={<MailOutlined />}\n            onClick={onLoginHandler}\n            >Login with email/password</Button>\n            <Button \n            type=\"danger\" \n            shape=\"round\" \n            block\n            size=\"large\"\n            icon={<GoogleOutlined />}\n            onClick={onLoginHandlerWithGoogle}\n            className=\"mb-3\"\n            >Login with Google</Button>\n            <Link \n            to=\"/forgot/password\"\n            className=\"float-right text-primary\"\n            style={{fontSize:\"1.1rem\"}}\n            >Forgot Password</Link>\n        </form>\n    )\n\n    return (\n        <div className=\"container p-5\">\n            <div className=\"row\">\n               <div className=\"col-md-6 offset-md-3\">\n                     {loading?\n                     <h4 className=\"text-primary\">Loading...</h4>\n                     :\n                      <h4>Login</h4>}\n                      {LoginForm()}\n               </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Login;","import React,{useState} from 'react';\nimport {auth}from '../../firebaseConfig';\nimport {toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\n\nconst Register=()=>{\n    \n    const [email,setEmail]=useState('');\n\n    const onSubmitHandler=async(e)=>{\n         e.preventDefault();\n\n         var actionCodeSettings = {\n            url:`/register/complete`,\n            handleCodeInApp:true,\n          };\n\n        await auth.sendSignInLinkToEmail(email,actionCodeSettings)\n\n       toast.success(`a link is send to user ${email} to register`);\n        \n       window.localStorage.setItem('emailForSignIn',email);\n       setEmail('');\n\n    }\n\n    const registerForm=()=>(\n        <form onSubmit={onSubmitHandler}>\n            <input \n            type=\"email\" \n            value={email}\n            onChange={e=>setEmail(e.target.value)}\n            className=\"form-control\" \n            placeholder=\"abc@gamil.com\" \n            autoFocus\n            />\n            <br/>\n            <button type=\"submit\" className=\"btn btn-raised btn-primary\">Register</button>\n        </form> \n        )\n\n    return (\n       <div className=\"contianer p-5\">\n          <div className=\"row\">\n              <div className=\"col-md-6 offset-md-3\">\n                <h4>Register</h4>\n                {registerForm()}\n              </div>\n          </div>\n       </div>\n    )\n}\n\nexport default Register;","import React,{useState}from 'react';\nimport {SearchOutlined} from '@ant-design/icons';\nimport {useHistory}from 'react-router-dom';\nimport {useDispatch,useSelector}from 'react-redux';\n\n\nconst SearchIcon=()=>{\n    // const [text,setText]=useState('');\n    const dispatch=useDispatch();\n    const history=useHistory();\n    const {search} = useSelector(state => state);\n\n    const {text}=search;\n\n    const onInputHandler=(e)=>{\n        dispatch({\n            type:'TEXT_SEARCH',\n            payload:{text:e.target.value}\n        })\n    }\n\n    const onSubmitHandler=(e)=>{\n      e.preventDefault();\n      history.push(`/shop/filter?${text}`)\n    }\n\n// console.log(text);\n    return(\n        <form className=\"form-inline my-2\" onSubmit={onSubmitHandler}>\n\n            <input type=\"search\" \n            className=\"form-control \" \n            placeholder=\"Search\" \n            value={text}\n            onChange={onInputHandler}\n            />\n\n            <SearchOutlined style={{cursor:'pointer'}} onClick={onSubmitHandler} />\n\n        </form>\n    )\n}\n\nexport default SearchIcon;","import React,{useState} from 'react';\nimport { Menu,Badge } from 'antd';\nimport { AppstoreOutlined,UserAddOutlined,ShoppingCartOutlined,ShopOutlined,UserOutlined,LogoutOutlined } from '@ant-design/icons';\nimport {Link, useHistory, withRouter}from 'react-router-dom';\nimport {auth}from '../../firebaseConfig'\n// import { toast } from 'react-toastify';\nimport {useDispatch,useSelector}from 'react-redux';\nimport * as actionTypes from '../../redux/actionType';\nimport SearchIcon from './forms/searchIcon';\n\n\n//useHistory hooks can be used\n\nconst { SubMenu } = Menu;\n\nconst Header=(props)=>{\n\n    const [current,setCurrent]=useState('mail');\n    const dispatch=useDispatch();\n    const history=useHistory();\n    const {user,cart} = useSelector(state => state);\n\n    console.log(cart);\n\n    const handleClick = e => {\n        // console.log(e.key);\n        setCurrent(e.key);\n      };\n\n    //   console.log(props);\n    const onLogoutHandler=async()=>{  \n        \n            await auth.signOut()\n            // toast.success('Logout successfully');\n            dispatch({\n                type:actionTypes.LOGGED_OUT_USER,\n                payload:null\n            })\n            history.push('/login')\n\n          \n    }\n\n    return(\n        <Menu onClick={handleClick} selectedKeys={[current]} mode=\"horizontal\">\n            <Menu.Item key=\"home\" icon={<AppstoreOutlined />}>\n                <Link to='/'>Home</Link>\n            </Menu.Item>\n\n            <Menu.Item key=\"shop\" icon={<ShopOutlined />}>\n                    <Link to='/shop/filter'>Shop</Link>\n            </Menu.Item>\n            <Menu.Item key=\"cart\" icon={<ShoppingCartOutlined />}>\n                <Badge count={cart.length} offset={[9,0]}>\n                   <Link to='/cart'>Cart</Link>\n                </Badge>\n            </Menu.Item>\n\n            {!user&&\n            <Menu.Item key=\"register\"icon={<UserAddOutlined />} className=\"float-right\">\n                <Link to='/register'>Register</Link>\n            </Menu.Item>}\n\n            {\n                !user &&\n                <Menu.Item key=\"login\" icon={<UserOutlined />} className=\"float-right\" >\n                    <Link to='/login'>Login</Link>\n                </Menu.Item>\n            }\n            \n        \n            {\n                user &&\n               ( \n        \n                    <SubMenu className=\"float-right\" \n                    key=\"username\" \n                    title={user?.email.split('@')[0]}\n                    >\n                        <Menu.ItemGroup >\n                            <Menu.Item  icon={<LogoutOutlined />}>\n                                {user.role==='admin'?\n                                <Link to=\"/admin/dashboard\">Dashboard</Link>\n                                :\n                                <Link to=\"/user/history\">Dashboard</Link>\n                                }\n                            </Menu.Item>\n                        </Menu.ItemGroup> \n\n                        <Menu.ItemGroup >\n                            <Menu.Item  icon={<LogoutOutlined />} onClick={onLogoutHandler}>Logout</Menu.Item>\n                        </Menu.ItemGroup>  \n                    </SubMenu>\n               \n                )\n            }\n\n            <span className=\"float-right\">\n               <SearchIcon />\n            </span>\n\n        </Menu>\n    )\n}\n\n\n\nexport default withRouter(Header);\n\n","import axios from 'axios';\n\nexport const getCategories=async()=>{\n    return await axios.get(`/api/categories`);\n}\n\nexport const getCategory=async(slug)=>{\n    return await axios.get(`/api/category/${slug}`);\n}\n\n// export const getCategoryById=async(slug)=>{\n//     return await axios.get(`${process.env.REACT_APP_BACKEND_API}/category/readbyid/${slug}`)\n// }\n\nexport const createCategory=async(category,token)=>{\n    return await axios.post(`/api/category`,{name:category},{\n        headers:{\n            token:token\n        }\n    });\n}\n\nexport const upadteCategory=async(slug,category,token)=>{\n    return await axios.put(`/api/category/${slug}`,{name:category},{\n        headers:{\n            token:token\n        }\n    });\n}\n\nexport const removeCategory=async(slug,token)=>{\n    // console.log('api token ',token);\n    return await axios.delete(`/api/category/${slug}`,{\n        headers:{\n            token:token\n        }\n    })\n}\n\nexport const getSubsByParent=async(_id)=>{\n    return await axios.get(`/api/category/subs/${_id}`)\n}\n\n","import axios from 'axios';\n\nexport const getSubCategories=async()=>{\n    return await axios.get(`/api/subs`);\n}\n\nexport const getSubCategory=async(slug)=>{\n    return await axios.get(`/api/sub/${slug}`);\n}\n\nexport const createSubCategory=async(category,parent,token)=>{\n    return await axios.post(`/api/sub`,{name:category,parent},{\n        headers:{\n            token:token\n        }\n    });\n}\n\nexport const upadteSubCategory=async(slug,category,parent,token)=>{\n    return await axios.put(`/api/sub/${slug}`,{name:category,parent},{\n        headers:{\n            token:token\n        }\n    });\n}\n\nexport const removeSubCategory=async(slug,token)=>{\n    // console.log('api token ',token);\n    return await axios.delete(`/api/sub/${slug}`,{\n        headers:{\n            token:token\n        }\n    })\n}\n\n","export default \"data:image/jpeg;base64,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\"","import React,{useState,useEffect} from 'react';\nimport StarRatings from 'react-star-ratings';\n\nconst AverageStar=({product})=>{\n\n    const [avgStar,setAvgStar]=useState();\n\n    // console.log('avg star'+JSON.stringify(product))\n    useEffect(()=>{\n        let total=0;\n        // console.log('avg star '+JSON.stringify(product))\n       if(product.ratings && product.ratings.length){\n          total=product.ratings.map(p=>p.star).reduce((acu,cur)=>{\n              return acu+cur;\n          });\n          setAvgStar(total/(product.ratings.length))\n       }\n       \n\n    },[product.ratings])\n\n\n    return (\n      \n           \n              product.ratings && product.ratings.length?\n              <div className=\"d-flex justify-content-center\">\n              \n                 <StarRatings\n                 starDimension=\"25px\"\n                  rating={avgStar}\n                  starRatedColor=\"red\"\n                  numberOfStars={5}\n                />\n                \n               </div>\n               :<h6 className=\"text-center\">No Rating Yet</h6>\n           \n        \n    )\n}\n\nexport default AverageStar;\n\n","import React,{useState} from 'react';\nimport { Card ,Tooltip} from 'antd';\nimport laptop from '../../../images/laptop.jpeg';\nimport { EyeOutlined,ShoppingCartOutlined} from '@ant-design/icons';\nimport {Link} from 'react-router-dom';\nimport AverageStar from '../forms/agerageStar';\nimport {useDispatch} from 'react-redux'\nimport _ from 'lodash';\n\n\nconst {Meta} =Card;\n\n\n\nconst HomepageProductCard=({product})=>{\n\n    const {images,title,description,price,quantity,slug}=product;\n    const [tootip,setTooltip]=useState('add to cart');\n    const dispatch=useDispatch();\n    \n    // console.log('product : ',product);\n\n    const addToCartHandler=()=>{\n        let cartArray=[];\n        if(typeof window!==undefined){\n            if(localStorage.getItem('cart')){\n                cartArray=JSON.parse(localStorage.getItem('cart'));\n            }\n    \n            cartArray.push({\n                ...product,\n                count:1\n            })\n\n            let unique=_.uniqWith(cartArray,_.isEqual);\n    \n            localStorage.setItem('cart',JSON.stringify(unique));\n\n            setTooltip('added');\n \n            //add cart product to redux\n\n            dispatch({\n                type:\"ADD_TO_CART\",\n                payload:unique\n            })\n\n            dispatch({\n                type:\"VISIBLE_ACTIVITY\",\n                payload:true\n            })\n\n        }\n    }\n\n\n    return(\n        <>\n        \n         <AverageStar product={product} />\n        \n        <Card\n        hoverable\n        className=\"mb-3\"\n        cover={\n        <img \n        alt=\"laptop_img\" src={images.length ?images[0].url:laptop} />\n         }\n         style={{height:'380px',objectFit:'cover'}}\n        actions={[\n          <Tooltip title={\"View Product Details\"}>\n               <Link to={`/product/${slug}`}>\n              <EyeOutlined \n                className=\"text-warning\"\n                key=\"edit\" \n                \n                />\n                <br />\n                <span>View Product</span>\n            </Link>\n          </Tooltip>\n           ,\n           <Tooltip title={quantity>0 ? 'Add To Cart' :'Out Of Stock'} >\n                    <a onClick={addToCartHandler} disabled={!quantity && true}>\n                    <ShoppingCartOutlined\n                        className=\"text-danger\"\n                        key=\"addtocart\" \n                        />\n                        <br />\n                        <span >{quantity>0 ? 'Add To Cart' :'Out Of Stock'}</span>\n                </a>\n           </Tooltip>\n           \n        ]}\n        >\n            <Meta title={<span>{title} - <span className=\"text-dark font-weight-bold\">&#8377;{price}</span></span>} description={description.length>50 ?description.substr(0,50).concat('...'):description} />\n        </Card>\n        </>\n    )\n}\n\nexport default HomepageProductCard;","import React from  'react';\nimport { Skeleton,Card} from 'antd';\nimport { v4 as uuidv4 } from 'uuid';\n\nconst LoadingCard=({count})=>{\n    const cardArr=[];\n    for(let i=0;i<count;i++){\n        cardArr.push(\n            <div className=\"col-md-3\" key={uuidv4()}>\n                <Card>\n                    <Skeleton active>\n                    </Skeleton>\n                </Card>\n            </div>\n        )\n    }\n    return cardArr;\n}\n\nexport default LoadingCard;","import axios from 'axios';\n\n// export const getCategories=async()=>{\n//     return await axios.get(`${process.env.REACT_APP_BACKEND_API}/categories`);\n// }\n\n\n\nexport const createProduct=async(product,token)=>{\n\n    return await axios.post(`/api/product`,{...product},{\n        headers:{\n            token:token\n        }\n    });\n}\n\nexport const getAllProducts=async(count)=>{\n   return await axios.get(`/api/products/${count}`)\n}\n\nexport const getProductBySlug=async(slug)=>{\n    return await axios.get(`/api/product/${slug}`)\n}\n\nexport const polulateProductBySlug=async(slug)=>{\n    return await axios.get(`/api/product/with/populate/${slug}`)\n}\n\nexport const removeProduct=async(slug,token)=>{\n    return await axios.delete(`/api/product/${slug}`,{\n        headers:{\n            token:token,\n        }\n    })\n}\n\nexport const updateProduct=async(slug,product,token)=>{\n    // console.log(slug);\n    return await axios.put(`/api/product/${slug}`,{...product},{\n        headers:{\n            token:token\n        }\n    })\n}\n\nexport const getProductsbyPagination=async(sort,order,page)=>{\n    return await axios.post(`/api/products`,{sort,order,page});\n}\n\nexport const productCount=async ()=>{\n    return await axios.get(`/api/products/total`)\n}\n\n\nexport const ProductRatings=async (product_id,star_count,token)=>{\n    return await axios.put(`/api/product/star/${product_id}`,{star_count},{\n        headers:{\n            token:token\n        }    \n    })\n}\n\nexport const RelevantProduct=async (product_id)=>{\n    return await axios.get(`/api/product/relevant/${product_id}`)\n}\n\nexport const queryFilter=async(arg)=>{\n    return await axios.post(`/api/query/search`,arg);\n}\n\nexport const brandsEnumValue=async()=>{\n    return await axios.get(`/api/query/search/brand/enum`)\n}\n\nexport const colorsEnumValue=async()=>{\n    return await axios.get(`/api/query/search/color/enum`)\n}\n\n\n\n","import React,{useEffect,useState} from 'react';\nimport HomepageProductCard from '../component/product/homepageCard';\nimport LoadingCard from '../component/product/loadingCard';\nimport {getProductsbyPagination,productCount} from '../../functions/product'\nimport { Pagination } from 'antd';\n\n\n\nconst NewArrivalProduct=(props)=>{\n\n    const [products,setProduct]=useState([]);\n    const [loading,setLoading]=useState(false);\n    const [page,setPage]=useState(1);\n    const [totalProduct,setTotalProduct]=useState(0);\n\n    \n    useEffect(()=>{\n       LoadAllProduct();\n    },[page])\n\n    useEffect(()=>{\n        productCount()\n        .then(res=>{\n            // console.log(res.data)\n            setTotalProduct(res.data);\n        })\n        .catch(err=>{\n            console.log(err);\n        })\n    },[])\n\n    const LoadAllProduct=()=>{\n        setLoading(true);\n        //sort order limit\n        getProductsbyPagination('sold','desc',page)\n        .then(res=>{\n            setProduct(res.data);\n            setLoading(false);\n        })\n        .catch(err=>{\n            console.log(err);\n            setLoading(false);\n        })\n    }\n\n    // console.log(page)\n    return(\n        <>\n            <h4 className=\"\n                font-weight-bold \n                jumbotron\n                p-3 \n                mb-5 \n                text-center\n                text-uppercase\n                \">best seller</h4>\n            <div className=\"container\">\n                \n\n                {\n                    loading?\n                    <div className=\"row justify-content-around\">\n                        <LoadingCard count={4}/>\n                    </div>\n                    :\n                    <div className=\"row justify-content-around\">\n                        {products.map(product=>(\n                            <div key={product._id} className=\"col-md-3\" >\n                            <HomepageProductCard\n                                product={product}\n                            />\n                            </div>\n                        ))}\n                    </div>\n                }\n\n            </div>\n           <div className=\"text-center my-5\">\n                <Pagination \n                current={page} \n                total={(totalProduct/3)*10}\n                onChange={page=>setPage(page)}\n                />\n           </div>\n           <br />\n        </>\n    )\n}\nexport default NewArrivalProduct;","import React,{useEffect,useState} from 'react';\nimport HomepageProductCard from '../component/product/homepageCard';\nimport LoadingCard from '../component/product/loadingCard';\nimport {getProductsbyPagination,productCount} from '../../functions/product'\nimport { Pagination } from 'antd';\n\n\n\nconst NewArrivalProduct=(props)=>{\n\n    const [products,setProduct]=useState([]);\n    const [loading,setLoading]=useState(false);\n    const [page,setPage]=useState(1);\n    const [totalProduct,setTotalProduct]=useState(0);\n\n    \n    useEffect(()=>{\n       LoadAllProduct();\n    },[page])\n\n    useEffect(()=>{\n        productCount()\n        .then(res=>{\n            // console.log(res.data)\n            setTotalProduct(res.data);\n        })\n        .catch(err=>{\n            console.log(err);\n        })\n    },[])\n\n    const LoadAllProduct=()=>{\n        setLoading(true);\n        //sort order limit\n        getProductsbyPagination('createdAt','desc',page)\n        .then(res=>{\n            setProduct(res.data);\n            setLoading(false);\n        })\n        .catch(err=>{\n            console.log(err);\n            setLoading(false);\n        })\n    }\n\n    // console.log(page)\n    return(\n        <>\n            <h4 className=\"\n                font-weight-bold \n                jumbotron\n                p-3 \n                mb-5 \n                text-center\n                text-uppercase\n                \">new arival product</h4>\n            <div className=\"container\">\n                \n\n                {\n                    loading?\n                    <div className=\"row justify-content-around\">\n                        <LoadingCard count={4}/>\n                    </div>\n                    :\n                    <div className=\"row justify-content-around\">\n                        {products.map(product=>(\n                            <div key={product._id} className=\"col-md-3\" >\n                            <HomepageProductCard\n                                product={product}\n                            />\n                            </div>\n                        ))}\n                    </div>\n                }\n\n            </div>\n           <div className=\"text-center my-5\">\n                <Pagination \n                current={page} \n                total={(totalProduct/3)*10}\n                onChange={page=>setPage(page)}\n                />\n           </div>\n        </>\n    )\n}\nexport default NewArrivalProduct;","import React,{useState,useEffect} from 'react';\nimport { Link } from 'react-router-dom';\nimport Typewriter from 'typewriter-effect';\nimport { getCategories } from '../functions/category';\nimport { getSubCategories } from '../functions/subCategory';\nimport BestSeller from './home/bestSeller';\nimport NewArrivalProduct from './home/newArrival';\n\n\n\nconst Home=(props)=>{\n\n    const [categories,setCategories]=useState([]);\n    const [subCategories,setSubCategories]=useState([]);\n\n    useEffect(()=>{\n        getCategories()\n        .then(res=>{\n            // console.log(res.data);\n            setCategories(res.data);\n        })\n        .catch(err=>{\n          console.log('category',err)\n        })\n\n        getSubCategories()\n        .then(res=>{\n            // console.log(res.data);\n            setSubCategories(res.data);\n        })\n        .catch(err=>{\n            console.log('sub category',err);\n        })\n\n    },[])\n\n    return(\n        <>\n            <div className=\"jumbotron text-center h4\">\n                <Typewriter\n                    options={{\n                        strings: ['Welcome to our site','Hope you feel great','For query contact with  our team'],\n                        autoStart: true,\n                        loop: true,\n                    }}\n                    />\n            </div>\n            <NewArrivalProduct />\n            <br />\n            <BestSeller />\n            <br />\n            <h4 className=\"\n                font-weight-bold \n                jumbotron\n                p-3 \n                mb-5 \n                text-center\n                text-uppercase\n                \">Category</h4>\n\n                <div className=\"container\">\n                 \n                       <div className=\"row\">\n                           {\n                                categories.map(c=>{\n                                    return (\n                                    <Link to={`/category/${c.slug}`} key={c._id} className=\"col-sm-2 mb-3\"><h6  \n                                    className=\"btn btn-outline-secondary py-2 px-5 \"\n                                    >\n                                        {c.name}</h6></Link>\n                                    )\n                                })\n                           }\n                        </div>\n        \n                </div>\n\n                <h4 className=\"\n                font-weight-bold \n                jumbotron\n                p-3 \n                mb-5 \n                text-center\n                text-uppercase\n                \">Sub Category</h4>\n\n                <div className=\"container\">\n                 \n                       <div className=\"row\">\n                           {\n                                subCategories.map(c=>{\n                                    return (\n                                    <Link to={`/subcategory/${c.slug}`} key={c._id} className=\"col-sm-2 mb-3\"><h6  \n                                    className=\"btn btn-outline-secondary py-2 px-5 \"\n                                    >\n                                        {c.name}</h6></Link>\n                                    )\n                                })\n                           }\n                        </div>\n        \n                </div>\n\n        </>\n    )\n}\nexport default Home;","import React ,{useState,useEffect}from 'react';\nimport {auth} from '../../firebaseConfig'; \nimport {toast}from'react-toastify';\nimport {createOrUpdateUser} from '../../functions/auth';\nimport { useDispatch } from 'react-redux';\nimport * as actionTypes from '../../redux/actionType';\n\nconst RegisterComplete=({history})=>{\n    const [email,setEmail]=useState('');   \n    const [password,setPassword]=useState('');\n    const dispatch=useDispatch();\n\n    useEffect(()=>{\n        setEmail(window.localStorage.getItem('emailForSignIn'));\n    },[])\n\n    const onRegisterHandler=async(e)=>{\n         e.preventDefault();\n        \n         if(!password ||!email){\n            toast.error('please check your email or password');\n            return;\n        }\n\n        if(auth.isSignInWithEmailLink(window.location.href)){\n            \n            let emailFromLocalStroge = window.localStorage.getItem('emailForSignIn'); \n            if (!emailFromLocalStroge) {\n                toast.error('please no email found | please go to email to get link.');\n                return;\n            }\n\n            try{\n\n                await auth.signInWithEmailLink(email, window.location.href);\n                 \n                const user=auth.currentUser;\n                await user.updatePassword(password);\n                let idToken=await user.getIdTokenResult();\n                \n                window.localStorage.removeItem('emailForSignIn');\n\n            createOrUpdateUser(idToken)\n            .then(res=>{\n                // console.log('backend setup success : ',res);\n                dispatch({\n                    type:actionTypes.LOGGED_IN_USER,\n                    payload:{\n                        email:res.data.email,\n                        token:idToken.token,\n                        name:res.data.name,\n                        role:res.data.role,\n                        _id:res.data._id\n                    }\n                })\n            })\n            .catch(error=>{\n                console.log(error.message);\n            })\n\n                history.push('/login');\n\n            }catch(error){\n                toast.error(error.message);\n            }\n        \n         }\n    }\n\n    const RegisterForm=()=>(\n        <form onSubmit={onRegisterHandler}>\n        <input \n        type=\"email\" \n        value={email}\n        className=\"form-control\" \n        disabled\n        />\n        <input \n            type=\"password\" \n            value={password}\n            onChange={e=>setPassword(e.target.value)}\n            className=\"form-control\" \n            placeholder=\"password\" \n            autoFocus\n            />\n        <br/>\n        <button type=\"submit\" className=\"btn btn-raised btn-primary\">Complete Registration</button>\n    </form> \n    )\n\n    return(\n        <div className=\"container p-5\">\n            <div className=\"row\">\n                 <div className=\"col-md-6 offset-md-3\">\n                      <h4>Register Complete</h4>\n                      {RegisterForm()}\n                 </div>\n            </div>\n        </div>\n    )\n}\n\nexport default RegisterComplete;","import React ,{useState,useEffect}from 'react';\nimport { toast } from 'react-toastify';\nimport { auth } from '../../firebaseConfig';\nimport {useSelector} from 'react-redux';\n\nconst ForgotPassword=({history})=>{\n    \n    const [email,setEmail]=useState('');\n    const {user} =useSelector(state=>state)\n\n    useEffect(()=>{\n        if(user){\n            history.push('/');\n        }\n    },[user])\n\n    const onSubmitHandler=(e)=>{\n        e.preventDefault();\n\n        const actionCodeSettings = {\n            url:`/login`,\n            handleCodeInApp:true,\n          };\n\n        auth.sendPasswordResetEmail(email,actionCodeSettings)\n        .then(()=>{\n            toast.success('Please find your email to reset password link');\n        })\n        .catch(error=>{\n            toast.error(error.message);\n        })\n    }\n\n    const ForgotPassword=()=>(\n        <form onSubmit={onSubmitHandler}>\n            <input\n              placeholder=\"enter your email\"\n              className=\"form-control mb-3\"\n              value={email}\n              onChange={e=>setEmail(e.target.value)}\n              autoFocus\n            />\n            <button\n            className=\"btn btn-raised btn-primary\"\n            >submit</button>\n        </form>\n    )\n\n    return(\n        <div className=\"container p-5\">\n            <div className=\"row\">\n               <div className=\"col-md-6 offset-md-3\">\n                    <h4 className=\"text-info\">Forgot password</h4>\n                    {ForgotPassword()}\n               </div>\n            </div>\n        </div>\n    )\n}\n\nexport default ForgotPassword;","import React from 'react';\nimport {Link} from 'react-router-dom';\n\nconst userNav=()=>{\n\n    return(\n        <ul className=\"nav d-flex flex-column\">\n            <li className=\"nav-item \">\n                <Link className=\"nav-link\" to='/user/history'>History</Link>\n            </li>\n            <li className=\"nav-item \">\n                <Link className=\"nav-link\" to='/user/password'>password</Link>\n            </li>\n            <li className=\"nav-item \">\n                <Link className=\"nav-link\" to='/user/wishlist'>wishlist</Link>\n            </li>\n        </ul>\n        \n    )\n}\n\nexport default userNav;","import axios from \"axios\"\n\nexport const userCart=async(cart,authToken)=>{\n   return await axios.post(`/api/user/cart`,{cart},{\n    headers:{\n        token:authToken\n    }\n});\n}\n\nexport const getUserCart=async(authToken)=>{\n    return await axios.get(`/api/user/cart`,{\n     headers:{\n         token:authToken\n     }\n });\n }\n\n export const EmptyCart=async (authToken)=>{\n     return axios.delete(`/api/user/cart/empty`,{\n        headers:{\n            token:authToken\n        }\n     })\n }\n\n export const saveUserAdress=async(adress,authToken)=>{\n    return await axios.post(`/api/user/save/adress`,{adress},{\n     headers:{\n         token:authToken\n     }\n });\n }\n\n export const applyDiscountCoupon=async(name,authToken)=>{\n    return await axios.post(`/api/apply/coupon`,{name},{\n     headers:{\n         token:authToken\n     }\n });\n }\n\n export const createOrder = async (paymentResponse, authToken) =>\n  await axios.post(\n    `/api/user/order`,\n    { paymentResponse },\n    {\n      headers: {\n        token:authToken\n      },\n    }\n  );\n\n  export const getUserOrders = async (authtoken) =>\n  await axios.get(`/api/user/orders`, {\n    headers: {\n      token:authtoken,\n    },\n  });\n\n  //wishlist\n  export const getWishlist = async (authtoken) =>\n  await axios.get(`/api/user/wishlist`, {\n    headers: {\n      token:authtoken,\n    },\n  });\n\nexport const removeWishlist = async (productId, authtoken) =>\n  await axios.put(\n    `/api/user/wishlist/${productId}`,\n    {},\n    {\n      headers: {\n        token:authtoken,\n      },\n    }\n  );\n\nexport const addToWishlist = async (productId, authtoken) =>\n  await axios.post(\n    `/api/user/wishlist`,\n    { productId },\n    {\n      headers: {\n        token:authtoken,\n      },\n    }\n  );\n\n ","import React from \"react\";\r\n\r\nconst ShowPaymentInfo = ({ order, showStatus = true }) =>{\r\n    // console.log(JSON.stringify(order,null,4));\r\n   return (\r\n\r\n    <div>\r\n      <p>\r\n        <span>Order Id: {order.paymentResponse.orderCreationId}</span>\r\n        {\" / \"}\r\n        <span>\r\n          Amount : \r\n          {order.paymentResponse.amount?order.paymentResponse.amount.toLocaleString(\"en-IN\", {style:\"currency\", currency:\"INR\"}):'NA'}\r\n        </span>\r\n        {\" / \"}\r\n        <span>Currency: {order.paymentResponse.currency ? order.paymentResponse.currency :'NA'}</span>\r\n        {\" / \"}\r\n        <span>\r\n          Orderd on : \r\n          {order.paymentResponse.created_at?new Date(order.paymentResponse.created_at * 1000).toLocaleString():'NA'}\r\n        </span>\r\n        {\" / \"}\r\n        <br />\r\n        {showStatus && (\r\n          <span className=\"badge bg-primary text-white\">\r\n            STATUS: {order.orderStatus}\r\n          </span>\r\n        )}\r\n      </p>\r\n    </div>\r\n  );\r\n} \r\n\r\nexport default ShowPaymentInfo;","import React,{ useState, useEffect } from \"react\";\nimport UserNav from '../component/nav/usernav';\nimport { getUserOrders } from \"../../functions/user\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { CheckCircleOutlined, CloseCircleOutlined } from \"@ant-design/icons\";\nimport { toast } from \"react-toastify\";\nimport ShowPaymentInfo from '../component/modal/ShowPaymentInfo';\n\n\nconst History=()=>{\n  \n  const [orders, setOrders] = useState([]);\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    loadUserOrders();\n  }, []);\n\n  const loadUserOrders = () =>\n    getUserOrders(user.token).then((res) => {\n      // console.log(JSON.stringify(res.data, null, 4));\n      setOrders(res.data);\n    });\n\n    const showOrderInTable = (order) => (\n      <table className=\"table table-bordered\">\n        <thead className=\"thead-light\">\n          <tr>\n            <th scope=\"col\">Title</th>\n            <th scope=\"col\">Price</th>\n            <th scope=\"col\">Brand</th>\n            <th scope=\"col\">Color</th>\n            <th scope=\"col\">Count</th>\n            <th scope=\"col\">Shipping</th>\n          </tr>\n        </thead>\n  \n        <tbody>\n          {order.products.map((p, i) => (\n            <tr key={i}>\n              <td>\n                <b>{p.product.title}</b>\n              </td>\n              <td>{p.product.price}</td>\n              <td>{p.product.brand}</td>\n              <td>{p.color}</td>\n              <td>{p.count}</td>\n              <td>\n                {p.product.shipping === \"Yes\" ? (\n                  <CheckCircleOutlined style={{ color: \"green\" }} />\n                ) : (\n                  <CloseCircleOutlined style={{ color: \"red\" }} />\n                )}\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    );\n\n    const showEachOrders = () =>\n    orders.reverse().map((order, i) => (\n      <div key={i} className=\"m-5 p-3 card\">\n        <ShowPaymentInfo order={order} />\n        {showOrderInTable(order)}\n\n      </div>\n    ));\n\n    return(\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n            <div className=\"col-md-2 \">\n                  <UserNav />\n            </div>\n            <div className=\"col text-center\">\n              <h4>\n                {orders.length > 0 ? \"User purchase orders\" : \"No purchase orders\"}\n              </h4>\n              {showEachOrders()}\n            </div>\n        </div>\n      </div>\n    )\n}\n\nexport default History;","import React ,{useEffect,useState}from 'react';\nimport {useHistory}from 'react-router-dom';\n\nconst LoadingToRedirect=()=>{\n    const [counter,setCounter]=useState(5);\n    const history=useHistory();\n\n    useEffect(()=>{\n        if(counter==0){\n           history.push('/login');\n        }\n\n        setTimeout(()=>{\n           setCounter(preCounter=>--preCounter);\n      },1000);\n\n   },[counter])\n\n   return(\n       <div className=\"container p-5\">\n           <p className=\"text-center text-danger\">Redirect to you just in {counter} seconds.</p>\n       </div>\n   )\n}\n\nexport default LoadingToRedirect;","import React from 'react';\nimport {useSelector}from 'react-redux';\nimport {Route}from 'react-router-dom';\nimport LoadingToRedirect from './loadingToRedirect';\n\n\nconst UserRoute=({children,...rest})=>{\n\n    const {user}=useSelector(state=>({...state}));\n   \n\n    return(\n        user && user._id?\n        <Route {...rest} render={()=>children} />\n        :\n        <LoadingToRedirect />\n    )\n}\n\nexport default UserRoute;","import React, { useState, useEffect } from \"react\";\nimport { DeleteOutlined } from \"@ant-design/icons\";\nimport { Link } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport UserNav from '../component/nav/usernav';\nimport { getWishlist, removeWishlist } from \"../../functions/user\";\n\n\n\nconst Wishlist=()=>{\n  \n  const [wishlist, setWishlist] = useState([]);\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    loadWishlist();\n  }, []);\n\n  const loadWishlist = () =>\n    getWishlist(user.token).then((res) => {\n      // console.log(res.data);\n      setWishlist(res.data.wishlist);\n    });\n\n  const handleRemove = (productId) =>\n    removeWishlist(productId, user.token).then((res) => {\n      loadWishlist();\n    });\n\n    return(\n      <div className=\"container-fluid\">\n         <div className=\"row\">\n             <div className=\"col-md-2 \">\n                   <UserNav />\n             </div>\n             <div className=\"col-md-10\">\n                <h4>Wishlist</h4>\n                {wishlist.map((p) => (\n                  <div key={p._id} className=\"alert alert-secondary\">\n                    <Link to={`/product/${p.slug}`}>{p.title}</Link>\n                    <span\n                      onClick={() => handleRemove(p._id)}\n                      className=\"btn btn-sm float-right\"\n                    >\n                      <DeleteOutlined className=\"text-danger\" />\n                    </span>\n                  </div>\n                ))}\n             </div>\n         </div>\n      </div>\n    )\n}\n\nexport default Wishlist;","import React ,{useState}from 'react';\nimport UserNav from '../component/nav/usernav';\nimport {auth}from '../../firebaseConfig'\nimport {toast}from 'react-toastify'\n\nconst Password=()=>{\n\n  const [password,setPassword]=useState('');\n  const [loading,setLoading]=useState(false);\n\n  const onSubmitHandler=async (e)=>{\n    e.preventDefault();\n      setLoading(true);\n\n    await auth.currentUser.updatePassword(password)\n      .then(()=>{\n        toast.success('password updated successfully.')\n        setPassword('')\n        setLoading(false);\n      })\n      .catch(err=>{\n         toast.error(err.message);\n      })\n  }\n  \n   const PasswordForm=()=>(\n     <form onSubmit={onSubmitHandler}>\n       <div className=\"form-group p-1\">\n         <label>your password</label>\n         <input \n          type=\"password\"\n          className=\"form-control\"\n          value={password}\n          onChange={e=>setPassword(e.target.value)}\n          disabled={loading}\n         />\n       </div>\n       <button className=\"btn btn-raised btn-primary\"\n       disabled={!password ||password.length<4||loading}\n       >submit</button>\n     </form>\n   )\n\n    return(\n      <div className=\"container-fluid\">\n         <div className=\"row\">\n             <div className=\"col-md-2 \">\n                   <UserNav />\n             </div>\n             <div className=\"col\">\n                   {\n                     loading?\n                     <h4 className=\"p-1 text-success\">loading...</h4>\n                     :\n                     <h4 className=\"p-1\">Reset Your Password</h4>\n                   }\n                   {PasswordForm()}\n             </div>\n         </div>\n      </div>\n    )\n}\n\nexport default Password;","import React from 'react';\nimport {Link} from 'react-router-dom';\n\nconst AdminNav=()=>{\n\n    return(\n        <ul className=\"nav d-flex flex-column\">\n            <li className=\"nav-item \">\n                <Link className=\"nav-link\" to='/admin/dashboard'>Dashboard</Link>\n            </li>\n            <li className=\"nav-item \">\n                <Link className=\"nav-link\" to='/admin/product'>Product</Link>\n            </li>\n            <li className=\"nav-item \">\n                <Link className=\"nav-link\" to='/admin/products'>Products</Link>\n            </li>\n            <li className=\"nav-item \">\n                <Link className=\"nav-link\" to='/admin/category'>Category</Link>\n            </li>\n            <li className=\"nav-item \">\n                <Link className=\"nav-link\" to='/admin/sub-category/sub'>Sub Category</Link>\n            </li>\n            <li className=\"nav-item \">\n                <Link className=\"nav-link\" to='/admin/coupon'>Coupon</Link>\n            </li>\n            <li className=\"nav-item \">\n                <Link className=\"nav-link\" to='/user/password'>Password</Link>\n            </li>\n        </ul>\n        \n    )\n}\n\nexport default AdminNav;","import axios from \"axios\";\r\n\r\nexport const getOrders = async (authtoken) =>\r\n  await axios.get(`/api/admin/orders`, {\r\n    headers: {\r\n      token:authtoken,\r\n    },\r\n  });\r\n\r\nexport const changeStatus = async (orderId, orderStatus, authtoken) =>\r\n  await axios.put(\r\n    `/api/admin/order-status`,\r\n    { orderId, orderStatus },\r\n    {\r\n      headers: {\r\n        token:authtoken,\r\n      },\r\n    }\r\n  );","import React from \"react\";\r\nimport { CheckCircleOutlined, CloseCircleOutlined } from \"@ant-design/icons\";\r\nimport ShowPaymentInfo from '../modal/ShowPaymentInfo'\r\n\r\nconst Orders = ({ orders, handleStatusChange }) => {\r\n  const showOrderInTable = (order) => (\r\n    <table className=\"table table-bordered\">\r\n      <thead className=\"thead-light\">\r\n        <tr>\r\n          <th scope=\"col\">Title</th>\r\n          <th scope=\"col\">Price</th>\r\n          <th scope=\"col\">Brand</th>\r\n          <th scope=\"col\">Color</th>\r\n          <th scope=\"col\">Count</th>\r\n          <th scope=\"col\">Shipping</th>\r\n        </tr>\r\n      </thead>\r\n\r\n      <tbody>\r\n        {order.products.map((p, i) => (\r\n          <tr key={i}>\r\n            <td>\r\n              <b>{p.product.title}</b>\r\n            </td>\r\n            <td>{p.product.price}</td>\r\n            <td>{p.product.brand}</td>\r\n            <td>{p.color}</td>\r\n            <td>{p.count}</td>\r\n            <td>\r\n              {p.product.shipping === \"Yes\" ? (\r\n                <CheckCircleOutlined style={{ color: \"green\" }} />\r\n              ) : (\r\n                <CloseCircleOutlined style={{ color: \"red\" }} />\r\n              )}\r\n            </td>\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {orders.map((order) => (\r\n        <div key={order._id} className=\"row pb-5\">\r\n          <div className=\"btn btn-block bg-light\">\r\n            <ShowPaymentInfo order={order} showStatus={false} />\r\n\r\n            <div className=\"row\">\r\n              <div className=\"col-md-4\">Delivery Status</div>\r\n              <div className=\"col-md-8\">\r\n                <select\r\n                  onChange={(e) =>\r\n                    handleStatusChange(order._id, e.target.value)\r\n                  }\r\n                  className=\"form-control\"\r\n                  defaultValue={order.orderStatus}\r\n                  name=\"status\"\r\n                >\r\n                  <option value=\"Not Processed\">Not Processed</option>\r\n                  <option value=\"Cash On Delivery\">Cash On Delivery</option>\r\n                  <option value=\"Processing\">Processing</option>\r\n                  <option value=\"Dispatched\">Dispatched</option>\r\n                  <option value=\"Cancelled\">Cancelled</option>\r\n                  <option value=\"Completed\">Completed</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {showOrderInTable(order)}\r\n        </div>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Orders;","import React,{useEffect,useState} from 'react';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport AdminNav from '../component/nav/adminav';\nimport { getOrders, changeStatus } from \"../../functions/admin\";\nimport Orders from '../component/order/orders';\n\nconst AdminDashboard=()=>{\n\n    const [orders, setOrders] = useState([]);\n    const { user } = useSelector((state) => ({ ...state }));\n  \n    useEffect(() => {\n      loadOrders();\n    }, []);\n  \n    const loadOrders = () =>\n      getOrders(user.token).then((res) => {\n        console.log(JSON.stringify(res.data, null, 4));\n        setOrders(res.data);\n      });\n  \n    const handleStatusChange = (orderId, orderStatus) => {\n      changeStatus(orderId, orderStatus, user.token).then((res) => {\n        toast.success(\"Status updated\");\n        loadOrders();\n      });\n    };\n\n    return(\n      <div className=\"container-fluid\">\n      <div className=\"row\">\n          <div className=\"col-md-2 \">\n            <AdminNav />\n          </div>\n          <div className=\"col-md-10\">\n          <h4>Admin Dashboard</h4>\n          <Orders orders={orders} handleStatusChange={handleStatusChange} />\n        </div>\n      </div>\n   </div>\n    )\n}\n\nexport default AdminDashboard;","import React ,{useEffect,useState}from 'react';\nimport {useSelector}from 'react-redux';\nimport {Route}from 'react-router-dom';\nimport { currentAdmin } from '../../../functions/auth';\nimport LoadingToRedirect from './loadingToRedirect';\n\n\n\nconst AdminRoute=({children,...rest})=>{\n\n    const {user}=useSelector(state=>({...state}));\n    const [ok,setOk]=useState(false);\n\n   useEffect(()=>{\n       if(user && user.token){\n        currentAdmin(user.token)\n            .then(res=>{\n                setOk(true);\n            })\n            .catch(error=>{\n                console.log(error.message);\n            })\n       }\n    \n   },[user])\n\n    return(\n        ok?\n        <Route {...rest} />\n        :\n        <LoadingToRedirect />\n    )\n}\n\nexport default AdminRoute;","import React from 'react';\n\nconst CategoryForm=({category,setCategory,handleSubmit})=>(<form onSubmit={handleSubmit} className=\"mb-4\">\n<input \nclassName=\"form-control\"\nautoFocus\nonChange={e=>setCategory(e.target.value)}\nvalue={category}\nplaceholder=\"category\"\ntype=\"text\"\nrequired\n/>\n<br />\n<button className=\"btn btn-outline-primary\">create/update</button>\n</form>)\n\nexport default CategoryForm;","import React from 'react';\n\nconst LocalSearch=({keyword,setKeyword})=>(\n    <form>\n        <input \n           value={keyword}\n           onChange={(e)=>setKeyword(e.target.value.toLowerCase())}\n           className=\"form-control\"\n           placeholder=\"search\"\n        />\n    </form>\n)\n\nexport default LocalSearch;","import React,{useState,useEffect} from 'react';\nimport AdminNav from '../../component/nav/adminav';\nimport {useSelector} from 'react-redux'\nimport {createCategory,upadteCategory,removeCategory,getCategories,getCategory} from '../../../functions/category'\nimport { toast } from 'react-toastify';\nimport { DeleteOutlined,EditOutlined} from '@ant-design/icons';\nimport { Link } from 'react-router-dom';\nimport CategoryForm from '../../component/forms/categoryForm';\nimport LocalSearch from '../../component/forms/localSearch';\n\n\n\nconst AdminCategory=()=>{\n\n    const [category,setCategory]=useState('');\n    const [loading,setLoading]=useState(false);\n    const [categories,setCategories]=useState([]);\n    const {user}=useSelector(state=>state);\n    const [keyword,setKeyword]=useState('');\n    // console.log(user.token);\n\n    useEffect(()=>{\n        \n        loadCategories();\n\n        return ()=>{\n            setCategories([]);\n        }\n    },[])\n\n    \n\n    const loadCategories=()=>{\n        // console.log('loadcategory')\n        getCategories()\n        .then(res=>{\n            console.log(res.data);\n            setCategories(res.data);\n        })\n        .catch(error=>{\n            console.log(error.response);\n        })\n    }\n\n\n    const handleSubmit=(e)=>{\n        e.preventDefault();\n        setLoading(true)\n        createCategory(category,user.token)\n        .then(res=>{\n           setCategory('');\n           setLoading(false)\n           toast.success(`${res.data.name} is created`)\n           loadCategories();\n        })\n        .catch(error=>{\n            setLoading(false);\n            toast.error(error.response.data);\n        })\n    }\n\n    const deleteCategory=(slug)=>{\n        // console.log('under delete category '+user.token);\n        if(window.confirm(`are you sure you wanna delete ${slug}`)){setLoading(true);\n        removeCategory(slug,user.token)\n        .then(res=>{\n        //    console.log(res.data);\n           setLoading(false)\n           toast.success(res.data.result);\n           loadCategories();\n        })\n        .catch(error=>{\n            setLoading(false);\n            toast.error(error);\n        });}\n    }\n\n\n    return(\n      <div className=\"container-fluid\">\n      <div className=\"row\">\n          <div className=\"col-md-2 \">\n                <AdminNav />\n          </div>\n          <div className=\"col mt-5\">\n                <h4>Create Category</h4>\n                <CategoryForm \n                category={category}\n                setCategory={setCategory}\n                handleSubmit={handleSubmit}\n                />\n                <hr />\n                <LocalSearch\n                  keyword={keyword}\n                  setKeyword={setKeyword}\n                />\n                {categories.filter(c=>c.name.toLowerCase().includes(keyword)).map(data=>(\n                    <div \n                    key={data._id}\n                    className=\"alert alert-secondary\"\n                    >\n                      {data.name}\n                      <span \n                      className=\"float-right\"\n                      onClick={()=>deleteCategory(data.slug)}\n                      >\n                          <DeleteOutlined className=\"text-danger btn\" />\n                      </span>\n                      <span className=\"float-right\">\n                         <Link to={`/admin/category/${data.slug}`}>    <EditOutlined className='text-warning btn'/>\n                         </Link>\n                      </span>\n                    </div>\n                ))}\n          </div>\n      </div>\n   </div>\n    )\n}\n\nexport default AdminCategory;","import React,{useState,useEffect} from 'react';\nimport AdminNav from '../../component/nav/adminav';\nimport {useSelector} from 'react-redux'\nimport {upadteCategory,getCategory} from '../../../functions/category'\nimport { toast } from 'react-toastify';\nimport { useParams } from 'react-router-dom';\nimport CategoryForm from '../../component/forms/categoryForm';\n\n\n\n\nconst UpdateCategory=({match,history})=>{\n\n    const [category,setCategory]=useState('');\n    const [loading,setLoading]=useState(false);\n    const {user}=useSelector(state=>state);\n    const {slug}=useParams();\n    // console.log(user.token);\n\n    useEffect(()=>{\n        // console.log(match.params.slug);\n        loadCategory();\n    },[])\n\n    const loadCategory=()=>{\n        setLoading(true)\n        getCategory(slug)\n        .then(res=>{\n            // console.log(res.data);\n            setCategory(res.data.categoryResult.name);\n            setLoading(false);\n        })\n        .catch(error=>{\n            console.log(error.response);\n            setLoading(false);\n        })\n    }\n\n    const handleSubmit=(e)=>{\n        e.preventDefault();\n        setLoading(true)\n        upadteCategory(slug,category,user.token)\n        .then(res=>{\n           setCategory('');\n           setLoading(false)\n           toast.success(`${slug} is updated`)\n           history.push('/admin/category');\n        })\n        .catch(error=>{\n            setLoading(false);\n            toast.error(error.response.data);\n        })\n    }\n\n    \n    return(\n      <div className=\"container-fluid\">\n      <div className=\"row\">\n          <div className=\"col-md-2 \">\n                <AdminNav />\n          </div>\n          <div className=\"col mt-5\">\n                {\n                    loading?\n                    <h4 className=\"text-primary\">Loading...</h4>\n                    :<h4>Update Category</h4>\n                }\n                <CategoryForm \n                category={category}\n                setCategory={setCategory}\n                handleSubmit={handleSubmit}\n                />\n          </div>\n      </div>\n   </div>\n    )\n}\n\nexport default UpdateCategory;","import React,{useState,useEffect} from 'react';\nimport AdminNav from '../../component/nav/adminav';\nimport {useSelector} from 'react-redux'\nimport {createSubCategory,getSubCategories,removeSubCategory} from '../../../functions/subCategory'\nimport {getCategories}from '../../../functions/category'\nimport { toast } from 'react-toastify';\nimport { DeleteOutlined,EditOutlined} from '@ant-design/icons';\nimport { Link } from 'react-router-dom';\nimport CategoryForm from '../../component/forms/categoryForm';\nimport LocalSearch from '../../component/forms/localSearch';\n\n\n\nconst AdminCategory=()=>{\n\n    const [category,setCategory]=useState('');\n    const [categories,setCategories]=useState([]);\n    const [loading,setLoading]=useState(false);\n    const [subCategories,setSubCategories]=useState([]);\n    const {user}=useSelector(state=>state);\n    const [keyword,setKeyword]=useState('');\n    const [parent,setParent]=useState('');\n    // console.log(user.token);\n\n    useEffect(()=>{\n        \n        loadCategories();\n        loadSubCategories();\n\n    },[])\n\n    \n\n    const loadSubCategories=()=>{\n        // console.log('loadcategory')\n        getSubCategories()\n        .then(res=>{\n            console.log(res.data);\n            setSubCategories(res.data);\n        })\n        .catch(error=>{\n            console.log(error.response);\n        })\n    }\n\n    const loadCategories=()=>{\n      // console.log('loadcategory')\n      getCategories()\n      .then(res=>{\n          console.log(res.data);\n          setCategories(res.data);\n      })\n      .catch(error=>{\n          console.log(error.response);\n      })\n  }\n\n\n    const handleSubmit=(e)=>{\n        e.preventDefault();\n        setLoading(true)\n        createSubCategory(category,parent,user.token)\n        .then(res=>{\n           setCategory('');\n           setLoading(false)\n           toast.success(`${res.data.name} is created`)\n           loadSubCategories();\n        })\n        .catch(error=>{\n            setLoading(false);\n            toast.error(error.response.data);\n        })\n    }\n\n    const deleteCategory=(slug)=>{\n        // console.log('under delete category '+user.token);\n        if(window.confirm(`are you sure you wanna delete ${slug}`)){setLoading(true);\n        removeSubCategory(slug,user.token)\n        .then(res=>{\n        //    console.log(res.data);\n           setLoading(false)\n           toast.success(res.data.result);\n           loadSubCategories();\n        })\n        .catch(error=>{\n            setLoading(false);\n            toast.error(error);\n        });}\n    }\n\n\n\n    return(\n      <div className=\"container-fluid\">\n      <div className=\"row\">\n          <div className=\"col-md-2 \">\n                <AdminNav />\n          </div>\n          <div className=\"col mt-5\">\n                <h4>Create Sub Category</h4>\n                <select className=\"form-control pl-2\" \n                onChange={e=>setParent(e.target.value)}\n                >\n                    <option>please select one parent</option>\n                    {categories.map(c=>(\n                      <option  value={c._id} key={c._id}>{c.name}</option>\n                    ))}\n                </select>\n                \n                <br />\n                <CategoryForm \n                category={category}\n                setCategory={setCategory}\n                handleSubmit={handleSubmit}\n                />\n                <hr />\n                <LocalSearch\n                  keyword={keyword}\n                  setKeyword={setKeyword}\n                />\n                {subCategories.filter(c=>c.name.toLowerCase().includes(keyword)).map(data=>(\n                    <div \n                    key={data._id}\n                    className=\"alert alert-secondary\"\n                    >\n                      {data.name}\n                      <span \n                      className=\"float-right\"\n                      onClick={()=>deleteCategory(data.slug)}\n                      >\n                          <DeleteOutlined className=\"text-danger btn\" />\n                      </span>\n                      <span className=\"float-right\">\n                         <Link to={`/admin/sub-category/sub/${data.slug}`}>    <EditOutlined className='text-warning btn'/>\n                         </Link>\n                      </span>\n                    </div>\n                ))}\n          </div>\n      </div>\n   </div>\n    )\n}\n\nexport default AdminCategory;","import React,{useState,useEffect} from 'react';\nimport AdminNav from '../../component/nav/adminav';\nimport {useSelector} from 'react-redux'\nimport {getSubCategory,upadteSubCategory} from '../../../functions/subCategory'\nimport {getCategories}from '../../../functions/category'\nimport { toast } from 'react-toastify';\nimport { useParams } from 'react-router-dom';\nimport CategoryForm from '../../component/forms/categoryForm';\nimport { CheckOutlined} from '@ant-design/icons';\n\n\n\n\nconst UpdateSubCategory=({match,history})=>{\n\n    const [subCategory,setSubCategory]=useState('');\n    const [categories,setCategories]=useState([]);\n    const [loading,setLoading]=useState(false);\n    const [parent,setParent]=useState('');\n    const {user}=useSelector(state=>state);\n    const {slug}=useParams();\n    // console.log(user.token);\n\n    useEffect(()=>{\n        // console.log(match.params.slug);\n        loadSubCategory();\n        loadCategories();\n    },[])\n\n    const loadSubCategory=()=>{\n        setLoading(true)\n        getSubCategory(slug)\n        .then(res=>{\n            console.log(res.data);\n            setSubCategory(res.data.categorySubResult.name);\n            setParent(res.data.categorySubResult.parent);\n            setLoading(false);\n        })\n        .catch(error=>{\n            console.log(error.response);\n            setLoading(false);\n        })\n    }\n\n\n    const loadCategories=()=>{\n        // console.log('loadcategory')\n        getCategories()\n        .then(res=>{\n            // console.log(res.data);\n            setCategories(res.data);\n        })\n        .catch(error=>{\n            console.log(error.response);\n        })\n    }\n\n    const handleSubmit=(e)=>{\n        e.preventDefault();\n        setLoading(true)\n        upadteSubCategory(slug,subCategory,parent,user.token)\n        .then(res=>{\n           setSubCategory('');\n           setLoading(false)\n           toast.success(`${slug} is updated`)\n           history.push('/admin/sub-category/sub');\n        })\n        .catch(error=>{\n            setLoading(false);\n            toast.error(error.response.data);\n        })\n    }\n\n    \n    return(\n      <div className=\"container-fluid\">\n      <div className=\"row\">\n          <div className=\"col-md-2 \">\n                <AdminNav />\n          </div>\n          <div className=\"col mt-5\">\n                {\n                    loading?\n                    <h4 className=\"text-primary\">Loading...</h4>\n                    :<h4>Update Sub Category</h4>\n                }\n\n             <select className=\"form-control pl-2\" \n                value={parent}\n                onChange={e=>setParent(e.target.value)}\n                >\n                    <option>please select one parent</option>\n                    {categories.map(c=>(\n                      <option  value={c._id} key={c._id} selected={parent===c._id} >{c.name}</option>\n                    ))}\n                </select>\n               <br />\n               \n                <CategoryForm \n                category={subCategory}\n                setCategory={setSubCategory}\n                handleSubmit={handleSubmit}\n                />\n          </div>\n      </div>\n   </div>\n    )\n}\n\nexport default UpdateSubCategory;","import React from 'react';\nimport { Select } from 'antd';\nconst { Option } = Select;\n\nconst ProductForm=({onSubmitHandler,onChangeHandler,values,onCategoryChangeHandler,setValues,subs})=>{\n\n    const {\n        title,description,price,category,subCategory,quantity,images,\n        shipping,color,brand,colors,brands,categories\n    }=values;\n\n    // console.log('from ',subs)\n\n    return(\n        <form onSubmit={onSubmitHandler}>\n                       <div className=\"form-group\">\n                           <label className=\"form-label\">Title</label>\n                           <input\n                           className=\"form-control\"\n                           type=\"text\"\n                           name=\"title\"\n                           value={title}\n                        //    onChange={e=>setValues({...values,[e.target.name]:e.target.value})}\n                            onChange={onChangeHandler}\n                           />\n                       </div>\n                       <div className=\"form-group\">\n                           <label className=\"form-label\">Description</label>\n                           <input\n                           className=\"form-control\"\n                           type=\"text\"\n                           name=\"description\"\n                           value={description}\n                            onChange={onChangeHandler}\n                           />\n                       </div>\n                       <div className=\"form-group\">\n                           <label className=\"form-label\">Price</label>\n                           <input\n                           className=\"form-control\"\n                           type=\"number\"\n                           name=\"price\"\n                           value={price}\n                            onChange={onChangeHandler}\n                           />\n                       </div>\n                       <div className=\"form-group\">\n                           <label className=\"form-label\">Category</label>\n                           <select className=\"form-control\"\n                           name=\"category\"\n                           onChange={onCategoryChangeHandler}>\n                               <option>please select one</option>\n                               {categories.map(c=>(\n                                   <option key={c._id} value={c._id}>\n                                       {c.name}\n                                   </option>\n                               ))}\n                           </select>\n                       </div>\n\n                    {subs.length>0?<div className=\"form-group\">\n                        <label>sub-category</label>\n                            <Select\n                                mode=\"multiple\"\n                                style={{ width: '100%' }}\n                                placeholder=\"Please select\"\n                                onChange={(value)=>{\n                                    setValues({...values,subCategory:value})\n                                }}\n                                >\n                                {\n                                    subs.map(sub=>(\n                                        <Option key={sub._id} value={sub._id}>{sub.name}</Option>\n                                    ))\n                                }\n                            </Select>\n                    </div>:null}\n                    <br />\n\n                       <div className=\"form-group\">\n                           <label className=\"form-label\">quantity</label>\n                           <input\n                           className=\"form-control\"\n                           type=\"number\"\n                           name=\"quantity\"\n                           value={quantity}\n                            onChange={onChangeHandler}\n                           />\n                       </div>\n\n                       <div className=\"form-group\">\n                           <label className=\"form-label\">Color</label>\n                           <select className=\"form-control\"\n                           name=\"color\"\n                           onChange={onChangeHandler}>\n                               <option>please select one</option>\n                               {colors.map((c,index)=>(\n                                   <option key={index} value={c}>\n                                       {c}\n                                   </option>\n                               ))}\n                           </select>\n                       </div>\n\n                       <div className=\"form-group\">\n                           <label className=\"form-label\">Brand</label>\n                           <select className=\"form-control\"\n                           name=\"brand\"\n                           onChange={onChangeHandler}>\n                               <option>please select one</option>\n                               {brands.map((c,index)=>(\n                                   <option key={index} value={c}>\n                                       {c}\n                                   </option>\n                               ))}\n                           </select>\n                       </div>\n\n                       <div className=\"form-group\">\n                           <label className=\"form-label\">Shipping</label>\n                           <select className=\"form-control\"\n                           name=\"shipping\"\n                           onChange={onChangeHandler}>\n                               <option>please select shipping option !</option>\n                               <option value=\"No\">No</option>\n                               <option value=\"Yes\">Yes</option>\n                           </select>\n                       </div>\n\n                       <button className=\"btn btn-outline-info\">save</button>\n                       \n                   </form>\n    )\n}\n\nexport default ProductForm;","import axios from 'axios';\n\nexport const uploadImage=async(image,token)=>{\n    return await axios.post(`/api/uploadImage`,{image},{\n        headers:{\n            token:token\n        }\n    })\n}\n\nexport const removeProduct=async(public_id,token)=>{\n\n    return await axios.post(`/api/removeImage`,{public_id},{\n        headers:{\n            token:token\n        }\n    })\n}","import React ,{useState,useEffect}from 'react';\nimport { CloudUploadOutlined} from '@ant-design/icons';\nimport Resizer from \"react-image-file-resizer\";\nimport {uploadImage , removeProduct} from '../../../functions/cloudinary'\nimport {useSelector} from 'react-redux';\nimport { Avatar, Badge } from 'antd';\n\nconst UploadImageForm=({values,setValues})=>{\n\n    const {user}=useSelector(state=>state);\n    const [imgDetails,setImgDetails]=useState([]);\n\n    useEffect(()=>{\n        console.log('image folder ',values);\n        setImgDetails(values.images);\n    },[values.images])\n\n    const fileUploadAndResize=(e)=>{\n        const files=e.target.files;\n        // const fileResponseUrl=[];\n        // const imageResponseDetails=[];\n\n        if(files){\n            for(let i=0;i<files.length;i++){\n            \n            //resize start\n                Resizer.imageFileResizer(\n                    files[i], 720,720,'JPEG',100,0,\n                    (uri)=>{\n                        \n                        uploadImage(uri,user.token)\n                       .then((res)=>{\n                        //    console.log(res.data);\n                        //    fileResponseUrl.push(res.data.url);\n                        //    imageResponseDetails.push(res.data);\n                           setValues(values=>({...values,images:[...values.images,res.data]}));\n                           setImgDetails(pre=>[...pre,res.data]);\n                       })\n                       .catch(err=>{\n                           console.log(err);\n                       })\n                    },\n                    \"base64\"\n                )\n            //resize done\n\n            }\n        }\n        \n    }\n\n    const removeImageHandler=(public_id)=>{\n        // console.log(public_id);\n        removeProduct(public_id,user.token)\n        .then(res=>{\n            const newImageDetails=imgDetails.filter(c=>c.public_id!==public_id)\n            setImgDetails(newImageDetails);\n            setValues({...values,images:newImageDetails});\n            // console.log(res.data);\n        })\n        .catch(err=>{\n            console.log(err);\n        })\n    }\n\n    console.log('image folder only image',imgDetails);\n\n    return(\n        <>\n           <div>\n                {imgDetails.map(i=>(\n                    <Badge className='mr-3' style={{cursor:'pointer'}} onClick={()=>removeImageHandler(i.public_id)} key={i.public_id} count={'x'}>\n                    <Avatar \n                    size={120}\n                    shape=\"square\"\n                     src={i.url} />\n                </Badge>\n                ))}\n           </div>\n           <br/>\n            <div className=\"row\">\n            <label className=\"ml-3 btn btn-outline-primary\">\n                <CloudUploadOutlined \n                className=\"text-dark pr-2\"\n                style={{fontSize:\"20px\"}}\n                />\n                image\n                <input \n                type=\"file\"\n                multiple\n                hidden\n                accept=\"image/*\"\n                onChange={fileUploadAndResize}\n                />\n            </label>\n            </div>\n        </>\n    )\n}\n\nexport default UploadImageForm;","import React,{useState,useEffect} from 'react';\nimport AdminNav from '../../component/nav/adminav';\nimport {createProduct} from '../../../functions/product';\nimport {getCategories,getSubsByParent}from '../../../functions/category'\nimport {useSelector} from 'react-redux';\nimport ProductForm from '../../component/forms/productForm';\nimport UploadImageForm from '../../component/forms/imageForm';\n\n\nconst initialState={\n    title:'',\n    description:'',\n    price:'',\n    category:'',\n    categories:[],\n    subCategory:[],\n    quantity:'',\n    images:[],\n    shipping:'',\n    color:'',\n    brand:'',\n    colors:[\"Black\",\"Brown\",\"Silver\",\"White\",\"Blue\"],\n    brands:[\"Apple\",\"Lenovo\",\"Dell\",\"Samsung\",\"Asus\",\"Microsoft\"]\n}\n\nconst ProductCreate=()=>{\n\n//state\nconst [values,setValues]=useState(initialState);\nconst [subs,setSubs]=useState([]);\nconst {user}=useSelector(state=>state);\n\n// destucture values\nconst {categories,category}=values;\n\nuseEffect(()=>{\n   loadCategories();\n},[])\n\nconst loadCategories=()=>{\n    // console.log('loadcategory')\n    getCategories()\n    .then(res=>{\n        setValues({...values,categories:res.data});\n    })\n    .catch(error=>{\n        console.log(error.response);\n    })\n}\n\nconst onCategoryChangeHandler=async(e)=>{\n    e.preventDefault();\n    setValues({...values,[e.target.name]:e.target.value})\n    getSubsByParent(e.target.value)\n    .then(res=>{\n        // console.log(res.data);\n        setSubs(res.data);\n    })\n    .catch(err=>{\n        console.log(err);\n    });\n\n    setSubs([]);\n}\n\n\nconst onChangeHandler=(e)=>{\n   setValues({...values,[e.target.name]:e.target.value});\n}\n\nconst onSubmitHandler=async (e)=>{\n    e.preventDefault();\n    createProduct(values,user.token)\n    .then(res=>{\n        // console.log(res.data);\n        window.alert(`${res.data.title} is created`);\n        window.location.reload();\n    })\n    .catch(error=>{\n        console.log(error)\n    });\n    \n}\n\nconsole.log(values)\n\n\n    return(\n        <div className=\"container-fluid\">\n            <div className=\"row mt-2\">\n                <div className=\"col-md-2 \">\n                        <AdminNav />\n                </div>\n                <div className=\"mt-2 col-md-8 offset-md-1\">\n                   <h4>Product Create</h4>\n                   <hr />\n                   <UploadImageForm \n                    values={values}\n                    setValues={setValues}\n                   />\n                   <br />\n                   <ProductForm \n                   setValues={setValues}\n                   values={values}\n                   subs={subs}\n                   onSubmitHandler={onSubmitHandler}\n                   onChangeHandler={onChangeHandler}\n                   onCategoryChangeHandler={onCategoryChangeHandler}\n                   />\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default ProductCreate;","import React from 'react';\nimport { Card } from 'antd';\nimport laptop from '../../../images/laptop.jpeg';\nimport { DeleteOutlined,EditOutlined} from '@ant-design/icons';\nimport {Link} from 'react-router-dom';\n\n\nconst {Meta} =Card;\n\n\n\nconst ProductCard=({product,removeProductHandler})=>{\n\n    const {images,title,description}=product;\n\n\n    return(\n        <>\n        <Card\n        hoverable\n        className=\"mb-3\"\n        cover={\n        <img \n        alt=\"laptop_img\" src={images.length ?images[0].url:laptop} />\n         }\n         style={{height:'350px',objectFit:'cover'}}\n        actions={[\n           <Link to={`/admin/product/${title}`}>\n              <EditOutlined \n                className=\"text-warning\"\n                key=\"edit\" \n                \n                />\n           </Link>\n           ,\n           <DeleteOutlined \n           className=\"text-danger\"\n           key=\"delete\" \n           onClick={()=>removeProductHandler(product.title)}\n           />\n        ]}\n        >\n            <Meta title={title} description={description.length>50 ?description.substr(0,50).concat('...'):description} />\n        </Card>\n        </>\n    )\n}\n\nexport default ProductCard;","import React,{useEffect,useState} from 'react';\nimport {getAllProducts,removeProduct} from '../../../functions/product'\nimport AdminNav from '../../component/nav/adminav';\nimport ProductCard from '../../component/product/productCard';\nimport {useSelector} from 'react-redux';\n\n\nconst Products=()=>{\n\n    const [products,setProducts]=useState([]);\n    const [loading,setLoading]=useState(false);\n\n    const {user}=useSelector(state=>state);\n\n    useEffect(()=>{\n        loadAllProducts();\n    },[])\n\n    const loadAllProducts=()=>{\n        setLoading(true);\n\n        getAllProducts(10)\n        .then(res=>{\n            console.log(res.data);\n            setProducts(res.data);\n            setLoading(false);\n        })\n        .catch(err=>{\n            setLoading(false);\n            console.log(err);\n        })\n    }\n\n    const removeProductHandler=(slug)=>{\n     \n        \n        if(window.confirm('delete ?')){\n           \n            removeProduct(slug,user.token)\n            .then(res=>{\n                console.log(res.data);\n                loadAllProducts();\n            })\n            .catch(err=>{\n                console.log(err);\n            }) \n\n        }\n        \n    }\n      \n    return (\n        <div className=\"container-fluid\">\n            <div className=\"row mt-2\">\n                <div className=\"col-md-2 \">\n                        <AdminNav />\n                </div>\n                <div className=\"col-md-8\">\n                    <h4>All Products</h4>\n                    <hr />\n                      <div className=\"row\">\n                      {\n                          products.map(product=>(\n                              <div className=\"col-md-4\" key={product._id}>\n                                  <ProductCard \n                                  product={product} \n                                  removeProductHandler={removeProductHandler} />\n                              </div>\n                          ))\n                      }\n                      </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Products;","import React,{useEffect} from 'react';\nimport { Select } from 'antd';\nconst { Option } = Select;\n\nconst ProductUpdateForm=({onSubmitHandler,onChangeHandler,onCategoryChangeHandler,subs,values,setValues})=>{\n\n    const {\n        title,description,price,category,subCategory,quantity,images,\n        shipping,color,brand,colors,brands,categories\n    }=values;\n\n    \n\n    useEffect(()=>{\n        \n    },[])\n    \n\n    return(\n        <form onSubmit={onSubmitHandler}>\n                       <div className=\"form-group\">\n                           <label className=\"form-label\">Title</label>\n                           <input\n                           className=\"form-control\"\n                           type=\"text\"\n                           name=\"title\"\n                           value={title}\n                        //    onChange={e=>setValues({...values,[e.target.name]:e.target.value})}\n                            onChange={onChangeHandler}\n                           />\n                       </div>\n                       <div className=\"form-group\">\n                           <label className=\"form-label\">Description</label>\n                           <input\n                           className=\"form-control\"\n                           type=\"text\"\n                           name=\"description\"\n                           value={description}\n                            onChange={onChangeHandler}\n                           />\n                       </div>\n                       <div className=\"form-group\">\n                           <label className=\"form-label\">Price</label>\n                           <input\n                           className=\"form-control\"\n                           type=\"number\"\n                           name=\"price\"\n                           value={price}\n                            onChange={onChangeHandler}\n                           />\n                       </div>\n                \n\n                       <div className=\"form-group\">\n                           <label className=\"form-label\">quantity</label>\n                           <input\n                           className=\"form-control\"\n                           type=\"number\"\n                           name=\"quantity\"\n                           value={quantity}\n                            onChange={onChangeHandler}\n                           />\n                       </div>\n\n                       <div className=\"form-group\">\n                           <label className=\"form-label\">Color</label>\n                           <select className=\"form-control\"\n                           name=\"color\"\n                           value={color}\n                           onChange={onChangeHandler}>\n                               <option>please select one</option>\n                               {colors.map((c,index)=>(\n                                   <option key={index} value={c}>\n                                       {c}\n                                   </option>\n                               ))}\n                           </select>\n                       </div>\n\n                       <div className=\"form-group\">\n                           <label className=\"form-label\">Category</label>\n                           <select className=\"form-control\"\n                           name=\"category\"\n                           value={category}\n                           onChange={onCategoryChangeHandler}\n                           >\n                               <option>please select one</option>\n                               {categories.map(c=>(\n                                   <option key={c._id} value={c._id}>\n                                       {c.name}\n                                   </option>\n                               ))}\n                           </select>\n                       </div>\n\n                       <div className=\"form-group\">\n                        <label>sub-category</label>\n                            <Select\n                                mode=\"multiple\"\n                                style={{ width: '100%' }}\n                                placeholder=\"Please select\"\n                                onChange={(value)=>{\n                                    setValues({...values,subCategory:value})\n                                }}\n                                value={subCategory}\n                                >\n                                {\n                                    subs.map(sub=>(\n                                        <Option key={sub._id} value={sub._id}>{sub.name}</Option>\n                                    ))\n                                }\n                            </Select>\n                    </div>\n\n                       <div className=\"form-group\">\n                           <label className=\"form-label\">Brand</label>\n                           <select className=\"form-control\"\n                           name=\"brand\"\n                           value={brand}\n                           onChange={onChangeHandler}>\n                               <option>please select one</option>\n                               {brands.map((c,index)=>(\n                                   <option key={index} value={c}>\n                                       {c}\n                                   </option>\n                               ))}\n                           </select>\n                       </div>\n\n                       <div className=\"form-group\">\n                           <label className=\"form-label\">Shipping</label>\n                           <select className=\"form-control\"\n                           name=\"shipping\"\n                           value={shipping}\n                           onChange={onChangeHandler}>\n                               <option>please select shipping option !</option>\n                               <option value=\"No\">No</option>\n                               <option value=\"Yes\">Yes</option>\n                           </select>\n                       </div>\n\n                       <button className=\"btn btn-outline-info\">save</button>\n                       \n                   </form>\n    )\n}\n\nexport default ProductUpdateForm;","import React,{useState,useEffect} from 'react';\nimport AdminNav from '../../component/nav/adminav';\nimport {useSelector} from 'react-redux'\nimport { toast } from 'react-toastify';\nimport ProductUpdateForm from '../../component/forms/productUpdateForm';\nimport {getProductBySlug,updateProduct}from '../../../functions/product'\nimport {getCategories,getSubsByParent}from '../../../functions/category'\nimport UploadImageForm from '../../component/forms/imageForm';\n\n\nconst initialState={\n    title:'',\n    description:'',\n    price:'',\n    category:'',\n    categories:[],\n    subCategory:[],\n    quantity:'',\n    images:[],\n    shipping:'',\n    color:'',\n    brand:'',\n    colors:[\"Black\",\"Brown\",\"Silver\",\"White\",\"Blue\"],\n    brands:[\"Apple\",\"Lenovo\",\"Dell\",\"Samsung\",\"Asus\",\"Microsoft\"]\n}\n\n\n\nconst Productupdate=({match,history})=>{\n\n    const [values,setValues]=useState(initialState);\n    const {user}=useSelector(state=>state);\n    const {slug}=match.params;\n    const [subs,setSubs]=useState([]);\n\n    useEffect(()=>{\n       loadProduct();\n       loadCategories();\n    },[])\n\n    const loadProduct=()=>{\n\n        getProductBySlug(slug)\n        .then(res=>{\n            setValues(values=>({...values,...res.data[0]}));\n            \n            getSubsByParent(res.data[0].category)\n            .then(res=>{\n                // console.log(res.data);\n                setSubs(res.data);\n            })\n            .catch(err=>{\n                console.log(err);\n            })\n\n        })\n        .catch(err=>{\n            console.log(err);\n        })\n    }\n\n    const loadCategories=()=>{\n        getCategories()\n        .then(res=>{\n        //    console.log(res.data);\n          setValues(values=>({...values,categories:res.data}));\n        })\n        .catch(err=>{\n            console.log(err);\n        })\n    }\n  \n    const onSubmitHandler=(e)=>{\n        e.preventDefault();\n        //todo\n        updateProduct(slug,values,user.token)\n        .then(res=>{\n           \n            // console.log(res.data);\n            toast.success('product update successfully.')\n            \n            history.push('/admin/products');\n         \n            \n        })\n        .catch(err=>{\n            console.log(err);\n        })\n    }\n\n    const onChangeHandler=(e)=>{\n\n         setValues({...values,[e.target.name]:e.target.value})\n    }\n\n    const onCategoryChangeHandler=async(e)=>{\n        e.preventDefault();\n        setValues({...values,[e.target.name]:e.target.value,subCategory:[]})\n        getSubsByParent(e.target.value)\n        .then(res=>{\n            setSubs(res.data);\n        })\n        .catch(err=>{\n            console.log(err);\n        });\n    \n        setSubs([]);\n    }\n\n    console.log('product update ',values);\n\n\n    return(\n      <div className=\"container-fluid\">\n      <div className=\"row\">\n          <div className=\"col-md-2 \">\n                <AdminNav />\n          </div>\n          <div className=\"col\">\n                <br/>\n                <h4>Product Update</h4>\n                <hr />\n                <UploadImageForm \n                values={values}\n                setValues={setValues}\n                />\n                <br />\n                <ProductUpdateForm \n                onSubmitHandler={onSubmitHandler}\n                onChangeHandler={onChangeHandler}\n                values={values}\n                subs={subs}\n                setValues={setValues}\n                onCategoryChangeHandler={onCategoryChangeHandler}\n                />\n          </div>\n      </div>\n   </div>\n    )\n}\n\nexport default Productupdate;","import React from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\nimport { Carousel } from 'react-responsive-carousel';\nimport { Tabs } from 'antd';\n\nconst { TabPane } = Tabs;\n\n\n\nconst ImageCarousel=({product})=>{\n        const {images,description}=product;\n     \n    return (\n       <>\n          <Carousel\n            autoPlay={true}\n            infiniteLoop={true}\n            >\n                {\n                    images.map(image=>(\n                        <img\n                            src={image.url}\n                            key={image.public_id}\n                        />\n                    ))\n                }\n            </Carousel>\n\n            <Tabs type=\"card\">\n                <TabPane tab=\"Description\" key=\"1\">\n                    <p>{description}</p>\n                </TabPane>\n                <TabPane tab=\"More\" key=\"3\">\n                    <p>To know further please contact our Team on xxxx xxx xxx number (toll free)</p>\n                </TabPane>\n            </Tabs>\n       </>\n    )\n}\n\nexport default ImageCarousel;","import React, { useState } from 'react';\nimport { Modal, Button } from 'antd';\nimport {StarOutlined} from '@ant-design/icons';\nimport {useSelector,} from 'react-redux';\nimport { Link, useHistory,useParams } from 'react-router-dom';\n\n\nconst ModalCard = ({children,onRatingHandler}) => {\n  const [modalVisible,setModalVisible]=useState(false);\n  const {user}=useSelector(state=>state);\n  const history=useHistory();\n  const {slug} =useParams();\n\n  const handleModalVisible=()=>{\n      if(user && user._id){\n        setModalVisible(true);\n      }else{\n        history.push({\n          pathname:'/login',\n          state:{\n            from:`/product/${slug}`\n          }\n        })\n      }\n  }\n\n  const handleOk=()=>{\n    setModalVisible(false)\n    onRatingHandler();\n  }\n\n  const handleCancel=()=>{\n      setModalVisible(false)\n    }\n\n\n  return (\n    <>\n     <div onClick={handleModalVisible}>\n     <StarOutlined className=\"h6 text-warning\"/> <br />\n     {\n     user && user._id ?\n     <span className=\"h6 text-warning\">Leave Ratings</span>\n     : \n      <Link to='/login'>\n         <span className=\"h6 text-warning\">\n            Login to leave rating\n          </span>\n      </Link>\n    }\n     </div>\n      <Modal \n      title=\"Please give you valuable rating\" \n      visible={modalVisible} \n      onOk={handleOk} \n      onCancel={handleCancel}\n      >\n        {children}\n      </Modal>\n    </>\n  );\n};\n\nexport default  ModalCard;","import React ,{useState,useEffect}from 'react';\nimport {Card,Tooltip} from 'antd';\nimport {ShoppingCartOutlined,HeartOutlined} from '@ant-design/icons';\nimport {Link}from 'react-router-dom'\nimport ModalCard from '../modal/modalCard';\nimport StarRatings from 'react-star-ratings';\nimport {useSelector,useDispatch}from 'react-redux';\nimport { ProductRatings } from '../../../functions/product';\nimport _ from 'lodash';\nimport { addToWishlist } from \"../../../functions/user\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\n\n\n\nconst ProductDetails=({product,loadProduct})=>{\n\n    const [starCount,setStarCount]=useState(0);\n    const {user}=useSelector(state=>({...state}));\n   \n    const [tootip,setTooltip]=useState('add to cart');\n    \n    const dispatch=useDispatch();\n    const history = useHistory();\n\n    const {color,brand,\n        shipping,sold,price,\n        category,subCategory,quantity,_id}=product;\n\n    //color brand price shipping sold category subcategory quantity\n    console.log(product);\n    // console.log(user)\n\n    useEffect(()=>{\n        if(product.ratings && user){\n            const rating=product.ratings.find(p=>p.postedBy===user._id);\n            if(rating){\n                setStarCount(rating.star);\n            }\n            \n        }\n    \n    },[product.ratings,user])\n\n   const onRatingHandler=()=>{\n   \n    ProductRatings(_id,starCount,user.token)\n    .then(res=>{\n        console.log(res.data);\n        loadProduct();\n    })\n    .catch(err=>{\n        console.log(err);\n    })\n\n   }\n\n   const addToCartHandler=()=>{\n    let cartArray=[];\n    if(typeof window!==undefined){\n        if(localStorage.getItem('cart')){\n            cartArray=JSON.parse(localStorage.getItem('cart'));\n        }\n\n        cartArray.push({\n            ...product,\n            count:1\n        })\n\n        let unique=_.uniqWith(cartArray,_.isEqual);\n\n        localStorage.setItem('cart',JSON.stringify(unique));\n\n        setTooltip('added');\n\n        //add cart product to redux\n\n        dispatch({\n            type:\"ADD_TO_CART\",\n            payload:unique\n        })\n\n        dispatch({\n            type:\"VISIBLE_ACTIVITY\",\n            payload:true\n        })\n\n    }\n}\n\nconst handleAddToWishlist = (e) => {\n    e.preventDefault();\n    addToWishlist(_id, user.token)\n    .then((res) => {\n      console.log(\"ADDED TO WISHLIST\", res.data);\n      toast.success(\"Added to wishlist\");\n      history.push(\"/user/wishlist\");\n    })\n    .catch(err=>{\n        console.log(err);\n    });\n\n  };\n\n\n    return (\n       <Card\n       actions={[\n        <Tooltip title={ tootip }>\n            <a onClick={addToCartHandler} className={\"h6 \"+(quantity>0?'text-warning':'text-secondary')} disabled={!quantity}>\n                <ShoppingCartOutlined key=\"cart\" /><br />\n                {quantity>0?'Add to Cart':'Out Of Stock'}\n            </a>\n        </Tooltip>,\n        <Tooltip title={'Add to Wishlist'}>\n           <a onClick={handleAddToWishlist}>\n            <HeartOutlined key=\"heart\" className=\"h6 text-warning\" /><br />\n            <span className=\"h6 text-warning\">Add to Wishlist</span>\n           </a>\n        </Tooltip>,\n            <ModalCard\n            onRatingHandler={onRatingHandler}\n            >\n                    <StarRatings \n                        rating={starCount}\n                        starRatedColor=\"red\"\n                        changeRating={(rating,name)=>{\n                            setStarCount(rating)\n                            console.log(rating,name)\n                        }}\n                        numberOfStars={5}\n                        name={_id}\n                                />\n            </ModalCard>\n        \n      ]}\n       >\n            <ul className=\"list-group list-group-flush \">\n                <li className=\"list-group-item d-flex \n                justify-content-between\">\n                    <span className=\"h6 text-uppercase\">brand</span>\n                    <span className=\"h6 text-uppercase\">{brand}</span>\n                </li>\n                <li className=\"list-group-item d-flex \n                justify-content-between \">\n                    <span className=\"h6 text-uppercase\">category</span>\n                    <Link className=\"h6 text-uppercase btn btn-link btn-primary\" to={category && category.slug? `/category/${category.slug}`:''}>{category && category.name}</Link>\n                </li>\n                <li className=\"list-group-item d-flex \n                justify-content-between \">\n                    <span className=\"h6 text-uppercase\">sub-category</span>\n                    {\n                        subCategory && subCategory.map(subs=>(\n                            <Link \n                            className=\"h6 text-uppercase btn btn-link btn-primary\"\n                            to={subs && subs.slug? `/subcategory/${subs.slug}`:''}\n                            key={subs._id}>{subs.name}</Link>\n                        ))\n                    }\n                </li>\n                <li className=\"list-group-item d-flex \n                justify-content-between\">\n                    <span className=\"h6 text-uppercase\">color</span>\n                    <span className=\"h6 text-uppercase\">{color}</span>\n                </li>\n                <li className=\"list-group-item d-flex \n                justify-content-between \">\n                    <span className=\"h6 text-uppercase\">price</span>\n                    <span className=\"h6 text-uppercase\">{price}</span>\n                </li>\n                <li className=\"list-group-item d-flex \n                justify-content-between \">\n                    <span className=\"h6 text-uppercase\">quantity</span>\n                    <span className=\"h6 text-uppercase\">{quantity}</span>\n                </li>\n                <li className=\"list-group-item d-flex \n                justify-content-between \">\n                    <span className=\"h6 text-uppercase\">sold</span>\n                    <span className=\"h6 text-uppercase\">{sold}</span>\n                </li>\n                <li className=\"list-group-item d-flex \n                justify-content-between \">\n                    <span className=\"h6 text-uppercase\">shipping</span>\n                    <span className=\"h6 text-uppercase\">{shipping}</span>\n                </li>\n                \n            </ul>\n       </Card>\n      \n    )\n}\n\nexport default ProductDetails;","import React ,{useState,useEffect}from 'react';\nimport {useParams} from 'react-router-dom'\nimport { polulateProductBySlug, RelevantProduct } from '../functions/product';\nimport AverageStar from './component/forms/agerageStar';\nimport HomepageProductCard from './component/product/homepageCard';\nimport ImageCarousel from './component/product/imageCarousel';\nimport ProductDetails from './component/product/productDeatils';\n\n\n\nconst ProductDetailPage=()=>{\n\n    const [product,setProduct]=useState({});  \n    const [relevantProduct,setRelevantCategory]=useState([]);\n    const {slug}=useParams();\n    \n    useEffect(()=>{\n       loadProduct();\n     },[slug])\n \n     const loadProduct=async()=>{\n \n        await polulateProductBySlug(slug)\n         .then(res=>{\n           setProduct(res.data[0]);\n           RelevantProduct(res.data[0]._id)\n             .then(res=>{\n                 setRelevantCategory(res.data)\n                //  console.log('relevant category'+JSON.stringify(res.data));\n             })\n             .catch(err=>{\n                 console.log(err);\n             })\n         })\n         .catch(err=>{\n             console.log(err);\n         })\n\n     }\n\n    \n    return (\n        <>\n          <div className=\"container-fluid\">\n             <div className=\"row mt-3\">\n                 <div className=\"col-md-7\">\n                    {\n                     Object.keys(product).length>0 && product.images && product.images.length ?\n                     <ImageCarousel product={product}/> \n                     :\n                     <h4>no image present</h4>   \n                    }\n                 </div>\n                 <div className=\"col-md-5\">\n                      <h4 \n                      className=\"\n                        pb-3\n                        text-dark\n                       text-center\n                       font-weight-bold \n                       text-uppercase\n                       border-bottom\n                       \">\n                        {Object.keys(product).length>0 && product.title}\n                        </h4>\n                        {Object.keys(product).length>0 && <AverageStar product={product}/>}\n                        {Object.keys(product).length>0 && <ProductDetails product={product} loadProduct={loadProduct}/>}\n                 </div>\n             </div>\n          </div>\n\n           <h4 \n           className=\"\n           jumbotron\n           mt-3\n           p-3 text-center\n           text-uppercase\n           font-weight-bold\n           \">\n               Relevant Category\n            </h4>\n\n            <div className=\"container\">\n                \n                   {\n                       relevantProduct.length?\n                       <div className=\"row justify-content-around\">\n                       {\n                       relevantProduct.map(product=>(\n                           <div key={product._id} className=\"col-md-3\" >\n                           <HomepageProductCard\n                               product={product}\n                           />\n                           </div>\n                       ))}\n                   </div>\n                   :<h6 className=\"text-center\">No relevant category present</h6>\n                   }\n    \n            </div>\n\n        </>\n    )\n}\n\nexport default  ProductDetailPage;","import React ,{useState,useEffect}from 'react';\nimport { useParams } from 'react-router';\nimport {getCategory} from '../../../functions/category';\nimport HomepageProductCard from '../product/homepageCard';\n\n\nconst ProductCategoryWise=({})=>{\n    const [products,setProducts]=useState([]);\n    const [loading,setLoading]=useState(false);\n    const {slug}=useParams();\n\n    useEffect(()=>{\n        \n        setLoading(true);\n        getCategory(slug)\n        .then(res=>{\n            setProducts(res.data.products);\n            setLoading(false);\n        })\n        .catch(err=>{\n            console.log(err);\n            setLoading(false);\n        })\n\n    },[])\n\n    return <>\n    <div className=\"container\">\n                \n\n                {\n                    \n                    loading?\n                    <h4 className=\"text-center text-warning\">Loading...</h4>\n                    :\n                    <div className=\"row mt-5 justify-content-around\">\n                         {\n                             products.length?\n                             products.map(product=>(\n                                <div key={product._id} className=\"col-md-3\" >\n                                <HomepageProductCard\n                                    product={product}\n                                />\n                                </div>\n                            )):\n                            <h4 className=\"text-center text-warning\">No Product found on <span className=\"text-primary\">{slug.toUpperCase()}</span></h4>\n                         }\n                    </div>\n                }\n\n            </div>\n    </>\n}\n\nexport default ProductCategoryWise;\n","import React ,{useState,useEffect}from 'react';\nimport { useParams } from 'react-router';\nimport { getSubCategory } from '../../../functions/subCategory';\nimport HomepageProductCard from '../product/homepageCard';\n\n\n\nconst ProductBySubCategory=({})=>{\n    const [products,setProducts]=useState([]);\n    const [loading,setLoading]=useState(false);\n    const {slug}=useParams();\n\n    useEffect(()=>{\n        \n        setLoading(true);\n        getSubCategory(slug)\n        .then(res=>{\n            setProducts(res.data.products);\n            setLoading(false);\n        })\n        .catch(err=>{\n            console.log(err);\n            setLoading(false);\n        })\n\n    },[])\n\n    return <>\n    <div className=\"container\">\n                \n\n                {\n                    \n                    loading?\n                    <h4 className=\"text-center text-warning\">Loading...</h4>\n                    :\n                    <div className=\"row mt-5 justify-content-around\">\n                         {\n                             products.length?\n                             products.map(product=>(\n                                <div key={product._id} className=\"col-md-3\" >\n                                <HomepageProductCard\n                                    product={product}\n                                />\n                                </div>\n                            )):\n                            <h4 className=\"text-center text-warning\">No Product found on <span className=\"text-primary\">{slug.toUpperCase()}</span> sub category .</h4>\n                         }\n                    </div>\n                }\n\n            </div>\n    </>\n}\n\nexport default ProductBySubCategory;\n","import React from 'react';\nimport StarRatings from 'react-star-ratings';\n\nconst StarNav=({handleRatingChange,numberOfRatings})=>{\n    return(\n        <span className=\"pl-3 pb-2\">\n          <StarRatings\n                  \n                  rating={numberOfRatings}\n                  starDimension=\"16px\"\n                  starRatedColor=\"red\"\n                  starHoverColor=\"red\"\n                  starEmptyColor=\"red\"\n                  changeRating={()=>handleRatingChange(numberOfRatings)}\n                  numberOfStars={numberOfRatings}\n                  name='rating'\n                />\n          </span>\n     \n    )\n}\n\nexport default StarNav;","import React ,{useState,useEffect}from 'react';\nimport { getAllProducts, queryFilter ,brandsEnumValue,colorsEnumValue} from '../../functions/product';\nimport {useSelector,useDispatch}from 'react-redux';\nimport HomepageProductCard from '../component/product/homepageCard';\nimport { Menu, Slider,Checkbox,Radio} from 'antd';\nimport {DollarOutlined,DownSquareOutlined,StarOutlined,CarOutlined} from '@ant-design/icons';\nimport { getCategories } from '../../functions/category';\nimport { getSubCategories } from '../../functions/subCategory';\nimport StarNav from './star';\nimport { v4 as uuidv4 } from 'uuid';\nconst { SubMenu } = Menu;\n\n\n\n\n\n\nconst ShopTabProduct=()=>{\n    const [products,setProducts]=useState([]);\n    const [categories,setCategories]=useState([]);\n    const [categoryIds,setCategoryIds]=useState([]);\n    const {search} = useSelector(state => state);\n    const [price,setPrice]=useState([0,0]);\n    const [ok,setOk]=useState(false);\n    const [stars,setStars]=useState(0);\n    const [subs,setSubs]=useState([]);\n    const [sub,setSub]=useState('');\n    const [brands,setBrands]=useState([]);\n    const [colors,setcolors]=useState([]);\n    const [brand,setBrand]=useState('');\n    const [color,setColor]=useState('');\n    const [shippings,setShippings]=useState([\"No\",\"Yes\"]);\n    const [shipping,setShipping]=useState('');\n    \n    const dispatch=useDispatch();\n\n    const {text}=search;\n    \n    useEffect(()=>{\n\n        //load all product initial time\n\n        loadAllProduct();\n\n        //categories\n        getCategories()\n        .then(res=>{\n            // console.log(res.data);\n            setCategories(res.data);\n        })\n        .catch(err=>{\n            console.log(err);\n        })\n\n        //sub-categories\n        getSubCategories()\n        .then(res=>{\n            setSubs(res.data);\n        })\n        .catch(err=>{\n            console.log(err);\n        })\n\n        //get brands enum\n        brandsEnumValue()\n        .then(res=>{\n            setBrands(res.data);\n        })\n        .catch(err=>{\n            console.log(err);\n        })\n\n        //get colors enum\n\n        colorsEnumValue()\n        .then(res=>{\n            setcolors(res.data);\n        })\n        .catch(err=>{\n            console.log(err);\n        })\n\n    },[])\n\n\n\n    useEffect(()=>{\n        \n        let id=setTimeout(()=>{\n                loadProductByQuery({query:text});\n            },300);\n        \n        return ()=>{\n            if(id){\n                clearTimeout(id);\n            }\n\n        setSub('');\n        setStars(0);\n        setCategoryIds([]);\n        setColor('');\n        setBrand('');\n        setShipping('');\n        setPrice([0,0]);\n            \n        }\n    },[text])\n\n    useEffect(()=>{\n\n        if(price[0]!==price[1])\n        loadProductByQuery({price:price})\n        \n    },[ok])\n\n    const loadProductByQuery=(arg)=>{\n       \n        queryFilter(arg)\n        .then(res=>{\n            // console.log(res.data);\n            setProducts(res.data);\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n    }\n\n    const loadAllProduct=()=>{\n        getAllProducts(10)\n         .then((res)=>{\n            //  console.log('this is shop',res.data);\n            setProducts(res.data);\n         })\n         .catch(error=>{\n             console.log(error);\n         })\n    }\n\n    // console.log(products);\n\n    const onPriceHandler=(v)=>{\n        // console.log(v);\n        setSub('');\n        setStars(0);\n        setCategoryIds([]);\n        dispatch({\n            type:'TEXT_SEARCH',\n            payload:{text:''}\n        })\n        setColor('');\n        setBrand('');\n        setShipping('');\n\n        setPrice(v);\n      setTimeout(()=>{\n        setOk(!ok);\n      },300)\n    }\n\n    const categoryCheckbox=()=>{\n        return <div className=\"d-flex flex-column\">\n            {categories.map(c=>(\n                <Checkbox \n                key={c._id} \n                className=\"py-2 px-3 m-0\"\n                value={c._id}\n                onChange={onCheckHandler}\n                checked={categoryIds.includes(c._id)}\n                >\n                    {c.name}\n                </Checkbox>\n            ))}\n        </div>\n    }\n\n    const onCheckHandler=(e)=>{\n        setPrice([0,0]);\n        dispatch({\n            type:'TEXT_SEARCH',\n            payload:{text:''}\n        })\n        setSub('');\n        setStars(0);\n        setColor('');\n        setBrand('');\n        setShipping('');\n\n      const clickedIds=[...categoryIds];\n      const index=clickedIds.indexOf(e.target.value);\n      if(index===-1){\n          clickedIds.push(e.target.value);\n      }else{\n          clickedIds.splice(index,1);\n      }\n\n      setCategoryIds(clickedIds); \n      loadProductByQuery({category:clickedIds});\n\n    }\n\n\n    const handleRatingChange=(value)=>{\n        setCategoryIds([]);\n        dispatch({\n            type:'TEXT_SEARCH',\n            payload:{text:''}\n        })\n        setPrice([0,0]);\n        setSub('');\n        setColor('');\n        setBrand('');\n        setShipping('');\n        // console.log(value);\n        setStars(value);\n        loadProductByQuery({stars:value})\n    }\n\n    const starComponent=()=>{\n\n        const starList=()=>{\n            let arr=[];\n            for(let i=5;i>0;i--){\n               arr.push(<StarNav \n                key={uuidv4()}\n                numberOfRatings={i} \n                handleRatingChange={handleRatingChange} />)          \n            }\n\n            return arr;\n        }\n\n        return(\n            <div className=\"d-flex flex-column\">\n                {starList()}\n            </div>\n        )\n    }\n\n    const subCategoryList=()=> subs.map(sub=>(\n        <div\n        onClick={()=>onSubcategoryHandler(sub)}\n         style={{cursor:'pointer'}} \n         className=\"p-2 m-2 badge badge-secondary\" \n         key={sub._id}>{sub.name.toUpperCase()}</div>\n        ))\n    \nconst onSubcategoryHandler=(sub)=>{\n    setCategoryIds([]);\n    dispatch({\n        type:'TEXT_SEARCH',\n        payload:{text:''}\n    })\n    setPrice([0,0]);\n    setStars(0);\n    setColor('');\n    setBrand('');\n    setShipping('');\n    setSub(sub);\n\n    loadProductByQuery({subs:sub._id})\n}   \n\n    const brandsList=()=>{\n        return (\n            <div className=\"d-flex flex-column\">\n               {\n                   brands.map(b=>(\n                    <Radio \n                    className=\"pl-4 pb-2\"\n                    key={b}\n                    value={b} \n                    name={b}\n                    onChange={onBrandHandler}\n                    checked={brand===b}\n                    >{b.toUpperCase()}</Radio> ))\n               }\n            </div>\n        )\n    }\n\n    const onBrandHandler=(e)=>{\n        setCategoryIds([]);\n        dispatch({\n            type:'TEXT_SEARCH',\n            payload:{text:''}\n        })\n        setPrice([0,0]);\n        setStars(0);\n        setShipping('');\n        setSub('');\n        setColor('');\n\n        setBrand(e.target.value);\n        loadProductByQuery({brand:e.target.value});\n    }\n\n    const colorsList=()=>{\n        return (\n            <div className=\"d-flex flex-column\">\n               {\n                   colors.map(c=>(\n                    <Radio \n                    className=\"pl-4 pb-2\"\n                    key={c}\n                    value={c} \n                    name={c}\n                    onChange={onColorHandler}\n                    checked={color===c}\n                    >{c.toUpperCase()}</Radio> ))\n               }\n            </div>\n        )\n    }\n\n    const onColorHandler=(e)=>{\n        setCategoryIds([]);\n        dispatch({\n            type:'TEXT_SEARCH',\n            payload:{text:''}\n        })\n        setPrice([0,0]);\n        setStars(0);\n        setSub('');\n        setBrand('');\n        setShipping('');\n\n        setColor(e.target.value);\n        loadProductByQuery({color:e.target.value});\n    }\n\n    const shippingList=()=>{\n        return (\n            <div className=\"d-flex flex-column\">\n               {\n                   shippings.map(c=>(\n                    <Radio \n                    className=\"pl-4 pb-2\"\n                    key={c}\n                    value={c} \n                    name={c}\n                    onChange={onShippingHandler}\n                    checked={shipping===c}\n                    >{c.toUpperCase()}</Radio> ))\n               }\n            </div>\n        )\n    }\n\n    const onShippingHandler=(e)=>{\n        setCategoryIds([]);\n        dispatch({\n            type:'TEXT_SEARCH',\n            payload:{text:''}\n        })\n        setPrice([0,0]);\n        setStars(0);\n        setSub('');\n        setBrand('');\n        setColor('');\n        \n        setShipping(e.target.value);\n        // console.log(e.target.value);\n        loadProductByQuery({shipping:e.target.value});\n    }\n\n   \n\n    return(\n        <div className=\"container-fluid\">\n          <div className=\"row justify-content-between \">\n             <div className=\"col-sm-3  d-flex flex-column\">\n                <h4 className=\"border-bottom border-success pt-3 pb-2\">search/filters</h4>\n                <Menu \n                mode=\"inline\"\n                defaultOpenKeys={['1','2','3','4']}\n                >\n                    <SubMenu title={<span className=\"h5\">\n                        <DollarOutlined /> price\n                    </span>} key=\"1\">\n                       \n                             <div className=\"ml-3\">\n                                <Slider \n                                range  \n                                value={price}\n                                max={20000}\n                                tipFormatter={(v)=>`$ ${v}`}\n                                onChange={onPriceHandler}\n                                />\n                             </div>\n                       \n                    </SubMenu>\n                    <SubMenu title={<span className=\"h5\">\n                        <DownSquareOutlined /> Category\n                    </span>} key=\"2\">\n                         {categoryCheckbox()}\n                    </SubMenu>\n                    <SubMenu title={<span className=\"h5\">\n                        <StarOutlined /> Stars\n                    </span>} key=\"3\">\n                         {starComponent()}\n                    </SubMenu>\n                    <SubMenu title={<span className=\"h5\">\n                        <DownSquareOutlined /> sub-category\n                    </span>} key=\"4\">\n                         {subCategoryList()}\n                    </SubMenu>\n                    <SubMenu title={<span className=\"h5\">\n                        <DownSquareOutlined /> Brands\n                    </span>} key=\"5\">\n                         {brandsList()}\n                    </SubMenu>\n                    <SubMenu title={<span className=\"h5\">\n                        <DownSquareOutlined /> Colors\n                    </span>} key=\"6\">\n                         {colorsList()}\n                    </SubMenu>\n                    <SubMenu title={<span className=\"h5\">\n                        <CarOutlined /> Shipping\n                    </span>} key=\"7\">\n                         {shippingList()}\n                    </SubMenu>\n                </Menu>\n             </div>\n             <div className=\"col-sm-8 mt-2\">\n             <h5 className=\"text-danger\">Products</h5>\n             <hr className=\"bg-success\"/>\n             <div className=\"row \">\n                        {products.length >0 ?products.map(product=>(\n                            <div key={product._id} className=\"col-md-4 mt-3\" >\n                            <HomepageProductCard\n                                product={product}\n                            />\n                            </div>\n                        )):\n                        <h4 className=\"text-center mt-3 w-100\">No Product Found</h4>\n                    }\n                    </div>\n             </div>\n          </div>\n        </div>\n    )\n}\n\nexport default ShopTabProduct;","import React,{useState,useEffect} from 'react';\nimport {useSelector,useDispatch}from 'react-redux'\nimport {Link} from 'react-router-dom';\nimport ModalImage from \"react-modal-image\";\nimport { colorsEnumValue } from '../../functions/product';\nimport { toast } from 'react-toastify';\nimport {CheckCircleOutlined,CloseCircleOutlined,CloseOutlined} from '@ant-design/icons';\nimport { EmptyCart,userCart,getUserCart } from '../../functions/user';\n\nconst CartPage=({history})=>{\n    const {cart,user}=useSelector(state=>state);\n    const dispatch=useDispatch();\n    const [colors,setColors]=useState([]);\n\n    console.log(user);\n\n    useEffect(()=>{\n        console.log('cart',localStorage.getItem('cart'))\n        colorsEnumValue()\n        .then((res)=>{\n          setColors(res.data)\n        })\n        .catch(err=>{\n            console.log(err);\n        })\n\n    },[])\n   \n\n\n    const getTotal=()=>{\n        const total=cart.reduce((accu,cur)=>{\n            return accu + cur.count * cur.price; \n        },0)\n\n        return total;\n    }\n\n    const onColorChangeHandler=(e,product)=>{\n       console.log(e.target.value,product);\n       let cartArray=[];\n       if(typeof window !==undefined){\n           if(localStorage.getItem('cart')){\n               cartArray=JSON.parse(localStorage.getItem('cart'))\n           }\n\n           let modifiedArray=cartArray.map(p=>{\n               if(p._id===product._id){\n                   p.color=e.target.value;\n               }\n\n               return p;\n           })\n\n           localStorage.setItem('cart',JSON.stringify(modifiedArray));\n\n        //update redux cart too\n\n        dispatch({\n            type:'ADD_TO_CART',\n            payload:modifiedArray\n        })\n\n       }\n    }\n\n    const onCountChangeHandler=(e,product)=>{\n        let cartArray=[];\n\n        let count=e.target.value<1 ?1:e.target.value;\n\n        if(e.target.value >product.quantity){\n            toast.error('product out of stock .')\n            return ;\n        }\n\n        if(typeof window!==undefined){\n            if(localStorage.getItem('cart')){\n                cartArray=JSON.parse(localStorage.getItem('cart'));\n            }\n\n            let modifiedCartArray=cartArray.map(c=>{\n                if(c._id===product._id){\n                    c.count=count;\n                }\n\n                return c;\n            })\n\n            localStorage.setItem('cart',JSON.stringify(modifiedCartArray));\n\n            //update redux cart too\n            dispatch({\n                type:'ADD_TO_CART',\n                payload:modifiedCartArray\n            })\n        }\n    }\n\n    const onCartDeleteHandler=(product)=>{\n        let cartArray=[];\n\n        if(typeof window!==undefined){\n            if(localStorage.getItem('cart')){\n                cartArray=JSON.parse(localStorage.getItem('cart'));\n            }\n\n            let modifiedCartArray=cartArray.filter(c=>c._id!==product._id)\n\n            localStorage.setItem('cart',JSON.stringify(modifiedCartArray));\n\n            //update redux cart too\n            dispatch({\n                type:'ADD_TO_CART',\n                payload:modifiedCartArray\n            })\n        }\n    }\n\n    const saveCartToDb=()=>{\n       \n        // console.log(JSON.stringify(cart,null,4));\n \n       userCart(cart,user.token)\n       .then(res=>{\n        //    console.log(res.data);\n           if(res.data.ok){\n               history.push('/user/checkout');\n           }\n       })\n       .catch(err=>{\n           console.log('cart save err',err)\n       })\n\n       \n    }\n\n    const onEmptyCartHandler=()=>{\n        console.log('emptyCart handler');\n        EmptyCart(user.token)\n        .then(res=>{\n            \n            localStorage.removeItem('cart');\n\n            dispatch({\n                type:\"ADD_TO_CART\",\n                payload:[]\n            })\n\n            toast.success('cart has been removed.please continue shopping')\n        })\n        .catch(err=>{\n            console.log(err);\n        })\n    }\n\n    return(\n        <div className=\"container-fluid\">\n           <div className=\"row\">\n               <h4>Cart / {cart.length} product</h4>\n           </div>\n           <hr/>\n           <div className=\"row\">\n              <div className=\"col-md-8\">\n                  {\n                      !cart.length?<h6>no product in cart.Please <Link to=\"/shop/filter\"> continue shopping</Link></h6>\n                      :\n                      <table className=\"table table-bordered\">\n                      <thead>\n                           <tr>\n                               <th>image</th>\n                               <th>title</th>\n                               <th>price</th>\n                               <th>count</th>\n                               <th>color</th>\n                               <th>shipping</th>\n                               <th>brand</th>\n                               <th>remove</th>\n                           </tr>\n                       </thead>\n                       <tbody>\n                          {cart.map(c=>{\n                              return (\n                                  <tr key={c._id}>\n                                    <th>\n                                       {\n                                           c.images.length ?\n                                           <div style={{width:\"100px\",height:'auto'}}>\n                                                <ModalImage\n                                                    small={c.images[0].url}\n                                                    medium={c.images[0].url}\n                                                    />\n                                           </div>\n                                           :\"image\"\n                                       }\n                                    </th>\n                                    <th>{c.title}</th>\n                                    <th>{c.price}</th>\n                                    <th>\n                                        <input \n                                        type=\"number\"\n                                        value={c.count}\n                                        className=\"form-control\"\n                                        onChange={(e)=>onCountChangeHandler(e,c)}\n                                        />\n                                    </th>\n                                    <th>\n                                        <select\n                                        className=\"form-control\"\n                                        name=\"color\"\n                                        onChange={(e)=>onColorChangeHandler(e,c)}\n                                        >\n                                          {c.color?<option value={c.color} key={c.color}>{c.color}</option>\n                                          :<option>select</option>}\n                                          {colors.filter(item=>item!==c.color).map(c=>(\n                                              <option key={c} value={c}>{c}</option>\n                                          ))}\n                                        </select>\n                                    </th>\n                                    <th className=\"text-center\">{\n                                    c.shipping==='Yes'?\n                                    <CheckCircleOutlined className=\"text-success\"/>\n                                    :\n                                    <CloseCircleOutlined className=\"text-danger\"/>\n                                    }</th>\n                                    <th>{c.brand}</th>\n                                    <th className=\"text-center\">\n                                        <CloseOutlined \n                                        style={{cursor:'pointer'}}\n                                        className=\"text-danger\"\n                                        onClick={()=>onCartDeleteHandler(c)}\n                                        />\n                                    </th>\n                                  </tr>\n                              )\n                          })}\n                       </tbody>\n                      </table>\n                  }\n                   \n                  \n              </div>\n              <div className=\"col-md-4\">\n                 <h3>Order Summery</h3>\n                 <hr/>\n                 <h4>products</h4>\n                 {\n                     cart.length ? cart.map((c,i)=>(\n                        <h6 key={i}>{c.title} x {c.count} = {c.count * c.price}</h6>\n                    )):null\n                 }\n                 <hr />\n                 <h6>total = {cart.length ?getTotal():0}</h6>\n                 <br />\n                 {user ?\n                 <div className=\"row \">\n                    <span className=\"col-sm-5 btn btn-outline-info\" style={{whiteSpace:'normal'}} onClick={saveCartToDb}> \n                        proceed to checkout\n                    </span>\n                    <span \n                    className=\"col-sm-5 btn btn-outline-info ml-5 d-flex justify-content-center align-items-center\"\n                    onClick={onEmptyCartHandler}\n                    >Empty Cart</span>\n                </div>\n                :\n                <span className=\"btn btn-outline-info\"> \n                    <Link to={{\n                            pathname:'/login',\n                            state:{\n                                from:'/cart'\n                            }\n                        }}>Login to checkout</Link>\n                </span>\n                }\n              </div>\n           </div>\n        </div>\n    )\n}\n\nexport default CartPage;","import React from 'react';\nimport {Drawer} from 'antd'\nimport { useSelector,useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nconst DrawerComponent=()=>{\n   \n    const {drawer,cart}=useSelector(state=>state)\n    const dispatch=useDispatch();\n\n    return(\n        <Drawer\n        title={`product / ${cart.length}`}\n        placement=\"right\"\n        visible={drawer}\n        onClose={(e)=>{\n            dispatch({\n                type:\"VISIBLE_ACTIVITY\",\n                payload:false\n            })\n        }}\n      >\n        <div className=\"container\">\n            {\n                cart.map(c=>{\n                    return(\n                        <div className=\"row my-2\" key={c._id} >\n                            <div className=\"col\" >\n                                <img \n                                style={{width:'100%',objectFit:'cover'}}\n                                src={c.images[0].url}/>\n                            </div>\n                            <h6 className=\"text-center w-100 p-3\">{c.title} x {c.count}</h6>\n                        </div>\n                    )\n                })\n            }\n        </div>\n        <Link \n        className=\"btn btn-primary btn-outline  btn-block\"\n        onClick={(e)=>{\n            dispatch({\n                type:\"VISIBLE_ACTIVITY\",\n                payload:false\n            })\n        }}\n        to=\"/cart\"\n        >Go to Cart page</Link>\n      </Drawer>\n    )\n}\n\nexport default DrawerComponent;","import React,{useState,useEffect} from 'react';\nimport {useSelector,useDispatch} from 'react-redux';\nimport {applyDiscountCoupon, getUserCart, saveUserAdress, createOrder, EmptyCart} from '../../functions/user'\nimport { toast } from 'react-toastify';\nimport ReactQuill from 'react-quill'; \nimport 'react-quill/dist/quill.snow.css';\nimport { useHistory } from \"react-router-dom\";\nimport axios from 'axios';\n\nconst loadScript=(src)=>{\n    return new Promise((resolve) => {\n        const script = document.createElement(\"script\");\n        script.src = src;\n        script.onload = () => {\n            resolve(true);\n        };\n        script.onerror = () => {\n            resolve(false);\n        };\n        document.body.appendChild(script);\n    });\n}\n\nconst CheckoutPage=({})=>{\n\n    const [products,setProducts]=useState([]);\n    const [totalAmount,setTotalAmount]=useState(0);\n    const [adress,setAdress]=useState('<p></p>');\n    const [coupon,setCoupon]=useState('');\n    const [totalAfterDiscount,setTotalAfterDiscount]=useState(0);\n    const [discountSuccess,setDiscountSuccess]=useState(false);\n    const [discountFailed,setDiscountFalied]=useState(\"\");\n    const [savedAddress,setSaveAddress]=useState(false);\n\n    const {user,coupon:couponApplied}=useSelector(state=>state);\n    const dispatch=useDispatch();\n    const history=useHistory();\n\n    useEffect(()=>{\n        // console.log('coupon',couponApplied)\n        getUserCart(user.token)\n        .then(res=>{\n            // console.log(JSON.stringify(res.data,null,4));\n            setProducts(res.data.products);\n            setTotalAmount(res.data.cartTotal)\n            \n        })\n        .catch(err=>{\n            console.log(err);\n        })\n\n    },[])\n    \n    const saveAddressToDb=()=>{\n        saveUserAdress(adress,user.token)\n            .then(res=>{\n                setSaveAddress(true);\n                // console.log(res.data);\n                toast.success('Adress saved')\n            })\n            .catch(err=>{\n                console.log(err);\n            })\n    }\n\n    const applyDiscountHandler=()=>{\n        applyDiscountCoupon(coupon,user.token)\n        .then(res=>{\n            // console.log(res.data);\n            setTotalAfterDiscount(res.data.totalAfterDiscount);\n            dispatch({\n                type:\"DISCOUNT_FOR_COUPON\",\n                payload:{\n                    totalAfterDiscount:+res.data.totalAfterDiscount,\n                    coupon:true,\n                }\n            })\n            setDiscountSuccess(true)\n            setDiscountFalied(\"\");\n        })\n        .catch(err=>{\n            console.log(err.response && err.response.data);\n            setDiscountFalied(err.response.data.error);\n        })\n    }\n\n\n    const displayRazorpay=async()=>{\n        const res = await loadScript(\n            \"https://checkout.razorpay.com/v1/checkout.js\"\n        );\n\n        if (!res) {\n            alert(\"Razorpay SDK failed to load. Are you online?\");\n            return;\n        }\n\n        // creating a new order\n        const result = await axios.post(`${process.env.REACT_APP_BACKEND_API}/payment/order`,{coupon:couponApplied},{\n            headers:{\n                token:user.token,\n            }\n        });\n\n        if (!result) {\n            alert(\"Server error. Are you online?\");\n            return;\n        }\n\n        // Getting the order details back\n        const { amount, id: order_id, currency,created_at } = result.data;\n\n        const options = {\n            key: process.env.REACT_APP_RAZORPAY_KEY_ID, // Enter the Key ID generated from the Dashboard\n            amount:amount.toString(),\n            currency: currency,\n            name: \"Laptop World\",\n            description: \"Test Transaction\",\n            // image: { logo },\n            order_id: order_id,\n            handler: async function (response) {\n                const data = {\n                    orderCreationId: order_id,\n                    razorpayPaymentId: response.razorpay_payment_id,\n                    razorpayOrderId: response.razorpay_order_id,\n                    razorpaySignature: response.razorpay_signature,\n                    amount:amount/100,\n                    currency:currency,\n                    created_at:created_at\n                };\n\n                console.log('response handler',response);\n                createOrder(data,user.token)\n                .then((res)=>{\n                   \n                    if (res.data.ok) {\n                        // empty cart from local storage\n                        if (typeof window !== \"undefined\") localStorage.removeItem(\"cart\");\n                        // empty cart from redux\n                        dispatch({\n                            type: \"ADD_TO_CART\",\n                            payload: [],\n                          });\n                          // reset coupon to false\n                          dispatch({\n                            type: \"DISCOUNT_FOR_COUPON\",\n                            payload: {},\n                          });\n                        // empty cart from database\n                        EmptyCart(user.token);\n                        history.push('/user/history')\n                    }\n\n                })\n                .catch(err=>{\n                    console.log(err);\n                })\n                // console.log(data);\n            },\n            prefill: {\n                name:user.name,\n                email:user.email,\n            },\n            notes: {\n                address:adress,\n            },\n            theme: {\n                color: \"#61dafb\",\n            },\n        };\n\n        const paymentObject = new window.Razorpay(options);\n        paymentObject.open();\n    }\n\n    return(\n        <div className=\"container mt-3\">\n        <div className=\"row\">\n         <div className=\"col-sm-6\">\n             <h4>Delivary Address</h4>\n             <br/>\n             <br/>\n             <p className='text-info'>Please fill the adress to proceed to pay.</p>\n             <ReactQuill value={adress}\n                onChange={(value)=>{\n                    setAdress(value)\n                    console.log('adress',value);\n                }}\n                />\n             <button className=\"btn btn-primary mt-2 btn-outline\" \n             disabled={adress==='<p></p>'||adress==='<p><br></p>' } //todo\n             onClick={saveAddressToDb}\n             >Save</button>\n             <hr/>\n             <h4>Got Coupon ?</h4>\n             <br/>\n             <input \n             className=\"form-control\"\n             placeholder=\"enter coupon\"\n             value={coupon}\n             onChange={e=>setCoupon(e.target.value)}\n             /><br />\n             {discountFailed?<h4 className=\"bg-danger p-1\">{discountFailed}</h4>:null}\n             <button \n             onClick={applyDiscountHandler}\n             className=\"btn btn-outline-primary\">apply</button>\n         </div>\n         <div className=\"col-sm-6\">\n             <h4>Order Summery</h4>\n             <hr/>\n             <p>product {products.length}</p>\n             <hr/>\n             {\n                 products.map((p)=>{\n                     return(\n                         <div key={p._id}>\n                            <p>{p.product.title} ({p.color}) x {p.count} = {p.count *p.price}</p>\n                        </div>\n                     )\n                 })\n             }\n             <hr/>\n             <p>Cart Total :{totalAmount}</p>\n             {discountSuccess?<p className=\"bg-success p-1\">Total price after discount : {totalAfterDiscount}</p>:null}\n             <div className=\"row\">\n     \n                 <div className=\"col-md-6\">\n                 <button className=\"btn btn-primary btn-outline\" \n                 disabled={!(adress && savedAddress)}\n                 onClick={displayRazorpay}\n                 >Place Order</button>\n                 </div>\n                 \n             </div>\n         </div>\n        </div>\n     </div> \n    )\n}\n\nexport default CheckoutPage;\n\n","import axios from \"axios\";\n\nexport const createCoupon=async(couponData,authToken)=>{\n  return await axios.post(`/api/coupon`,{couponData},{\n    headers:{\n        token:authToken\n    }\n});\n}\n\nexport const deleteCoupon=async(coupon_id,authToken)=>{\n    return await axios.delete(`/api/coupon/${coupon_id}`,{\n        headers:{\n            token:authToken\n        }\n    });\n}\n\nexport const getCoupons=async(authToken)=>{\n    return await axios.get(`/api/coupon`,{\n        headers:{\n            token:authToken\n        }\n    });\n}\n\n","import React,{useState,useEffect} from 'react'\nimport AdminNav from '../../component/nav/adminav';\nimport { useSelector } from 'react-redux';\nimport DatePicker from \"react-datepicker\";\nimport { toast } from 'react-toastify';\nimport { DeleteOutlined} from '@ant-design/icons';\n\nimport { createCoupon , getCoupons ,deleteCoupon} from '../../../functions/coupon';\n\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nconst CouponPage=()=>{\n\n    const [name,setName]=useState('')\n    const [discount,setDiscount]=useState(0)\n    const [expiryDate,setExpiryDate]=useState(new Date())\n    const [loading,setLoading]=useState(false);\n    const [coupons,setCoupons]=useState([]);\n\n    const {user}=useSelector(state=>state);\n\n    useEffect(()=>{\n        LoadCoupons();  \n    },[])\n\n    const LoadCoupons=async()=>{\n        getCoupons(user.token)\n        .then(res=>{\n            setCoupons(res.data);\n        })\n        .catch(err=>{\n            console.log(err);\n        })\n    }\n\n    const onCouponSubmitHandler=(e)=>{\n        e.preventDefault();\n        setLoading(true);\n        let couponData={name,discount,expiryDate};\n        // console.log(couponData);\n        createCoupon(couponData,user.token)\n        .then(res=>{\n            console.log(res.data);\n            LoadCoupons();\n            setName(\"\");\n            setDiscount(0);\n            setExpiryDate(new Date());\n            setLoading(false);\n            toast.success('coupon created')\n        })\n        .catch(err=>{\n            setLoading(false);\n            console.log(err);\n        })\n    }\n\n    const onCouponDeleteHandler=(id)=>{\n        deleteCoupon(id,user.token)\n        .then(res=>{\n            console.log(res.data);\n            LoadCoupons();\n        })\n        .catch(err=>{\n            console.log(err);\n        })\n    }\n\n    return (\n        <div className=\"container-fluid\">\n        <div className=\"row\">\n            <div className=\"col-md-2 \">\n                    <AdminNav />\n            </div>\n            <div className=\"col mt-5\">\n                    {loading?\n                    <h4 className=\"text-danger\">loading...</h4>\n                    :<h4>Create Coupon</h4>}\n                    <hr /><br />\n                    <form onSubmit={onCouponSubmitHandler}>\n                          <div className=\"form-group\">\n                              <label className=\"form-label\">Name</label>\n                              <input \n                              type=\"text\"\n                              className=\"form-control\"\n                              name=\"name\"\n                              value={name}\n                              onChange={e=>setName(e.target.value)}\n                              />\n                          </div>\n                          <div className=\"form-group\">\n                              <label className=\"form-label\">Discount(%)</label>\n                              <input \n                              type=\"number\"\n                              className=\"form-control\"\n                              name=\"discount\"\n                              value={discount}\n                              onChange={e=>setDiscount(e.target.value)}\n                              />\n                          </div>\n                          <div className=\"form-group\">\n                          <label className=\"form-label\">Expiry Date</label>\n                          <DatePicker  \n                          className=\"form-control\" \n                          selected={expiryDate}  \n                          onChange={(date) => setExpiryDate(date)} />\n                          </div>\n                          <button className=\"btn btn-outline-primary\">Create</button>\n                    </form>\n                    <hr />\n                    \n                <h5 className=\"text-primary\">{coupons.length} coupons</h5>\n                <table className=\"table\">\n                    <thead className=\"thead-light\">\n                        <tr>\n                        <th scope=\"col\">name</th>\n                        <th scope=\"col\">discount</th>\n                        <th scope=\"col\">expiry date</th>\n                        <th scope=\"col\">action</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {\n                            coupons.map(c=>(\n                                <tr key={c._id}>\n                                    <td>{c.name}</td>\n                                    <td>{c.discount}</td>\n                                    <td>{new Date(c.expiryDate).toLocaleDateString()}</td>\n                                    <td>\n                                        <DeleteOutlined \n                                         className=\"text-danger\"\n                                         onClick={()=>onCouponDeleteHandler(c._id)}\n                                        />\n                                    </td>\n                                </tr>\n                            ))\n                        }\n                        \n                    </tbody>\n                </table>\n                <br />\n               \n            </div>\n      </div>\n   </div>\n    )\n}\n\nexport default CouponPage;\n","import React ,{useEffect}from 'react';\nimport './App.css';\nimport {Switch,Route, useHistory} from 'react-router-dom';\nimport Login from './Pages/Auth/login';\nimport Register from './Pages/Auth/register';\nimport Header from './Pages/component/header';\nimport Home from './Pages/home';\nimport {ToastContainer} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport RegisterComplete from './Pages/Auth/reigisterComplete';\nimport {auth} from './firebaseConfig';\nimport {useDispatch} from 'react-redux';\nimport * as actionTypes from './redux/actionType';\nimport ForgotPassword from './Pages/Auth/forgotPassword';\nimport {currentUser} from './functions/auth';\nimport History from './Pages/user/history';\nimport UserRoute from './Pages/component/routes/userRoute';\nimport Wishlist from './Pages/user/wishlist';\nimport Password from './Pages/user/password';\nimport AdminDashboard from './Pages/admin/AdminDashboard';\nimport AdminRoute from './Pages/component/routes/adminRoute';\nimport AdminCategory from './Pages/admin/category/admincategory';\nimport UpdateCategory from './Pages/admin/category/updateCategory';\nimport AdminSubCategory from './Pages/admin/subCategory/createSubCategory';\nimport UpdateSubCategory from './Pages/admin/subCategory/updateSubCategory';\nimport ProductCreate from './Pages/admin/product/createProduct';\nimport Products from './Pages/admin/product/products';\nimport Productupdate from './Pages/admin/product/productUpdate'\nimport ProductDetailPage from './Pages/product';\nimport ProductCategoryWise from './Pages/component/category/productCategoryWise';\nimport ProductBySubCategory from './Pages/component/subcategory/ProductBySubCategory';\nimport ShopTabProduct from './Pages/shop/shopTab';\nimport CartPage from './Pages/cart/cart';\nimport DrawerComponent from './Pages/cart/drawer';\nimport CheckoutPage from './Pages/cart/checkout';\nimport CouponPage from './Pages/admin/coupon/coupon';\n\n\n\n\nexport const App=()=>{\n\n  const dispatch=useDispatch();\n  const history=useHistory();\n\n\n  useEffect(()=>{\n     const unsubscribe=auth.onAuthStateChanged(async (user)=>{\n       if(user){\n         const idToken=await user.getIdTokenResult();\n        //  console.log(JSON.stringify(user));\n        currentUser(idToken)\n        .then(res=>{\n            dispatch({\n                type:actionTypes.LOGGED_IN_USER,\n                payload:{\n                    email:res.data.email,\n                    token:idToken.token,\n                    name:res.data.name,\n                    role:res.data.role,\n                    _id:res.data._id\n                }\n            })\n\n            \n        })\n        .catch(error=>{\n            console.log(error.message);\n        })\n         \n       }else{\n        history.push('/login');\n       }\n\n      \n       \n     });\n\n     return ()=>{\n       unsubscribe();\n     }\n     \n  },[history,dispatch]);\n\n  return (\n    <>\n     <Header />\n     <ToastContainer />\n     <DrawerComponent />\n     <Switch>\n       <Route path='/' exact component={Home} />\n       <Route path='/register' exact component={Register} />\n       <Route path=\"/register/complete\" exact component={RegisterComplete} />\n       <Route path='/login' exact component={Login} />\n       <Route path='/forgot/password' exact component={ForgotPassword} />\n       <UserRoute path=\"/user/history\">\n           <History />\n       </UserRoute>\n       <UserRoute path=\"/user/password\">\n           <Password />\n       </UserRoute>\n       <UserRoute path=\"/user/wishlist\">\n           <Wishlist />\n       </UserRoute>\n       <AdminRoute path=\"/admin/dashboard\" exact component={AdminDashboard} />\n       <AdminRoute path=\"/admin/category\" exact component={AdminCategory} />\n       <AdminRoute path=\"/admin/category/:slug\" exact component={UpdateCategory} />\n       <AdminRoute path=\"/admin/sub-category/sub\" exact component={AdminSubCategory} />\n       <AdminRoute path=\"/admin/sub-category/sub/:slug\" exact component={UpdateSubCategory} />\n       <AdminRoute path=\"/admin/product\" exact component={ProductCreate} />\n       <AdminRoute path=\"/admin/products\" exact component={Products} />\n       <AdminRoute path=\"/admin/product/:slug\" exact component={Productupdate} />\n\n\n       <Route path='/product/:slug' exact component={ProductDetailPage} />\n       <Route path=\"/category/:slug\" exact component={ProductCategoryWise} />\n       <Route path=\"/subcategory/:slug\" exact component={ProductBySubCategory} />\n       <Route path=\"/shop/filter\" component={ShopTabProduct} />\n       <Route path=\"/cart\" component={CartPage} />\n\n       <UserRoute path=\"/user/checkout\">\n           <CheckoutPage />\n       </UserRoute>\n       {/* <UserRoute path=\"/payment\">\n           <PaymentPage />\n       </UserRoute> */}\n\n       <AdminRoute path=\"/admin/coupon\" exact component={CouponPage} />\n\n     </Switch>\n   \n    </>\n   )\n}\n\n\n","import * as actionType from './actionType'\n\n// const initialState={\n//     email:'',\n//     token:''\n// }\n\nconst reducer=(state=null,action)=>{\n    switch(action.type){\n        case actionType.LOGGED_IN_USER:\n            return {\n                ...state,\n                ...action.payload\n            };\n        case actionType.LOGGED_OUT_USER:\n            return action.payload;\n\n        default:\n            return state;\n    }\n}\n\nexport default reducer;","\nconst SearchReducer=(state={text:''},action)=>{\n    switch(action.type){\n        case \"TEXT_SEARCH\":\n            return {\n                ...state,\n                ...action.payload\n            };\n        default:\n            return state;\n    }\n}\n\nexport default SearchReducer;","let initialState=[];\n\nif(localStorage.getItem('cart')){\n    initialState=JSON.parse(localStorage.getItem('cart'));\n}\n\nconst CartReducer=(state=initialState,action)=>{\n    switch(action.type){\n        case \"ADD_TO_CART\":\n            return [...action.payload];\n        default:\n            return state;\n    }\n}\n\nexport default CartReducer;","\nconst DrawerReducer=(state=false,action)=>{\n    switch(action.type){\n        case 'VISIBLE_ACTIVITY':\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\nexport default DrawerReducer;","\nconst CouponReducer=(state={\n    totalAfterDiscount:0,coupon:false,},\n    action)=>{\n    switch(action.type){\n        case \"DISCOUNT_FOR_COUPON\":\n            return {...state,...action.payload}\n        default:\n            return state;\n    }\n}\n\nexport default CouponReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {App} from './App';\nimport {BrowserRouter,Routes, Route, useLocation}from 'react-router-dom';\nimport 'antd/dist/antd.css';\nimport {combineReducers, createStore}from 'redux';\nimport {Provider,}from 'react-redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport reducer from './redux/reducer';\nimport SearchReducer from './redux/searchReducer';\nimport CartReducer from './redux/cartReducer';\nimport DrawerReducer from './redux/drawerReducer';\nimport CouponReducer from './redux/couponReducer';\n\nimport { useEffect } from 'react';\n\n\n\n\nconst ScrollToTop=()=>{\n    const { pathname } = useLocation();\n\n    useEffect(() => {\n        window.scrollTo(0,0);\n    }, [pathname]);\n\n    return null;\n}\n\n\nconst root=combineReducers({\n  user:reducer,\n  search:SearchReducer,\n  cart:CartReducer,\n  drawer:DrawerReducer,\n  coupon:CouponReducer,\n})\n\nconst store=createStore(root,composeWithDevTools());\n\n\nReactDOM.render(\n  <Provider store={store}>\n      <BrowserRouter>\n      <ScrollToTop />\n        <App />\n      </BrowserRouter>\n  </Provider>\n  \n  ,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}
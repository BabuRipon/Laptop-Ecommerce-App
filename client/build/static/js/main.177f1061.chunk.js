(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{247:function(e,t,n){},455:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(33),r=n.n(a),s=n(8),o=n.n(s),i=n(11),l=(n(247),n(35)),u=n(9),j=n(104),d=n(475),b=n(476),h=n(477),p=n(478),O=n(147);n(457),n(248),n(458);O.a.initializeApp({apiKey:"AIzaSyDhQWDxXoufMpm2IibRVA773RSt8EMLW_g",authDomain:"ecommerce-c8bb3.firebaseapp.com",projectId:"ecommerce-c8bb3",storageBucket:"ecommerce-c8bb3.appspot.com",messagingSenderId:"907312444013",appId:"1:907312444013:web:eafba6a61fedd6f3acc564"});var m=O.a.auth(),f=new O.a.auth.GoogleAuthProvider,x=n(16),g="LOGGED_IN_USER",v="LOGGED_OUT_USER",y=n(21),N=n(29),w=n(24),S=n.n(w),k=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/create-or-update-user",{},{headers:{token:t.token}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/current-user",{},{headers:{token:t.token}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/current-admin",{},{headers:{token:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=n(1),I=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(u.a)(r,2),O=s[0],v=s[1],w=Object(c.useState)(!1),S=Object(u.a)(w,2),C=S[0],A=S[1],I=Object(c.useState)("password"),T=Object(u.a)(I,2),D=T[0],R=T[1],F=Object(c.useState)(!1),B=Object(u.a)(F,2),L=B[0],M=B[1],H=Object(x.b)(),J=Object(l.f)(),Q=(Object(x.c)((function(e){return e})).user,function(e){e.preventDefault(),A((function(e){return!e})),R((function(e){return"password"===e?"text":"password"}))}),_=function(e){J.location.state?J.push(J.location.state.from):"admin"===e.data.role?J.push("/admin/dashboard"):J.push("/user/history")},P=function(e){e.preventDefault(),M(!0),console.log("onLoginHandler "+JSON.stringify(J.location.state)),m.signInWithEmailAndPassword(n,O).then(function(){var e=Object(i.a)(o.a.mark((function e(t){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,e.next=3,n.getIdTokenResult();case 3:c=e.sent,k(c).then((function(e){H({type:g,payload:{email:e.data.email,token:c.token,name:e.data.name,role:e.data.role,_id:e.data._id}}),_(e)})).catch((function(e){console.log(e.message)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){M(!1),"auth/user-not-found"===e.code?(N.b.error("email not register"),setTimeout((function(){console.log(J),J.push("/register")}),2e3)):N.b.error("password is incorrect")}))},V=function(){var e=Object(i.a)(o.a.mark((function e(){var t,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.signInWithPopup(f);case 3:return t=e.sent,n=t.user,e.next=7,n.getIdTokenResult();case 7:c=e.sent,k(c).then((function(e){console.log("backend setup success : ",e),H({type:g,payload:{email:e.data.email,token:c.token,name:e.data.name,role:e.data.role,_id:e.data._id}}),_(e)})).catch((function(e){console.log(e.message)})),J.push("/"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{className:"container p-5",children:Object(E.jsx)("div",{className:"row",children:Object(E.jsxs)("div",{className:"col-md-6 offset-md-3",children:[L?Object(E.jsx)("h4",{className:"text-primary",children:"Loading..."}):Object(E.jsx)("h4",{children:"Login"}),Object(E.jsxs)("form",{children:[Object(E.jsx)("div",{className:"input-group mb-3",children:Object(E.jsx)("input",{value:n,type:"text",className:"form-control",placeholder:"username",onChange:function(e){return a(e.target.value)},autoFocus:!0})}),Object(E.jsxs)("div",{className:"input-group mb-3",children:[Object(E.jsx)("input",{value:O,type:D,className:"form-control",placeholder:"password",onChange:function(e){return v(e.target.value)}}),Object(E.jsx)("label",{onClick:Q,style:{fontSize:"1.2rem"},children:C?Object(E.jsx)(d.a,{}):Object(E.jsx)(b.a,{})})]}),Object(E.jsx)(j.a,{type:"primary",shape:"round",block:!0,className:"mb-3",size:"large",icon:Object(E.jsx)(h.a,{}),onClick:P,children:"Login with email/password"}),Object(E.jsx)(j.a,{type:"danger",shape:"round",block:!0,size:"large",icon:Object(E.jsx)(p.a,{}),onClick:V,className:"mb-3",children:"Login with Google"}),Object(E.jsx)(y.b,{to:"/forgot/password",className:"float-right text-primary",style:{fontSize:"1.1rem"},children:"Forgot Password"})]})]})})})},T=(n(179),function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],r=function(){var e=Object(i.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c={url:"".concat("http://localhost:3001/register/complete"),handleCodeInApp:!0},e.next=4,m.sendSignInLinkToEmail(n,c);case 4:N.b.success("a link is send to user ".concat(n," to register")),window.localStorage.setItem("emailForSignIn",n),a("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{className:"contianer p-5",children:Object(E.jsx)("div",{className:"row",children:Object(E.jsxs)("div",{className:"col-md-6 offset-md-3",children:[Object(E.jsx)("h4",{children:"Register"}),Object(E.jsxs)("form",{onSubmit:r,children:[Object(E.jsx)("input",{type:"email",value:n,onChange:function(e){return a(e.target.value)},className:"form-control",placeholder:"abc@gamil.com",autoFocus:!0}),Object(E.jsx)("br",{}),Object(E.jsx)("button",{type:"submit",className:"btn btn-raised btn-primary",children:"Register"})]})]})})})}),D=n(465),R=n(471),F=n(479),B=n(480),L=n(481),M=n(482),H=n(483),J=n(484),Q=n(239),_=function(){var e=Object(x.b)(),t=Object(l.f)(),n=Object(x.c)((function(e){return e})).search.text,c=function(e){e.preventDefault(),t.push("/shop/filter?".concat(n))};return Object(E.jsxs)("form",{className:"form-inline my-2",onSubmit:c,children:[Object(E.jsx)("input",{type:"search",className:"form-control ",placeholder:"Search",value:n,onChange:function(t){e({type:"TEXT_SEARCH",payload:{text:t.target.value}})}}),Object(E.jsx)(Q.a,{style:{cursor:"pointer"},onClick:c})]})},P=D.a.SubMenu,V=Object(l.i)((function(e){var t=Object(c.useState)("mail"),n=Object(u.a)(t,2),a=n[0],r=n[1],s=Object(x.b)(),j=Object(l.f)(),d=Object(x.c)((function(e){return e})),b=d.user,h=d.cart;console.log(h);var p=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.signOut();case 2:s({type:v,payload:null}),j.push("/login");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(D.a,{onClick:function(e){r(e.key)},selectedKeys:[a],mode:"horizontal",children:[Object(E.jsx)(D.a.Item,{icon:Object(E.jsx)(F.a,{}),children:Object(E.jsx)(y.b,{to:"/",children:"Home"})},"home"),Object(E.jsx)(D.a.Item,{icon:Object(E.jsx)(B.a,{}),children:Object(E.jsx)(y.b,{to:"/shop/filter",children:"Shop"})},"shop"),Object(E.jsx)(D.a.Item,{icon:Object(E.jsx)(L.a,{}),children:Object(E.jsx)(R.a,{count:h.length,offset:[9,0],children:Object(E.jsx)(y.b,{to:"/cart",children:"Cart"})})},"cart"),!b&&Object(E.jsx)(D.a.Item,{icon:Object(E.jsx)(M.a,{}),className:"float-right",children:Object(E.jsx)(y.b,{to:"/register",children:"Register"})},"register"),!b&&Object(E.jsx)(D.a.Item,{icon:Object(E.jsx)(H.a,{}),className:"float-right",children:Object(E.jsx)(y.b,{to:"/login",children:"Login"})},"login"),b&&Object(E.jsxs)(P,{className:"float-right",title:null===b||void 0===b?void 0:b.email.split("@")[0],children:[Object(E.jsx)(D.a.ItemGroup,{children:Object(E.jsx)(D.a.Item,{icon:Object(E.jsx)(J.a,{}),children:"admin"===b.role?Object(E.jsx)(y.b,{to:"/admin/dashboard",children:"Dashboard"}):Object(E.jsx)(y.b,{to:"/user/history",children:"Dashboard"})})}),Object(E.jsx)(D.a.ItemGroup,{children:Object(E.jsx)(D.a.Item,{icon:Object(E.jsx)(J.a,{}),onClick:p,children:"Logout"})})]},"username"),Object(E.jsx)("span",{className:"float-right",children:Object(E.jsx)(_,{})})]})})),W=n(225),U=n.n(W),Y=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/categories");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/category/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(i.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/category",{name:t},{headers:{token:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),z=function(){var e=Object(i.a)(o.a.mark((function e(t,n,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.put("/api/category/".concat(t),{name:n},{headers:{token:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),K=function(){var e=Object(i.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.delete("/api/category/".concat(t),{headers:{token:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Z=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/category/subs/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/subs");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/sub/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(i.a)(o.a.mark((function e(t,n,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/sub",{name:t,parent:n},{headers:{token:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),te=function(){var e=Object(i.a)(o.a.mark((function e(t,n,c,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.put("/api/sub/".concat(t),{name:n,parent:c},{headers:{token:a}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c,a){return e.apply(this,arguments)}}(),ne=function(){var e=Object(i.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.delete("/api/sub/".concat(t),{headers:{token:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ce=n(20),ae=n(466),re=n(97),se="data:image/jpeg;base64,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",oe=n(92),ie=n.n(oe),le=function(e){var t=e.product,n=Object(c.useState)(),a=Object(u.a)(n,2),r=a[0],s=a[1];return Object(c.useEffect)((function(){var e=0;t.ratings&&t.ratings.length&&(e=t.ratings.map((function(e){return e.star})).reduce((function(e,t){return e+t})),s(e/t.ratings.length))}),[t.ratings]),t.ratings&&t.ratings.length?Object(E.jsx)("div",{className:"d-flex justify-content-center",children:Object(E.jsx)(ie.a,{starDimension:"25px",rating:r,starRatedColor:"red",numberOfStars:5})}):Object(E.jsx)("h6",{className:"text-center",children:"No Rating Yet"})},ue=n(98),je=n.n(ue),de=ae.a.Meta,be=function(e){var t=e.product,n=t.images,a=t.title,r=t.description,s=t.price,o=t.quantity,i=t.slug,l=Object(c.useState)("add to cart"),j=Object(u.a)(l,2),b=(j[0],j[1]),h=Object(x.b)();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(le,{product:t}),Object(E.jsx)(ae.a,{hoverable:!0,className:"mb-3",cover:Object(E.jsx)("img",{alt:"laptop_img",src:n.length?n[0].url:se}),style:{height:"380px",objectFit:"cover"},actions:[Object(E.jsx)(re.a,{title:"View Product Details",children:Object(E.jsxs)(y.b,{to:"/product/".concat(i),children:[Object(E.jsx)(d.a,{className:"text-warning"},"edit"),Object(E.jsx)("br",{}),Object(E.jsx)("span",{children:"View Product"})]})}),Object(E.jsx)(re.a,{title:o>0?"Add To Cart":"Out Of Stock",children:Object(E.jsxs)("a",{onClick:function(){var e=[];if(void 0!==typeof window){localStorage.getItem("cart")&&(e=JSON.parse(localStorage.getItem("cart"))),e.push(Object(ce.a)(Object(ce.a)({},t),{},{count:1}));var n=je.a.uniqWith(e,je.a.isEqual);localStorage.setItem("cart",JSON.stringify(n)),b("added"),h({type:"ADD_TO_CART",payload:n}),h({type:"VISIBLE_ACTIVITY",payload:!0})}},disabled:!o&&!0,children:[Object(E.jsx)(L.a,{className:"text-danger"},"addtocart"),Object(E.jsx)("br",{}),Object(E.jsx)("span",{children:o>0?"Add To Cart":"Out Of Stock"})]})})],children:Object(E.jsx)(de,{title:Object(E.jsxs)("span",{children:[a," - ",Object(E.jsxs)("span",{className:"text-dark font-weight-bold",children:["\u20b9",s]})]}),description:r.length>50?r.substr(0,50).concat("..."):r})})]})},he=n(467),pe=n(472),Oe=function(e){for(var t=e.count,n=[],c=0;c<t;c++)n.push(Object(E.jsx)("div",{className:"col-md-3",children:Object(E.jsx)(ae.a,{children:Object(E.jsx)(he.a,{active:!0})})},Object(pe.a)()));return n},me=function(){var e=Object(i.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/product",Object(ce.a)({},t),{headers:{token:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),fe=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/products/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/product/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/product/with/populate/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(i.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.delete("/api/product/".concat(t),{headers:{token:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ye=function(){var e=Object(i.a)(o.a.mark((function e(t,n,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.put("/api/product/".concat(t),Object(ce.a)({},n),{headers:{token:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(i.a)(o.a.mark((function e(t,n,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/products",{sort:t,order:n,page:c});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),we=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/products/total");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(i.a)(o.a.mark((function e(t,n,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.put("/api/product/star/".concat(t),{star_count:n},{headers:{token:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),ke=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/product/relevant/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/query/search",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/query/search/brand/enum");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/query/search/color/enum");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ie=n(464),Te=function(e){var t=Object(c.useState)([]),n=Object(u.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(!1),o=Object(u.a)(s,2),i=o[0],l=o[1],j=Object(c.useState)(1),d=Object(u.a)(j,2),b=d[0],h=d[1],p=Object(c.useState)(0),O=Object(u.a)(p,2),m=O[0],f=O[1];Object(c.useEffect)((function(){x()}),[b]),Object(c.useEffect)((function(){we().then((function(e){f(e.data)})).catch((function(e){console.log(e)}))}),[]);var x=function(){l(!0),Ne("sold","desc",b).then((function(e){r(e.data),l(!1)})).catch((function(e){console.log(e),l(!1)}))};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h4",{className:" font-weight-bold  jumbotron p-3  mb-5  text-center text-uppercase ",children:"best seller"}),Object(E.jsx)("div",{className:"container",children:i?Object(E.jsx)("div",{className:"row justify-content-around",children:Object(E.jsx)(Oe,{count:4})}):Object(E.jsx)("div",{className:"row justify-content-around",children:a.map((function(e){return Object(E.jsx)("div",{className:"col-md-3",children:Object(E.jsx)(be,{product:e})},e._id)}))})}),Object(E.jsx)("div",{className:"text-center my-5",children:Object(E.jsx)(Ie.a,{current:b,total:m/3*10,onChange:function(e){return h(e)}})}),Object(E.jsx)("br",{})]})},De=function(e){var t=Object(c.useState)([]),n=Object(u.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(!1),o=Object(u.a)(s,2),i=o[0],l=o[1],j=Object(c.useState)(1),d=Object(u.a)(j,2),b=d[0],h=d[1],p=Object(c.useState)(0),O=Object(u.a)(p,2),m=O[0],f=O[1];Object(c.useEffect)((function(){x()}),[b]),Object(c.useEffect)((function(){we().then((function(e){f(e.data)})).catch((function(e){console.log(e)}))}),[]);var x=function(){l(!0),Ne("createdAt","desc",b).then((function(e){r(e.data),l(!1)})).catch((function(e){console.log(e),l(!1)}))};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h4",{className:" font-weight-bold  jumbotron p-3  mb-5  text-center text-uppercase ",children:"new arival product"}),Object(E.jsx)("div",{className:"container",children:i?Object(E.jsx)("div",{className:"row justify-content-around",children:Object(E.jsx)(Oe,{count:4})}):Object(E.jsx)("div",{className:"row justify-content-around",children:a.map((function(e){return Object(E.jsx)("div",{className:"col-md-3",children:Object(E.jsx)(be,{product:e})},e._id)}))})}),Object(E.jsx)("div",{className:"text-center my-5",children:Object(E.jsx)(Ie.a,{current:b,total:m/3*10,onChange:function(e){return h(e)}})})]})},Re=function(e){var t=Object(c.useState)([]),n=Object(u.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)([]),o=Object(u.a)(s,2),i=o[0],l=o[1];return Object(c.useEffect)((function(){Y().then((function(e){r(e.data)})).catch((function(e){console.log("category",e)})),X().then((function(e){l(e.data)})).catch((function(e){console.log("sub category",e)}))}),[]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"jumbotron text-center h4",children:Object(E.jsx)(U.a,{options:{strings:["Welcome to our site","Hope you feel great","For query contact with  our team"],autoStart:!0,loop:!0}})}),Object(E.jsx)(De,{}),Object(E.jsx)("br",{}),Object(E.jsx)(Te,{}),Object(E.jsx)("br",{}),Object(E.jsx)("h4",{className:" font-weight-bold  jumbotron p-3  mb-5  text-center text-uppercase ",children:"Category"}),Object(E.jsx)("div",{className:"container",children:Object(E.jsx)("div",{className:"row",children:a.map((function(e){return Object(E.jsx)(y.b,{to:"/category/".concat(e.slug),className:"col-sm-2 mb-3",children:Object(E.jsx)("h6",{className:"btn btn-outline-secondary py-2 px-5 ",children:e.name})},e._id)}))})}),Object(E.jsx)("h4",{className:" font-weight-bold  jumbotron p-3  mb-5  text-center text-uppercase ",children:"Sub Category"}),Object(E.jsx)("div",{className:"container",children:Object(E.jsx)("div",{className:"row",children:i.map((function(e){return Object(E.jsx)(y.b,{to:"/subcategory/".concat(e.slug),className:"col-sm-2 mb-3",children:Object(E.jsx)("h6",{className:"btn btn-outline-secondary py-2 px-5 ",children:e.name})},e._id)}))})})]})},Fe=function(e){var t=e.history,n=Object(c.useState)(""),a=Object(u.a)(n,2),r=a[0],s=a[1],l=Object(c.useState)(""),j=Object(u.a)(l,2),d=j[0],b=j[1],h=Object(x.b)();Object(c.useEffect)((function(){s(window.localStorage.getItem("emailForSignIn"))}),[]);var p=function(){var e=Object(i.a)(o.a.mark((function e(n){var c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),d&&r){e.next=4;break}return N.b.error("please check your email or password"),e.abrupt("return");case 4:if(!m.isSignInWithEmailLink(window.location.href)){e.next=26;break}if(window.localStorage.getItem("emailForSignIn")){e.next=9;break}return N.b.error("please no email found | please go to email to get link."),e.abrupt("return");case 9:return e.prev=9,e.next=12,m.signInWithEmailLink(r,window.location.href);case 12:return c=m.currentUser,e.next=15,c.updatePassword(d);case 15:return e.next=17,c.getIdTokenResult();case 17:a=e.sent,window.localStorage.removeItem("emailForSignIn"),k(a).then((function(e){h({type:g,payload:{email:e.data.email,token:a.token,name:e.data.name,role:e.data.role,_id:e.data._id}})})).catch((function(e){console.log(e.message)})),t.push("/login"),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(9),N.b.error(e.t0.message);case 26:case"end":return e.stop()}}),e,null,[[9,23]])})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{className:"container p-5",children:Object(E.jsx)("div",{className:"row",children:Object(E.jsxs)("div",{className:"col-md-6 offset-md-3",children:[Object(E.jsx)("h4",{children:"Register Complete"}),Object(E.jsxs)("form",{onSubmit:p,children:[Object(E.jsx)("input",{type:"email",value:r,className:"form-control",disabled:!0}),Object(E.jsx)("input",{type:"password",value:d,onChange:function(e){return b(e.target.value)},className:"form-control",placeholder:"password",autoFocus:!0}),Object(E.jsx)("br",{}),Object(E.jsx)("button",{type:"submit",className:"btn btn-raised btn-primary",children:"Complete Registration"})]})]})})})},Be=function(e){var t=e.history,n=Object(c.useState)(""),a=Object(u.a)(n,2),r=a[0],s=a[1],o=Object(x.c)((function(e){return e})).user;Object(c.useEffect)((function(){o&&t.push("/")}),[o]);var i=function(e){e.preventDefault();var t={url:"".concat("http://localhost:3001/login"),handleCodeInApp:!0};m.sendPasswordResetEmail(r,t).then((function(){N.b.success("Please find your email to reset password link")})).catch((function(e){N.b.error(e.message)}))},l=function(){return Object(E.jsxs)("form",{onSubmit:i,children:[Object(E.jsx)("input",{placeholder:"enter your email",className:"form-control mb-3",value:r,onChange:function(e){return s(e.target.value)},autoFocus:!0}),Object(E.jsx)("button",{className:"btn btn-raised btn-primary",children:"submit"})]})};return Object(E.jsx)("div",{className:"container p-5",children:Object(E.jsx)("div",{className:"row",children:Object(E.jsxs)("div",{className:"col-md-6 offset-md-3",children:[Object(E.jsx)("h4",{className:"text-info",children:"Forgot password"}),l()]})})})},Le=function(){return Object(E.jsxs)("ul",{className:"nav d-flex flex-column",children:[Object(E.jsx)("li",{className:"nav-item ",children:Object(E.jsx)(y.b,{className:"nav-link",to:"/user/history",children:"History"})}),Object(E.jsx)("li",{className:"nav-item ",children:Object(E.jsx)(y.b,{className:"nav-link",to:"/user/password",children:"password"})}),Object(E.jsx)("li",{className:"nav-item ",children:Object(E.jsx)(y.b,{className:"nav-link",to:"/user/wishlist",children:"wishlist"})})]})},Me=function(){var e=Object(i.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/user/cart",{cart:t},{headers:{token:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),He=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/user/cart",{headers:{token:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.a.delete("/api/user/cart/empty",{headers:{token:t}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(i.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/user/save/adress",{adress:t},{headers:{token:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_e=function(){var e=Object(i.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/apply/coupon",{name:t},{headers:{token:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(i.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/user/order",{paymentResponse:t},{headers:{token:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/user/orders",{headers:{token:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/user/wishlist",{headers:{token:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(i.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.put("/api/user/wishlist/".concat(t),{},{headers:{token:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(i.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/user/wishlist",{productId:t},{headers:{token:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(i.a)(o.a.mark((function e(t,n,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/user/cash-order",{cod:n,couponApplied:c},{headers:{token:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),qe=n(144),ze=n(145),Ke=function(e){var t=e.order,n=e.showStatus,c=void 0===n||n;return Object(E.jsx)("div",{children:Object(E.jsxs)("p",{children:[Object(E.jsxs)("span",{children:["Order Id: ",t.paymentResponse.orderCreationId]})," / ",Object(E.jsxs)("span",{children:["Amount :",t.paymentResponse.amount?t.paymentResponse.amount.toLocaleString("en-IN",{style:"currency",currency:"INR"}):"NA"]})," / ",Object(E.jsxs)("span",{children:["Currency: ",t.paymentResponse.currency?t.paymentResponse.currency:"NA"]})," / ",Object(E.jsxs)("span",{children:["Orderd on :",t.paymentResponse.created_at?new Date(1e3*t.paymentResponse.created_at).toLocaleString():"NA","/"]}),Object(E.jsxs)("span",{className:"badge bg-info text-white",children:["Payment Status : ",t.paymentResponse.paymentStatus]})," / ",Object(E.jsx)("br",{}),c&&Object(E.jsxs)("span",{className:"badge bg-primary text-white",children:["STATUS: ",t.orderStatus]})]})})},Ze=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(x.c)((function(e){return Object(ce.a)({},e)})).user;Object(c.useEffect)((function(){s()}),[]);var s=function(){return Ve(r.token).then((function(e){a(e.data)}))},o=function(e){return Object(E.jsxs)("table",{className:"table table-bordered",children:[Object(E.jsx)("thead",{className:"thead-light",children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{scope:"col",children:"Title"}),Object(E.jsx)("th",{scope:"col",children:"Price"}),Object(E.jsx)("th",{scope:"col",children:"Brand"}),Object(E.jsx)("th",{scope:"col",children:"Color"}),Object(E.jsx)("th",{scope:"col",children:"Count"}),Object(E.jsx)("th",{scope:"col",children:"Shipping"})]})}),Object(E.jsx)("tbody",{children:e.products.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:Object(E.jsx)("b",{children:e.product.title})}),Object(E.jsx)("td",{children:e.product.price}),Object(E.jsx)("td",{children:e.product.brand}),Object(E.jsx)("td",{children:e.color}),Object(E.jsx)("td",{children:e.count}),Object(E.jsx)("td",{children:"Yes"===e.product.shipping?Object(E.jsx)(qe.a,{style:{color:"green"}}):Object(E.jsx)(ze.a,{style:{color:"red"}})})]},t)}))})]})};return Object(E.jsx)("div",{className:"container-fluid",children:Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"col-md-2 ",children:Object(E.jsx)(Le,{})}),Object(E.jsxs)("div",{className:"col text-center",children:[Object(E.jsx)("h4",{children:n.length>0?"User purchase orders":"No purchase orders"}),n.reverse().map((function(e,t){return Object(E.jsxs)("div",{className:"m-5 p-3 card",children:[Object(E.jsx)(Ke,{order:e}),o(e)]},t)}))]})]})})},Xe=n(142),$e=function(){var e=Object(c.useState)(5),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(l.f)();return Object(c.useEffect)((function(){0==n&&r.push("/login"),setTimeout((function(){a((function(e){return--e}))}),1e3)}),[n]),Object(E.jsx)("div",{className:"container p-5",children:Object(E.jsxs)("p",{className:"text-center text-danger",children:["Redirect to you just in ",n," seconds."]})})},et=function(e){var t=e.children,n=Object(Xe.a)(e,["children"]),c=Object(x.c)((function(e){return Object(ce.a)({},e)})).user;return c&&c._id?Object(E.jsx)(l.a,Object(ce.a)(Object(ce.a)({},n),{},{render:function(){return t}})):Object(E.jsx)($e,{})},tt=n(485),nt=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(x.c)((function(e){return Object(ce.a)({},e)})).user;Object(c.useEffect)((function(){s()}),[]);var s=function(){return We(r.token).then((function(e){a(e.data.wishlist)}))};return Object(E.jsx)("div",{className:"container-fluid",children:Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"col-md-2 ",children:Object(E.jsx)(Le,{})}),Object(E.jsxs)("div",{className:"col-md-10",children:[Object(E.jsx)("h4",{children:"Wishlist"}),n.map((function(e){return Object(E.jsxs)("div",{className:"alert alert-secondary",children:[Object(E.jsx)(y.b,{to:"/product/".concat(e.slug),children:e.title}),Object(E.jsx)("span",{onClick:function(){return t=e._id,Ue(t,r.token).then((function(e){s()}));var t},className:"btn btn-sm float-right",children:Object(E.jsx)(tt.a,{className:"text-danger"})})]},e._id)}))]})]})})},ct=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(u.a)(r,2),l=s[0],j=s[1],d=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),j(!0),e.next=4,m.currentUser.updatePassword(n).then((function(){N.b.success("password updated successfully."),a(""),j(!1)})).catch((function(e){N.b.error(e.message)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{className:"container-fluid",children:Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"col-md-2 ",children:Object(E.jsx)(Le,{})}),Object(E.jsxs)("div",{className:"col",children:[l?Object(E.jsx)("h4",{className:"p-1 text-success",children:"loading..."}):Object(E.jsx)("h4",{className:"p-1",children:"Reset Your Password"}),Object(E.jsxs)("form",{onSubmit:d,children:[Object(E.jsxs)("div",{className:"form-group p-1",children:[Object(E.jsx)("label",{children:"your password"}),Object(E.jsx)("input",{type:"password",className:"form-control",value:n,onChange:function(e){return a(e.target.value)},disabled:l})]}),Object(E.jsx)("button",{className:"btn btn-raised btn-primary",disabled:!n||n.length<4||l,children:"submit"})]})]})]})})},at=function(){return Object(E.jsxs)("ul",{className:"nav d-flex flex-column",children:[Object(E.jsx)("li",{className:"nav-item ",children:Object(E.jsx)(y.b,{className:"nav-link",to:"/admin/dashboard",children:"Dashboard"})}),Object(E.jsx)("li",{className:"nav-item ",children:Object(E.jsx)(y.b,{className:"nav-link",to:"/admin/product",children:"Product"})}),Object(E.jsx)("li",{className:"nav-item ",children:Object(E.jsx)(y.b,{className:"nav-link",to:"/admin/products",children:"Products"})}),Object(E.jsx)("li",{className:"nav-item ",children:Object(E.jsx)(y.b,{className:"nav-link",to:"/admin/category",children:"Category"})}),Object(E.jsx)("li",{className:"nav-item ",children:Object(E.jsx)(y.b,{className:"nav-link",to:"/admin/sub-category/sub",children:"Sub Category"})}),Object(E.jsx)("li",{className:"nav-item ",children:Object(E.jsx)(y.b,{className:"nav-link",to:"/admin/coupon",children:"Coupon"})}),Object(E.jsx)("li",{className:"nav-item ",children:Object(E.jsx)(y.b,{className:"nav-link",to:"/user/password",children:"Password"})})]})},rt=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/admin/orders",{headers:{token:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),st=function(){var e=Object(i.a)(o.a.mark((function e(t,n,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.put("/api/admin/order-status",{orderId:t,orderStatus:n},{headers:{token:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),ot=function(e){var t=e.orders,n=e.handleStatusChange,c=function(e){return Object(E.jsxs)("table",{className:"table table-bordered",children:[Object(E.jsx)("thead",{className:"thead-light",children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{scope:"col",children:"Title"}),Object(E.jsx)("th",{scope:"col",children:"Price"}),Object(E.jsx)("th",{scope:"col",children:"Brand"}),Object(E.jsx)("th",{scope:"col",children:"Color"}),Object(E.jsx)("th",{scope:"col",children:"Count"}),Object(E.jsx)("th",{scope:"col",children:"Shipping"})]})}),Object(E.jsx)("tbody",{children:e.products.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:Object(E.jsx)("b",{children:e.product.title})}),Object(E.jsx)("td",{children:e.product.price}),Object(E.jsx)("td",{children:e.product.brand}),Object(E.jsx)("td",{children:e.color}),Object(E.jsx)("td",{children:e.count}),Object(E.jsx)("td",{children:"Yes"===e.product.shipping?Object(E.jsx)(qe.a,{style:{color:"green"}}):Object(E.jsx)(ze.a,{style:{color:"red"}})})]},t)}))})]})};return Object(E.jsx)(E.Fragment,{children:t.map((function(e){return Object(E.jsxs)("div",{className:"row pb-5",children:[Object(E.jsxs)("div",{className:"btn btn-block bg-light",children:[Object(E.jsx)(Ke,{order:e,showStatus:!1}),Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"col-md-4",children:"Delivery Status"}),Object(E.jsx)("div",{className:"col-md-8",children:Object(E.jsxs)("select",{onChange:function(t){return n(e._id,t.target.value)},className:"form-control",defaultValue:e.orderStatus,name:"status",children:[Object(E.jsx)("option",{value:"Not Processed",children:"Not Processed"}),Object(E.jsx)("option",{value:"Cash On Delivery",children:"Cash On Delivery"}),Object(E.jsx)("option",{value:"Processing",children:"Processing"}),Object(E.jsx)("option",{value:"Dispatched",children:"Dispatched"}),Object(E.jsx)("option",{value:"Cancelled",children:"Cancelled"}),Object(E.jsx)("option",{value:"Completed",children:"Completed"})]})})]})]}),c(e)]},e._id)}))})},it=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(x.c)((function(e){return Object(ce.a)({},e)})).user;Object(c.useEffect)((function(){s()}),[]);var s=function(){return rt(r.token).then((function(e){console.log(JSON.stringify(e.data,null,4)),a(e.data)}))};return Object(E.jsx)("div",{className:"container-fluid",children:Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"col-md-2 ",children:Object(E.jsx)(at,{})}),Object(E.jsxs)("div",{className:"col-md-10",children:[Object(E.jsx)("h4",{children:"Admin Dashboard"}),Object(E.jsx)(ot,{orders:n,handleStatusChange:function(e,t){st(e,t,r.token).then((function(e){N.b.success("Status updated"),s()}))}})]})]})})},lt=function(e){e.children;var t=Object(Xe.a)(e,["children"]),n=Object(x.c)((function(e){return Object(ce.a)({},e)})).user,a=Object(c.useState)(!1),r=Object(u.a)(a,2),s=r[0],o=r[1];return Object(c.useEffect)((function(){n&&n.token&&A(n.token).then((function(e){o(!0)})).catch((function(e){console.log(e.message)}))}),[n]),s?Object(E.jsx)(l.a,Object(ce.a)({},t)):Object(E.jsx)($e,{})},ut=n(486),jt=function(e){var t=e.category,n=e.setCategory,c=e.handleSubmit;return Object(E.jsxs)("form",{onSubmit:c,className:"mb-4",children:[Object(E.jsx)("input",{className:"form-control",autoFocus:!0,onChange:function(e){return n(e.target.value)},value:t,placeholder:"category",type:"text",required:!0}),Object(E.jsx)("br",{}),Object(E.jsx)("button",{className:"btn btn-outline-primary",children:"create/update"})]})},dt=function(e){var t=e.keyword,n=e.setKeyword;return Object(E.jsx)("form",{children:Object(E.jsx)("input",{value:t,onChange:function(e){return n(e.target.value.toLowerCase())},className:"form-control",placeholder:"search"})})},bt=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(u.a)(r,2),o=(s[0],s[1]),i=Object(c.useState)([]),l=Object(u.a)(i,2),j=l[0],d=l[1],b=Object(x.c)((function(e){return e})).user,h=Object(c.useState)(""),p=Object(u.a)(h,2),O=p[0],m=p[1];Object(c.useEffect)((function(){return f(),function(){d([])}}),[]);var f=function(){Y().then((function(e){console.log(e.data),d(e.data)})).catch((function(e){console.log(e.response)}))};return Object(E.jsx)("div",{className:"container-fluid",children:Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"col-md-2 ",children:Object(E.jsx)(at,{})}),Object(E.jsxs)("div",{className:"col mt-5",children:[Object(E.jsx)("h4",{children:"Create Category"}),Object(E.jsx)(jt,{category:n,setCategory:a,handleSubmit:function(e){e.preventDefault(),o(!0),q(n,b.token).then((function(e){a(""),o(!1),N.b.success("".concat(e.data.name," is created")),f()})).catch((function(e){o(!1),N.b.error(e.response.data)}))}}),Object(E.jsx)("hr",{}),Object(E.jsx)(dt,{keyword:O,setKeyword:m}),j.filter((function(e){return e.name.toLowerCase().includes(O)})).map((function(e){return Object(E.jsxs)("div",{className:"alert alert-secondary",children:[e.name,Object(E.jsx)("span",{className:"float-right",onClick:function(){return t=e.slug,void(window.confirm("are you sure you wanna delete ".concat(t))&&(o(!0),K(t,b.token).then((function(e){o(!1),N.b.success(e.data.result),f()})).catch((function(e){o(!1),N.b.error(e)}))));var t},children:Object(E.jsx)(tt.a,{className:"text-danger btn"})}),Object(E.jsx)("span",{className:"float-right",children:Object(E.jsxs)(y.b,{to:"/admin/category/".concat(e.slug),children:["    ",Object(E.jsx)(ut.a,{className:"text-warning btn"})]})})]},e._id)}))]})]})})},ht=function(e){e.match;var t=e.history,n=Object(c.useState)(""),a=Object(u.a)(n,2),r=a[0],s=a[1],o=Object(c.useState)(!1),i=Object(u.a)(o,2),j=i[0],d=i[1],b=Object(x.c)((function(e){return e})).user,h=Object(l.h)().slug;Object(c.useEffect)((function(){p()}),[]);var p=function(){d(!0),G(h).then((function(e){s(e.data.categoryResult.name),d(!1)})).catch((function(e){console.log(e.response),d(!1)}))};return Object(E.jsx)("div",{className:"container-fluid",children:Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"col-md-2 ",children:Object(E.jsx)(at,{})}),Object(E.jsxs)("div",{className:"col mt-5",children:[j?Object(E.jsx)("h4",{className:"text-primary",children:"Loading..."}):Object(E.jsx)("h4",{children:"Update Category"}),Object(E.jsx)(jt,{category:r,setCategory:s,handleSubmit:function(e){e.preventDefault(),d(!0),z(h,r,b.token).then((function(e){s(""),d(!1),N.b.success("".concat(h," is updated")),t.push("/admin/category")})).catch((function(e){d(!1),N.b.error(e.response.data)}))}})]})]})})},pt=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),s=Object(u.a)(r,2),o=s[0],i=s[1],l=Object(c.useState)(!1),j=Object(u.a)(l,2),d=(j[0],j[1]),b=Object(c.useState)([]),h=Object(u.a)(b,2),p=h[0],O=h[1],m=Object(x.c)((function(e){return e})).user,f=Object(c.useState)(""),g=Object(u.a)(f,2),v=g[0],w=g[1],S=Object(c.useState)(""),k=Object(u.a)(S,2),C=k[0],A=k[1];Object(c.useEffect)((function(){T(),I()}),[]);var I=function(){X().then((function(e){console.log(e.data),O(e.data)})).catch((function(e){console.log(e.response)}))},T=function(){Y().then((function(e){console.log(e.data),i(e.data)})).catch((function(e){console.log(e.response)}))};return Object(E.jsx)("div",{className:"container-fluid",children:Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"col-md-2 ",children:Object(E.jsx)(at,{})}),Object(E.jsxs)("div",{className:"col mt-5",children:[Object(E.jsx)("h4",{children:"Create Sub Category"}),Object(E.jsxs)("select",{className:"form-control pl-2",onChange:function(e){return A(e.target.value)},children:[Object(E.jsx)("option",{children:"please select one parent"}),o.map((function(e){return Object(E.jsx)("option",{value:e._id,children:e.name},e._id)}))]}),Object(E.jsx)("br",{}),Object(E.jsx)(jt,{category:n,setCategory:a,handleSubmit:function(e){e.preventDefault(),d(!0),ee(n,C,m.token).then((function(e){a(""),d(!1),N.b.success("".concat(e.data.name," is created")),I()})).catch((function(e){d(!1),N.b.error(e.response.data)}))}}),Object(E.jsx)("hr",{}),Object(E.jsx)(dt,{keyword:v,setKeyword:w}),p.filter((function(e){return e.name.toLowerCase().includes(v)})).map((function(e){return Object(E.jsxs)("div",{className:"alert alert-secondary",children:[e.name,Object(E.jsx)("span",{className:"float-right",onClick:function(){return t=e.slug,void(window.confirm("are you sure you wanna delete ".concat(t))&&(d(!0),ne(t,m.token).then((function(e){d(!1),N.b.success(e.data.result),I()})).catch((function(e){d(!1),N.b.error(e)}))));var t},children:Object(E.jsx)(tt.a,{className:"text-danger btn"})}),Object(E.jsx)("span",{className:"float-right",children:Object(E.jsxs)(y.b,{to:"/admin/sub-category/sub/".concat(e.slug),children:["    ",Object(E.jsx)(ut.a,{className:"text-warning btn"})]})})]},e._id)}))]})]})})},Ot=function(e){e.match;var t=e.history,n=Object(c.useState)(""),a=Object(u.a)(n,2),r=a[0],s=a[1],o=Object(c.useState)([]),i=Object(u.a)(o,2),j=i[0],d=i[1],b=Object(c.useState)(!1),h=Object(u.a)(b,2),p=h[0],O=h[1],m=Object(c.useState)(""),f=Object(u.a)(m,2),g=f[0],v=f[1],y=Object(x.c)((function(e){return e})).user,w=Object(l.h)().slug;Object(c.useEffect)((function(){S(),k()}),[]);var S=function(){O(!0),$(w).then((function(e){console.log(e.data),s(e.data.categorySubResult.name),v(e.data.categorySubResult.parent),O(!1)})).catch((function(e){console.log(e.response),O(!1)}))},k=function(){Y().then((function(e){d(e.data)})).catch((function(e){console.log(e.response)}))};return Object(E.jsx)("div",{className:"container-fluid",children:Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"col-md-2 ",children:Object(E.jsx)(at,{})}),Object(E.jsxs)("div",{className:"col mt-5",children:[p?Object(E.jsx)("h4",{className:"text-primary",children:"Loading..."}):Object(E.jsx)("h4",{children:"Update Sub Category"}),Object(E.jsxs)("select",{className:"form-control pl-2",value:g,onChange:function(e){return v(e.target.value)},children:[Object(E.jsx)("option",{children:"please select one parent"}),j.map((function(e){return Object(E.jsx)("option",{value:e._id,selected:g===e._id,children:e.name},e._id)}))]}),Object(E.jsx)("br",{}),Object(E.jsx)(jt,{category:r,setCategory:s,handleSubmit:function(e){e.preventDefault(),O(!0),te(w,r,g,y.token).then((function(e){s(""),O(!1),N.b.success("".concat(w," is updated")),t.push("/admin/sub-category/sub")})).catch((function(e){O(!1),N.b.error(e.response.data)}))}})]})]})})},mt=n(71),ft=n(107),xt=ft.a.Option,gt=function(e){var t=e.onSubmitHandler,n=e.onChangeHandler,c=e.values,a=e.onCategoryChangeHandler,r=e.setValues,s=e.subs,o=c.title,i=c.description,l=c.price,u=(c.category,c.subCategory,c.quantity),j=(c.images,c.shipping,c.color,c.brand,c.colors),d=c.brands,b=c.categories;return Object(E.jsxs)("form",{onSubmit:t,children:[Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Title"}),Object(E.jsx)("input",{className:"form-control",type:"text",name:"title",value:o,onChange:n})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Description"}),Object(E.jsx)("input",{className:"form-control",type:"text",name:"description",value:i,onChange:n})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Price"}),Object(E.jsx)("input",{className:"form-control",type:"number",name:"price",value:l,onChange:n})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Category"}),Object(E.jsxs)("select",{className:"form-control",name:"category",onChange:a,children:[Object(E.jsx)("option",{children:"please select one"}),b.map((function(e){return Object(E.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),s.length>0?Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"sub-category"}),Object(E.jsx)(ft.a,{mode:"multiple",style:{width:"100%"},placeholder:"Please select",onChange:function(e){r(Object(ce.a)(Object(ce.a)({},c),{},{subCategory:e}))},children:s.map((function(e){return Object(E.jsx)(xt,{value:e._id,children:e.name},e._id)}))})]}):null,Object(E.jsx)("br",{}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"quantity"}),Object(E.jsx)("input",{className:"form-control",type:"number",name:"quantity",value:u,onChange:n})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Color"}),Object(E.jsxs)("select",{className:"form-control",name:"color",onChange:n,children:[Object(E.jsx)("option",{children:"please select one"}),j.map((function(e,t){return Object(E.jsx)("option",{value:e,children:e},t)}))]})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Brand"}),Object(E.jsxs)("select",{className:"form-control",name:"brand",onChange:n,children:[Object(E.jsx)("option",{children:"please select one"}),d.map((function(e,t){return Object(E.jsx)("option",{value:e,children:e},t)}))]})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Shipping"}),Object(E.jsxs)("select",{className:"form-control",name:"shipping",onChange:n,children:[Object(E.jsx)("option",{children:"please select shipping option !"}),Object(E.jsx)("option",{value:"No",children:"No"}),Object(E.jsx)("option",{value:"Yes",children:"Yes"})]})]}),Object(E.jsx)("button",{className:"btn btn-outline-info",children:"save"})]})},vt=n(82),yt=n(487),Nt=n(227),wt=n.n(Nt),St=function(){var e=Object(i.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/uploadImage",{image:t},{headers:{token:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),kt=function(){var e=Object(i.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/removeImage",{public_id:t},{headers:{token:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ct=n(469),At=function(e){var t=e.values,n=e.setValues,a=Object(x.c)((function(e){return e})).user,r=Object(c.useState)([]),s=Object(u.a)(r,2),o=s[0],i=s[1];Object(c.useEffect)((function(){console.log("image folder ",t),i(t.images)}),[t.images]);return console.log("image folder only image",o),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{children:o.map((function(e){return Object(E.jsx)(R.a,{className:"mr-3",style:{cursor:"pointer"},onClick:function(){return c=e.public_id,void kt(c,a.token).then((function(e){var a=o.filter((function(e){return e.public_id!==c}));i(a),n(Object(ce.a)(Object(ce.a)({},t),{},{images:a}))})).catch((function(e){console.log(e)}));var c},count:"x",children:Object(E.jsx)(Ct.a,{size:120,shape:"square",src:e.url})},e.public_id)}))}),Object(E.jsx)("br",{}),Object(E.jsx)("div",{className:"row",children:Object(E.jsxs)("label",{className:"ml-3 btn btn-outline-primary",children:[Object(E.jsx)(yt.a,{className:"text-dark pr-2",style:{fontSize:"20px"}}),"image",Object(E.jsx)("input",{type:"file",multiple:!0,hidden:!0,accept:"image/*",onChange:function(e){var t=e.target.files;if(t)for(var c=0;c<t.length;c++)wt.a.imageFileResizer(t[c],720,720,"JPEG",100,0,(function(e){St(e,a.token).then((function(e){n((function(t){return Object(ce.a)(Object(ce.a)({},t),{},{images:[].concat(Object(vt.a)(t.images),[e.data])})})),i((function(t){return[].concat(Object(vt.a)(t),[e.data])}))})).catch((function(e){console.log(e)}))}),"base64")}})]})})]})},Et={title:"",description:"",price:"",category:"",categories:[],subCategory:[],quantity:"",images:[],shipping:"",color:"",brand:"",colors:["Black","Brown","Silver","White","Blue"],brands:["Apple","Lenovo","Dell","Samsung","Asus","Microsoft"]},It=function(){var e=Object(c.useState)(Et),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),s=Object(u.a)(r,2),l=s[0],j=s[1],d=Object(x.c)((function(e){return e})).user;n.categories,n.category;Object(c.useEffect)((function(){b()}),[]);var b=function(){Y().then((function(e){a(Object(ce.a)(Object(ce.a)({},n),{},{categories:e.data}))})).catch((function(e){console.log(e.response)}))},h=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a(Object(ce.a)(Object(ce.a)({},n),{},Object(mt.a)({},t.target.name,t.target.value))),Z(t.target.value).then((function(e){j(e.data)})).catch((function(e){console.log(e)})),j([]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),me(n,d.token).then((function(e){window.alert("".concat(e.data.title," is created")),window.location.reload()})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return console.log(n),Object(E.jsx)("div",{className:"container-fluid",children:Object(E.jsxs)("div",{className:"row mt-2",children:[Object(E.jsx)("div",{className:"col-md-2 ",children:Object(E.jsx)(at,{})}),Object(E.jsxs)("div",{className:"mt-2 col-md-8 offset-md-1",children:[Object(E.jsx)("h4",{children:"Product Create"}),Object(E.jsx)("hr",{}),Object(E.jsx)(At,{values:n,setValues:a}),Object(E.jsx)("br",{}),Object(E.jsx)(gt,{setValues:a,values:n,subs:l,onSubmitHandler:p,onChangeHandler:function(e){a(Object(ce.a)(Object(ce.a)({},n),{},Object(mt.a)({},e.target.name,e.target.value)))},onCategoryChangeHandler:h})]})]})})},Tt=ae.a.Meta,Dt=function(e){var t=e.product,n=e.removeProductHandler,c=t.images,a=t.title,r=t.description;return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(ae.a,{hoverable:!0,className:"mb-3",cover:Object(E.jsx)("img",{alt:"laptop_img",src:c.length?c[0].url:se}),style:{height:"350px",objectFit:"cover"},actions:[Object(E.jsx)(y.b,{to:"/admin/product/".concat(a),children:Object(E.jsx)(ut.a,{className:"text-warning"},"edit")}),Object(E.jsx)(tt.a,{className:"text-danger",onClick:function(){return n(t.title)}},"delete")],children:Object(E.jsx)(Tt,{title:a,description:r.length>50?r.substr(0,50).concat("..."):r})})})},Rt=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(u.a)(r,2),o=(s[0],s[1]),i=Object(x.c)((function(e){return e})).user;Object(c.useEffect)((function(){l()}),[]);var l=function(){o(!0),fe(10).then((function(e){console.log(e.data),a(e.data),o(!1)})).catch((function(e){o(!1),console.log(e)}))},j=function(e){window.confirm("delete ?")&&ve(e,i.token).then((function(e){console.log(e.data),l()})).catch((function(e){console.log(e)}))};return Object(E.jsx)("div",{className:"container-fluid",children:Object(E.jsxs)("div",{className:"row mt-2",children:[Object(E.jsx)("div",{className:"col-md-2 ",children:Object(E.jsx)(at,{})}),Object(E.jsxs)("div",{className:"col-md-8",children:[Object(E.jsx)("h4",{children:"All Products"}),Object(E.jsx)("hr",{}),Object(E.jsx)("div",{className:"row",children:n.map((function(e){return Object(E.jsx)("div",{className:"col-md-4",children:Object(E.jsx)(Dt,{product:e,removeProductHandler:j})},e._id)}))})]})]})})},Ft=ft.a.Option,Bt=function(e){var t=e.onSubmitHandler,n=e.onChangeHandler,a=e.onCategoryChangeHandler,r=e.subs,s=e.values,o=e.setValues,i=s.title,l=s.description,u=s.price,j=s.category,d=s.subCategory,b=s.quantity,h=(s.images,s.shipping),p=s.color,O=s.brand,m=s.colors,f=s.brands,x=s.categories;return Object(c.useEffect)((function(){}),[]),Object(E.jsxs)("form",{onSubmit:t,children:[Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Title"}),Object(E.jsx)("input",{className:"form-control",type:"text",name:"title",value:i,onChange:n})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Description"}),Object(E.jsx)("input",{className:"form-control",type:"text",name:"description",value:l,onChange:n})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Price"}),Object(E.jsx)("input",{className:"form-control",type:"number",name:"price",value:u,onChange:n})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"quantity"}),Object(E.jsx)("input",{className:"form-control",type:"number",name:"quantity",value:b,onChange:n})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Color"}),Object(E.jsxs)("select",{className:"form-control",name:"color",value:p,onChange:n,children:[Object(E.jsx)("option",{children:"please select one"}),m.map((function(e,t){return Object(E.jsx)("option",{value:e,children:e},t)}))]})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Category"}),Object(E.jsxs)("select",{className:"form-control",name:"category",value:j,onChange:a,children:[Object(E.jsx)("option",{children:"please select one"}),x.map((function(e){return Object(E.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"sub-category"}),Object(E.jsx)(ft.a,{mode:"multiple",style:{width:"100%"},placeholder:"Please select",onChange:function(e){o(Object(ce.a)(Object(ce.a)({},s),{},{subCategory:e}))},value:d,children:r.map((function(e){return Object(E.jsx)(Ft,{value:e._id,children:e.name},e._id)}))})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Brand"}),Object(E.jsxs)("select",{className:"form-control",name:"brand",value:O,onChange:n,children:[Object(E.jsx)("option",{children:"please select one"}),f.map((function(e,t){return Object(E.jsx)("option",{value:e,children:e},t)}))]})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Shipping"}),Object(E.jsxs)("select",{className:"form-control",name:"shipping",value:h,onChange:n,children:[Object(E.jsx)("option",{children:"please select shipping option !"}),Object(E.jsx)("option",{value:"No",children:"No"}),Object(E.jsx)("option",{value:"Yes",children:"Yes"})]})]}),Object(E.jsx)("button",{className:"btn btn-outline-info",children:"save"})]})},Lt={title:"",description:"",price:"",category:"",categories:[],subCategory:[],quantity:"",images:[],shipping:"",color:"",brand:"",colors:["Black","Brown","Silver","White","Blue"],brands:["Apple","Lenovo","Dell","Samsung","Asus","Microsoft"]},Mt=function(e){var t=e.match,n=e.history,a=Object(c.useState)(Lt),r=Object(u.a)(a,2),s=r[0],l=r[1],j=Object(x.c)((function(e){return e})).user,d=t.params.slug,b=Object(c.useState)([]),h=Object(u.a)(b,2),p=h[0],O=h[1];Object(c.useEffect)((function(){m(),f()}),[]);var m=function(){xe(d).then((function(e){l((function(t){return Object(ce.a)(Object(ce.a)({},t),e.data[0])})),Z(e.data[0].category).then((function(e){O(e.data)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},f=function(){Y().then((function(e){l((function(t){return Object(ce.a)(Object(ce.a)({},t),{},{categories:e.data})}))})).catch((function(e){console.log(e)}))},g=function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),l(Object(ce.a)(Object(ce.a)({},s),{},(n={},Object(mt.a)(n,t.target.name,t.target.value),Object(mt.a)(n,"subCategory",[]),n))),Z(t.target.value).then((function(e){O(e.data)})).catch((function(e){console.log(e)})),O([]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return console.log("product update ",s),Object(E.jsx)("div",{className:"container-fluid",children:Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"col-md-2 ",children:Object(E.jsx)(at,{})}),Object(E.jsxs)("div",{className:"col",children:[Object(E.jsx)("br",{}),Object(E.jsx)("h4",{children:"Product Update"}),Object(E.jsx)("hr",{}),Object(E.jsx)(At,{values:s,setValues:l}),Object(E.jsx)("br",{}),Object(E.jsx)(Bt,{onSubmitHandler:function(e){e.preventDefault(),ye(d,s,j.token).then((function(e){N.b.success("product update successfully."),n.push("/admin/products")})).catch((function(e){console.log(e)}))},onChangeHandler:function(e){l(Object(ce.a)(Object(ce.a)({},s),{},Object(mt.a)({},e.target.name,e.target.value)))},values:s,subs:p,setValues:l,onCategoryChangeHandler:g})]})]})})},Ht=(n(276),n(228)),Jt=n(168),Qt=Jt.a.TabPane,_t=function(e){var t=e.product,n=t.images,c=t.description;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ht.Carousel,{autoPlay:!0,infiniteLoop:!0,children:n.map((function(e){return Object(E.jsx)("img",{src:e.url},e.public_id)}))}),Object(E.jsxs)(Jt.a,{type:"card",children:[Object(E.jsx)(Qt,{tab:"Description",children:Object(E.jsx)("p",{children:c})},"1"),Object(E.jsx)(Qt,{tab:"More",children:Object(E.jsx)("p",{children:"To know further please contact our Team on xxxx xxx xxx number (toll free)"})},"3")]})]})},Pt=n(489),Vt=n(468),Wt=n(488),Ut=function(e){var t=e.children,n=e.onRatingHandler,a=Object(c.useState)(!1),r=Object(u.a)(a,2),s=r[0],o=r[1],i=Object(x.c)((function(e){return e})).user,j=Object(l.f)(),d=Object(l.h)().slug;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{onClick:function(){i&&i._id?o(!0):j.push({pathname:"/login",state:{from:"/product/".concat(d)}})},children:[Object(E.jsx)(Wt.a,{className:"h6 text-warning"})," ",Object(E.jsx)("br",{}),i&&i._id?Object(E.jsx)("span",{className:"h6 text-warning",children:"Leave Ratings"}):Object(E.jsx)(y.b,{to:"/login",children:Object(E.jsx)("span",{className:"h6 text-warning",children:"Login to leave rating"})})]}),Object(E.jsx)(Vt.a,{title:"Please give you valuable rating",visible:s,onOk:function(){o(!1),n()},onCancel:function(){o(!1)},children:t})]})},Yt=function(e){var t=e.product,n=e.loadProduct,a=Object(c.useState)(0),r=Object(u.a)(a,2),s=r[0],o=r[1],i=Object(x.c)((function(e){return Object(ce.a)({},e)})).user,j=Object(c.useState)("add to cart"),d=Object(u.a)(j,2),b=d[0],h=d[1],p=Object(x.b)(),O=Object(l.f)(),m=t.color,f=t.brand,g=t.shipping,v=t.sold,w=t.price,S=t.category,k=t.subCategory,C=t.quantity,A=t._id;console.log(t),Object(c.useEffect)((function(){if(t.ratings&&i){var e=t.ratings.find((function(e){return e.postedBy===i._id}));e&&o(e.star)}}),[t.ratings,i]);return Object(E.jsx)(ae.a,{actions:[Object(E.jsx)(re.a,{title:b,children:Object(E.jsxs)("a",{onClick:function(){var e=[];if(void 0!==typeof window){localStorage.getItem("cart")&&(e=JSON.parse(localStorage.getItem("cart"))),e.push(Object(ce.a)(Object(ce.a)({},t),{},{count:1}));var n=je.a.uniqWith(e,je.a.isEqual);localStorage.setItem("cart",JSON.stringify(n)),h("added"),p({type:"ADD_TO_CART",payload:n}),p({type:"VISIBLE_ACTIVITY",payload:!0})}},className:"h6 "+(C>0?"text-warning":"text-secondary"),disabled:!C,children:[Object(E.jsx)(L.a,{},"cart"),Object(E.jsx)("br",{}),C>0?"Add to Cart":"Out Of Stock"]})}),Object(E.jsx)(re.a,{title:"Add to Wishlist",children:Object(E.jsxs)("a",{onClick:function(e){e.preventDefault(),Ye(A,i.token).then((function(e){console.log("ADDED TO WISHLIST",e.data),N.b.success("Added to wishlist"),O.push("/user/wishlist")})).catch((function(e){console.log(e)}))},children:[Object(E.jsx)(Pt.a,{className:"h6 text-warning"},"heart"),Object(E.jsx)("br",{}),Object(E.jsx)("span",{className:"h6 text-warning",children:"Add to Wishlist"})]})}),Object(E.jsx)(Ut,{onRatingHandler:function(){Se(A,s,i.token).then((function(e){console.log(e.data),n()})).catch((function(e){console.log(e)}))},children:Object(E.jsx)(ie.a,{rating:s,starRatedColor:"red",changeRating:function(e,t){o(e),console.log(e,t)},numberOfStars:5,name:A})})],children:Object(E.jsxs)("ul",{className:"list-group list-group-flush ",children:[Object(E.jsxs)("li",{className:"list-group-item d-flex  justify-content-between",children:[Object(E.jsx)("span",{className:"h6 text-uppercase",children:"brand"}),Object(E.jsx)("span",{className:"h6 text-uppercase",children:f})]}),Object(E.jsxs)("li",{className:"list-group-item d-flex  justify-content-between ",children:[Object(E.jsx)("span",{className:"h6 text-uppercase",children:"category"}),Object(E.jsx)(y.b,{className:"h6 text-uppercase btn btn-link btn-primary",to:S&&S.slug?"/category/".concat(S.slug):"",children:S&&S.name})]}),Object(E.jsxs)("li",{className:"list-group-item d-flex  justify-content-between ",children:[Object(E.jsx)("span",{className:"h6 text-uppercase",children:"sub-category"}),k&&k.map((function(e){return Object(E.jsx)(y.b,{className:"h6 text-uppercase btn btn-link btn-primary",to:e&&e.slug?"/subcategory/".concat(e.slug):"",children:e.name},e._id)}))]}),Object(E.jsxs)("li",{className:"list-group-item d-flex  justify-content-between",children:[Object(E.jsx)("span",{className:"h6 text-uppercase",children:"color"}),Object(E.jsx)("span",{className:"h6 text-uppercase",children:m})]}),Object(E.jsxs)("li",{className:"list-group-item d-flex  justify-content-between ",children:[Object(E.jsx)("span",{className:"h6 text-uppercase",children:"price"}),Object(E.jsx)("span",{className:"h6 text-uppercase",children:w})]}),Object(E.jsxs)("li",{className:"list-group-item d-flex  justify-content-between ",children:[Object(E.jsx)("span",{className:"h6 text-uppercase",children:"quantity"}),Object(E.jsx)("span",{className:"h6 text-uppercase",children:C})]}),Object(E.jsxs)("li",{className:"list-group-item d-flex  justify-content-between ",children:[Object(E.jsx)("span",{className:"h6 text-uppercase",children:"sold"}),Object(E.jsx)("span",{className:"h6 text-uppercase",children:v})]}),Object(E.jsxs)("li",{className:"list-group-item d-flex  justify-content-between ",children:[Object(E.jsx)("span",{className:"h6 text-uppercase",children:"shipping"}),Object(E.jsx)("span",{className:"h6 text-uppercase",children:g})]})]})})},Gt=function(){var e=Object(c.useState)({}),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),s=Object(u.a)(r,2),j=s[0],d=s[1],b=Object(l.h)().slug;Object(c.useEffect)((function(){h()}),[b]);var h=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(b).then((function(e){a(e.data[0]),ke(e.data[0]._id).then((function(e){d(e.data)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"container-fluid",children:Object(E.jsxs)("div",{className:"row mt-3",children:[Object(E.jsx)("div",{className:"col-md-7",children:Object.keys(n).length>0&&n.images&&n.images.length?Object(E.jsx)(_t,{product:n}):Object(E.jsx)("h4",{children:"no image present"})}),Object(E.jsxs)("div",{className:"col-md-5",children:[Object(E.jsx)("h4",{className:" pb-3 text-dark text-center font-weight-bold  text-uppercase border-bottom ",children:Object.keys(n).length>0&&n.title}),Object.keys(n).length>0&&Object(E.jsx)(le,{product:n}),Object.keys(n).length>0&&Object(E.jsx)(Yt,{product:n,loadProduct:h})]})]})}),Object(E.jsx)("h4",{className:" jumbotron mt-3 p-3 text-center text-uppercase font-weight-bold ",children:"Relevant Category"}),Object(E.jsx)("div",{className:"container",children:j.length?Object(E.jsx)("div",{className:"row justify-content-around",children:j.map((function(e){return Object(E.jsx)("div",{className:"col-md-3",children:Object(E.jsx)(be,{product:e})},e._id)}))}):Object(E.jsx)("h6",{className:"text-center",children:"No relevant category present"})})]})},qt=n(94),zt=function(e){Object(qt.a)(e);var t=Object(c.useState)([]),n=Object(u.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(!1),o=Object(u.a)(s,2),i=o[0],j=o[1],d=Object(l.h)().slug;return Object(c.useEffect)((function(){j(!0),G(d).then((function(e){r(e.data.products),j(!1)})).catch((function(e){console.log(e),j(!1)}))}),[]),Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{className:"container",children:i?Object(E.jsx)("h4",{className:"text-center text-warning",children:"Loading..."}):Object(E.jsx)("div",{className:"row mt-5 justify-content-around",children:a.length?a.map((function(e){return Object(E.jsx)("div",{className:"col-md-3",children:Object(E.jsx)(be,{product:e})},e._id)})):Object(E.jsxs)("h4",{className:"text-center text-warning",children:["No Product found on ",Object(E.jsx)("span",{className:"text-primary",children:d.toUpperCase()})]})})})})},Kt=function(e){Object(qt.a)(e);var t=Object(c.useState)([]),n=Object(u.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(!1),o=Object(u.a)(s,2),i=o[0],j=o[1],d=Object(l.h)().slug;return Object(c.useEffect)((function(){j(!0),$(d).then((function(e){r(e.data.products),j(!1)})).catch((function(e){console.log(e),j(!1)}))}),[]),Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{className:"container",children:i?Object(E.jsx)("h4",{className:"text-center text-warning",children:"Loading..."}):Object(E.jsx)("div",{className:"row mt-5 justify-content-around",children:a.length?a.map((function(e){return Object(E.jsx)("div",{className:"col-md-3",children:Object(E.jsx)(be,{product:e})},e._id)})):Object(E.jsxs)("h4",{className:"text-center text-warning",children:["No Product found on ",Object(E.jsx)("span",{className:"text-primary",children:d.toUpperCase()})," sub category ."]})})})})},Zt=n(474),Xt=n(473),$t=n(463),en=n(490),tn=n(491),nn=n(492),cn=function(e){var t=e.handleRatingChange,n=e.numberOfRatings;return Object(E.jsx)("span",{className:"pl-3 pb-2",children:Object(E.jsx)(ie.a,{rating:n,starDimension:"16px",starRatedColor:"red",starHoverColor:"red",starEmptyColor:"red",changeRating:function(){return t(n)},numberOfStars:n,name:"rating"})})},an=D.a.SubMenu,rn=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),s=Object(u.a)(r,2),o=s[0],i=s[1],l=Object(c.useState)([]),j=Object(u.a)(l,2),d=j[0],b=j[1],h=Object(x.c)((function(e){return e})).search,p=Object(c.useState)([0,0]),O=Object(u.a)(p,2),m=O[0],f=O[1],g=Object(c.useState)(!1),v=Object(u.a)(g,2),y=v[0],N=v[1],w=Object(c.useState)(0),S=Object(u.a)(w,2),k=(S[0],S[1]),C=Object(c.useState)([]),A=Object(u.a)(C,2),I=A[0],T=A[1],R=Object(c.useState)(""),F=Object(u.a)(R,2),B=(F[0],F[1]),L=Object(c.useState)([]),M=Object(u.a)(L,2),H=M[0],J=M[1],Q=Object(c.useState)([]),_=Object(u.a)(Q,2),P=_[0],V=_[1],W=Object(c.useState)(""),U=Object(u.a)(W,2),G=U[0],q=U[1],z=Object(c.useState)(""),K=Object(u.a)(z,2),Z=K[0],$=K[1],ee=Object(c.useState)(["No","Yes"]),te=Object(u.a)(ee,2),ne=te[0],ce=(te[1],Object(c.useState)("")),ae=Object(u.a)(ce,2),re=ae[0],se=ae[1],oe=Object(x.b)(),ie=h.text;Object(c.useEffect)((function(){ue(),Y().then((function(e){i(e.data)})).catch((function(e){console.log(e)})),X().then((function(e){T(e.data)})).catch((function(e){console.log(e)})),Ae().then((function(e){J(e.data)})).catch((function(e){console.log(e)})),Ee().then((function(e){V(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(c.useEffect)((function(){var e=setTimeout((function(){le({query:ie})}),300);return function(){e&&clearTimeout(e),B(""),k(0),b([]),$(""),q(""),se(""),f([0,0])}}),[ie]),Object(c.useEffect)((function(){m[0]!==m[1]&&le({price:m})}),[y]);var le=function(e){Ce(e).then((function(e){a(e.data)})).catch((function(e){console.log(e)}))},ue=function(){fe(10).then((function(e){a(e.data)})).catch((function(e){console.log(e)}))},je=function(e){f([0,0]),oe({type:"TEXT_SEARCH",payload:{text:""}}),B(""),k(0),$(""),q(""),se("");var t=Object(vt.a)(d),n=t.indexOf(e.target.value);-1===n?t.push(e.target.value):t.splice(n,1),b(t),le({category:t})},de=function(e){b([]),oe({type:"TEXT_SEARCH",payload:{text:""}}),f([0,0]),B(""),$(""),q(""),se(""),k(e),le({stars:e})},he=function(e){b([]),oe({type:"TEXT_SEARCH",payload:{text:""}}),f([0,0]),k(0),$(""),q(""),se(""),B(e),le({subs:e._id})},Oe=function(e){b([]),oe({type:"TEXT_SEARCH",payload:{text:""}}),f([0,0]),k(0),se(""),B(""),$(""),q(e.target.value),le({brand:e.target.value})},me=function(e){b([]),oe({type:"TEXT_SEARCH",payload:{text:""}}),f([0,0]),k(0),B(""),q(""),se(""),$(e.target.value),le({color:e.target.value})},xe=function(e){b([]),oe({type:"TEXT_SEARCH",payload:{text:""}}),f([0,0]),k(0),B(""),q(""),$(""),se(e.target.value),le({shipping:e.target.value})};return Object(E.jsx)("div",{className:"container-fluid",children:Object(E.jsxs)("div",{className:"row justify-content-between ",children:[Object(E.jsxs)("div",{className:"col-sm-3  d-flex flex-column",children:[Object(E.jsx)("h4",{className:"border-bottom border-success pt-3 pb-2",children:"search/filters"}),Object(E.jsxs)(D.a,{mode:"inline",defaultOpenKeys:["1","2","3","4"],children:[Object(E.jsx)(an,{title:Object(E.jsxs)("span",{className:"h5",children:[Object(E.jsx)(en.a,{})," price"]}),children:Object(E.jsx)("div",{className:"ml-3",children:Object(E.jsx)($t.a,{range:!0,value:m,max:2e4,tipFormatter:function(e){return"$ ".concat(e)},onChange:function(e){B(""),k(0),b([]),oe({type:"TEXT_SEARCH",payload:{text:""}}),$(""),q(""),se(""),f(e),setTimeout((function(){N(!y)}),300)}})})},"1"),Object(E.jsx)(an,{title:Object(E.jsxs)("span",{className:"h5",children:[Object(E.jsx)(tn.a,{})," Category"]}),children:Object(E.jsx)("div",{className:"d-flex flex-column",children:o.map((function(e){return Object(E.jsx)(Zt.a,{className:"py-2 px-3 m-0",value:e._id,onChange:je,checked:d.includes(e._id),children:e.name},e._id)}))})},"2"),Object(E.jsx)(an,{title:Object(E.jsxs)("span",{className:"h5",children:[Object(E.jsx)(Wt.a,{})," Stars"]}),children:Object(E.jsx)("div",{className:"d-flex flex-column",children:function(){for(var e=[],t=5;t>0;t--)e.push(Object(E.jsx)(cn,{numberOfRatings:t,handleRatingChange:de},Object(pe.a)()));return e}()})},"3"),Object(E.jsx)(an,{title:Object(E.jsxs)("span",{className:"h5",children:[Object(E.jsx)(tn.a,{})," sub-category"]}),children:I.map((function(e){return Object(E.jsx)("div",{onClick:function(){return he(e)},style:{cursor:"pointer"},className:"p-2 m-2 badge badge-secondary",children:e.name.toUpperCase()},e._id)}))},"4"),Object(E.jsx)(an,{title:Object(E.jsxs)("span",{className:"h5",children:[Object(E.jsx)(tn.a,{})," Brands"]}),children:Object(E.jsx)("div",{className:"d-flex flex-column",children:H.map((function(e){return Object(E.jsx)(Xt.a,{className:"pl-4 pb-2",value:e,name:e,onChange:Oe,checked:G===e,children:e.toUpperCase()},e)}))})},"5"),Object(E.jsx)(an,{title:Object(E.jsxs)("span",{className:"h5",children:[Object(E.jsx)(tn.a,{})," Colors"]}),children:Object(E.jsx)("div",{className:"d-flex flex-column",children:P.map((function(e){return Object(E.jsx)(Xt.a,{className:"pl-4 pb-2",value:e,name:e,onChange:me,checked:Z===e,children:e.toUpperCase()},e)}))})},"6"),Object(E.jsx)(an,{title:Object(E.jsxs)("span",{className:"h5",children:[Object(E.jsx)(nn.a,{})," Shipping"]}),children:Object(E.jsx)("div",{className:"d-flex flex-column",children:ne.map((function(e){return Object(E.jsx)(Xt.a,{className:"pl-4 pb-2",value:e,name:e,onChange:xe,checked:re===e,children:e.toUpperCase()},e)}))})},"7")]})]}),Object(E.jsxs)("div",{className:"col-sm-8 mt-2",children:[Object(E.jsx)("h5",{className:"text-danger",children:"Products"}),Object(E.jsx)("hr",{className:"bg-success"}),Object(E.jsx)("div",{className:"row ",children:n.length>0?n.map((function(e){return Object(E.jsx)("div",{className:"col-md-4 mt-3",children:Object(E.jsx)(be,{product:e})},e._id)})):Object(E.jsx)("h4",{className:"text-center mt-3 w-100",children:"No Product Found"})})]})]})})},sn=n(238),on=n(66),ln=function(e){var t=e.history,n=Object(x.c)((function(e){return e})),a=n.cart,r=n.user,s=Object(x.b)(),o=Object(c.useState)([]),i=Object(u.a)(o,2),l=i[0],j=i[1];console.log(r),Object(c.useEffect)((function(){console.log("cart",localStorage.getItem("cart")),Ee().then((function(e){j(e.data)})).catch((function(e){console.log(e)}))}),[]);return Object(E.jsxs)("div",{className:"container-fluid",children:[Object(E.jsx)("div",{className:"row",children:Object(E.jsxs)("h4",{children:["Cart / ",a.length," product"]})}),Object(E.jsx)("hr",{}),Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"col-md-8",children:a.length?Object(E.jsxs)("table",{className:"table table-bordered",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"image"}),Object(E.jsx)("th",{children:"title"}),Object(E.jsx)("th",{children:"price"}),Object(E.jsx)("th",{children:"count"}),Object(E.jsx)("th",{children:"color"}),Object(E.jsx)("th",{children:"shipping"}),Object(E.jsx)("th",{children:"brand"}),Object(E.jsx)("th",{children:"remove"})]})}),Object(E.jsx)("tbody",{children:a.map((function(e){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:e.images.length?Object(E.jsx)("div",{style:{width:"100px",height:"auto"},children:Object(E.jsx)(sn.a,{small:e.images[0].url,medium:e.images[0].url})}):"image"}),Object(E.jsx)("th",{children:e.title}),Object(E.jsx)("th",{children:e.price}),Object(E.jsx)("th",{children:Object(E.jsx)("input",{type:"number",value:e.count,className:"form-control",onChange:function(t){return function(e,t){var n=[],c=e.target.value<1?1:e.target.value;if(e.target.value>t.quantity)N.b.error("product out of stock .");else if(void 0!==typeof window){localStorage.getItem("cart")&&(n=JSON.parse(localStorage.getItem("cart")));var a=n.map((function(e){return e._id===t._id&&(e.count=c),e}));localStorage.setItem("cart",JSON.stringify(a)),s({type:"ADD_TO_CART",payload:a})}}(t,e)}})}),Object(E.jsx)("th",{children:Object(E.jsxs)("select",{className:"form-control",name:"color",onChange:function(t){return function(e,t){console.log(e.target.value,t);var n=[];if(void 0!==typeof window){localStorage.getItem("cart")&&(n=JSON.parse(localStorage.getItem("cart")));var c=n.map((function(n){return n._id===t._id&&(n.color=e.target.value),n}));localStorage.setItem("cart",JSON.stringify(c)),s({type:"ADD_TO_CART",payload:c})}}(t,e)},children:[e.color?Object(E.jsx)("option",{value:e.color,children:e.color},e.color):Object(E.jsx)("option",{children:"select"}),l.filter((function(t){return t!==e.color})).map((function(e){return Object(E.jsx)("option",{value:e,children:e},e)}))]})}),Object(E.jsx)("th",{className:"text-center",children:"Yes"===e.shipping?Object(E.jsx)(qe.a,{className:"text-success"}):Object(E.jsx)(ze.a,{className:"text-danger"})}),Object(E.jsx)("th",{children:e.brand}),Object(E.jsx)("th",{className:"text-center",children:Object(E.jsx)(on.a,{style:{cursor:"pointer"},className:"text-danger",onClick:function(){return function(e){var t=[];if(void 0!==typeof window){localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart")));var n=t.filter((function(t){return t._id!==e._id}));localStorage.setItem("cart",JSON.stringify(n)),s({type:"ADD_TO_CART",payload:n})}}(e)}})})]},e._id)}))})]}):Object(E.jsxs)("h6",{children:["no product in cart.Please ",Object(E.jsx)(y.b,{to:"/shop/filter",children:" continue shopping"})]})}),Object(E.jsxs)("div",{className:"col-md-4",children:[Object(E.jsx)("h3",{children:"Order Summery"}),Object(E.jsx)("hr",{}),Object(E.jsx)("h4",{children:"products"}),a.length?a.map((function(e,t){return Object(E.jsxs)("h6",{children:[e.title," x ",e.count," = ",e.count*e.price]},t)})):null,Object(E.jsx)("hr",{}),Object(E.jsxs)("h6",{children:["total = ",a.length?a.reduce((function(e,t){return e+t.count*t.price}),0):0]}),Object(E.jsx)("br",{}),r?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{className:"row ",children:[Object(E.jsx)("span",{className:"col-sm-5 btn btn-outline-info",style:{whiteSpace:"normal"},onClick:function(){Me(a,r.token).then((function(e){e.data.ok&&t.push("/user/checkout")})).catch((function(e){console.log("cart save err",e)}))},children:"proceed to checkout"}),Object(E.jsx)("span",{className:"col-sm-5 btn btn-outline-info ml-5 d-flex justify-content-center align-items-center",onClick:function(){console.log("emptyCart handler"),Je(r.token).then((function(e){localStorage.removeItem("cart"),s({type:"ADD_TO_CART",payload:[]}),N.b.success("cart has been removed.please continue shopping")})).catch((function(e){console.log(e)}))},children:"Empty Cart"})]}),Object(E.jsx)("div",{className:"row",children:Object(E.jsx)("span",{className:"col-sm-5 btn btn-outline-info",style:{whiteSpace:"normal"},onClick:function(){s({type:"COD",payload:!0}),Me(a,r.token).then((function(e){e.data.ok&&t.push("/user/checkout")})).catch((function(e){console.log("cart save err",e)}))},children:"Pay Cash On Delivery"})})]}):Object(E.jsx)("span",{className:"btn btn-outline-info",children:Object(E.jsx)(y.b,{to:{pathname:"/login",state:{from:"/cart"}},children:"Login to checkout"})})]})]})]})},un=n(470),jn=function(){var e=Object(x.c)((function(e){return e})),t=e.drawer,n=e.cart,c=Object(x.b)();return Object(E.jsxs)(un.a,{title:"product / ".concat(n.length),placement:"right",visible:t,onClose:function(e){c({type:"VISIBLE_ACTIVITY",payload:!1})},children:[Object(E.jsx)("div",{className:"container",children:n.map((function(e){return Object(E.jsxs)("div",{className:"row my-2",children:[Object(E.jsx)("div",{className:"col",children:Object(E.jsx)("img",{style:{width:"100%",objectFit:"cover"},src:e.images[0].url})}),Object(E.jsxs)("h6",{className:"text-center w-100 p-3",children:[e.title," x ",e.count]})]},e._id)}))}),Object(E.jsx)(y.b,{className:"btn btn-primary btn-outline  btn-block",onClick:function(e){c({type:"VISIBLE_ACTIVITY",payload:!1})},to:"/cart",children:"Go to Cart page"})]})},dn=n(230),bn=n.n(dn),hn=(n(384),function(e){return new Promise((function(t){var n=document.createElement("script");n.src=e,n.onload=function(){t(!0)},n.onerror=function(){t(!1)},document.body.appendChild(n)}))}),pn=function(e){Object(qt.a)(e);var t=Object(c.useState)([]),n=Object(u.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(0),j=Object(u.a)(s,2),d=j[0],b=j[1],h=Object(c.useState)("<p></p>"),p=Object(u.a)(h,2),O=p[0],m=p[1],f=Object(c.useState)(""),g=Object(u.a)(f,2),v=g[0],y=g[1],w=Object(c.useState)(0),k=Object(u.a)(w,2),C=k[0],A=k[1],I=Object(c.useState)(!1),T=Object(u.a)(I,2),D=T[0],R=T[1],F=Object(c.useState)(""),B=Object(u.a)(F,2),L=B[0],M=B[1],H=Object(c.useState)(!1),J=Object(u.a)(H,2),Q=J[0],_=J[1],P=Object(x.c)((function(e){return e})),V=P.user,W=P.coupon,U=P.cod,Y=Object(x.b)(),G=Object(l.f)();Object(c.useEffect)((function(){He(V.token).then((function(e){r(e.data.products),b(e.data.cartTotal)})).catch((function(e){console.log(e)}))}),[]);var q=function(){var e=Object(i.a)(o.a.mark((function e(){var t,n,c,a,r,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hn("https://checkout.razorpay.com/v1/checkout.js");case 2:if(e.sent){e.next=6;break}return alert("Razorpay SDK failed to load. Are you online?"),e.abrupt("return");case 6:return e.next=8,S.a.post("/api/payment/order",{coupon:W},{headers:{token:V.token}});case 8:if(t=e.sent){e.next=12;break}return alert("Server error. Are you online?"),e.abrupt("return");case 12:n=t.data,c=n.amount,a=n.id,r=n.currency,s=n.created_at,l={key:"rzp_test_ch7pGW9fBa6dhK",amount:c.toString(),currency:r,name:"Laptop World",description:"Test Transaction",order_id:a,handler:function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={orderCreationId:a,razorpayPaymentId:t.razorpay_payment_id,razorpayOrderId:t.razorpay_order_id,razorpaySignature:t.razorpay_signature,amount:c/100,currency:r,created_at:s},console.log("response handler",t),Pe(n,V.token).then((function(e){e.data.ok&&("undefined"!==typeof window&&localStorage.removeItem("cart"),Y({type:"ADD_TO_CART",payload:[]}),Y({type:"DISCOUNT_FOR_COUPON",payload:{}}),Je(V.token),G.push("/user/history"))})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),prefill:{name:V.name,email:V.email},notes:{address:O},theme:{color:"#61dafb"}},new window.Razorpay(l).open();case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{className:"container mt-3",children:Object(E.jsxs)("div",{className:"row",children:[Object(E.jsxs)("div",{className:"col-sm-6",children:[Object(E.jsx)("h4",{children:"Delivary Address"}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)("p",{className:"text-info",children:"Please fill the adress to proceed to pay."}),Object(E.jsx)(bn.a,{value:O,onChange:function(e){m(e),console.log("adress",e)}}),Object(E.jsx)("button",{className:"btn btn-primary mt-2 btn-outline",disabled:"<p></p>"===O||"<p><br></p>"===O,onClick:function(){Qe(O,V.token).then((function(e){_(!0),N.b.success("Adress saved")})).catch((function(e){console.log(e)}))},children:"Save"}),Object(E.jsx)("hr",{}),Object(E.jsx)("h4",{children:"Got Coupon ?"}),Object(E.jsx)("br",{}),Object(E.jsx)("input",{className:"form-control",placeholder:"enter coupon",value:v,onChange:function(e){return y(e.target.value)}}),Object(E.jsx)("br",{}),L?Object(E.jsx)("h4",{className:"bg-danger p-1",children:L}):null,Object(E.jsx)("button",{onClick:function(){_e(v,V.token).then((function(e){A(e.data.totalAfterDiscount),Y({type:"DISCOUNT_FOR_COUPON",payload:{totalAfterDiscount:+e.data.totalAfterDiscount,coupon:!0}}),R(!0),M("")})).catch((function(e){console.log(e.response&&e.response.data),M(e.response.data.error)}))},className:"btn btn-outline-primary",children:"apply"})]}),Object(E.jsxs)("div",{className:"col-sm-6",children:[Object(E.jsx)("h4",{children:"Order Summery"}),Object(E.jsx)("hr",{}),Object(E.jsxs)("p",{children:["product ",a.length]}),Object(E.jsx)("hr",{}),a.map((function(e){return Object(E.jsx)("div",{children:Object(E.jsxs)("p",{children:[e.product.title," (",e.color,") x ",e.count," = ",e.count*e.price]})},e._id)})),Object(E.jsx)("hr",{}),Object(E.jsxs)("p",{children:["Cart Total :",d]}),D?Object(E.jsxs)("p",{className:"bg-success p-1",children:["Total price after discount : ",C]}):null,Object(E.jsx)("div",{className:"row",children:Object(E.jsx)("div",{className:"col-md-6",children:U?Object(E.jsx)("button",{className:"btn btn-primary btn-outline",disabled:!(O&&Q),onClick:function(){Ge(V.token,U,W).then((function(e){console.log("USER CASH ORDER CREATED RES ",e),"undefined"!==typeof window&&localStorage.removeItem("cart"),Y({type:"ADD_TO_CART",payload:[]}),Y({type:"DISCOUNT_FOR_COUPON",payload:{}}),Y({type:"COD",payload:!1}),Je(V.token),setTimeout((function(){G.push("/user/history")}),1e3)})).catch((function(e){console.log("cash on delivery error : ",e)}))},children:"Place Order"}):Object(E.jsx)("button",{className:"btn btn-primary btn-outline",disabled:!(O&&Q),onClick:q,children:"Place Order"})})})]})]})})},On=n(231),mn=n.n(On),fn=function(){var e=Object(i.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/coupon",{couponData:t},{headers:{token:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),xn=function(){var e=Object(i.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.delete("/api/coupon/".concat(t),{headers:{token:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),gn=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/coupon",{headers:{token:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),vn=(n(385),function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(0),s=Object(u.a)(r,2),l=s[0],j=s[1],d=Object(c.useState)(new Date),b=Object(u.a)(d,2),h=b[0],p=b[1],O=Object(c.useState)(!1),m=Object(u.a)(O,2),f=m[0],g=m[1],v=Object(c.useState)([]),y=Object(u.a)(v,2),w=y[0],S=y[1],k=Object(x.c)((function(e){return e})).user;Object(c.useEffect)((function(){C()}),[]);var C=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:gn(k.token).then((function(e){S(e.data)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{className:"container-fluid",children:Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"col-md-2 ",children:Object(E.jsx)(at,{})}),Object(E.jsxs)("div",{className:"col mt-5",children:[f?Object(E.jsx)("h4",{className:"text-danger",children:"loading..."}):Object(E.jsx)("h4",{children:"Create Coupon"}),Object(E.jsx)("hr",{}),Object(E.jsx)("br",{}),Object(E.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g(!0),fn({name:n,discount:l,expiryDate:h},k.token).then((function(e){console.log(e.data),C(),a(""),j(0),p(new Date),g(!1),N.b.success("coupon created")})).catch((function(e){g(!1),console.log(e)}))},children:[Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Name"}),Object(E.jsx)("input",{type:"text",className:"form-control",name:"name",value:n,onChange:function(e){return a(e.target.value)}})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Discount(%)"}),Object(E.jsx)("input",{type:"number",className:"form-control",name:"discount",value:l,onChange:function(e){return j(e.target.value)}})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Expiry Date"}),Object(E.jsx)(mn.a,{className:"form-control",selected:h,onChange:function(e){return p(e)}})]}),Object(E.jsx)("button",{className:"btn btn-outline-primary",children:"Create"})]}),Object(E.jsx)("hr",{}),Object(E.jsxs)("h5",{className:"text-primary",children:[w.length," coupons"]}),Object(E.jsxs)("table",{className:"table",children:[Object(E.jsx)("thead",{className:"thead-light",children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{scope:"col",children:"name"}),Object(E.jsx)("th",{scope:"col",children:"discount"}),Object(E.jsx)("th",{scope:"col",children:"expiry date"}),Object(E.jsx)("th",{scope:"col",children:"action"})]})}),Object(E.jsx)("tbody",{children:w.map((function(e){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:e.name}),Object(E.jsx)("td",{children:e.discount}),Object(E.jsx)("td",{children:new Date(e.expiryDate).toLocaleDateString()}),Object(E.jsx)("td",{children:Object(E.jsx)(tt.a,{className:"text-danger",onClick:function(){return t=e._id,void xn(t,k.token).then((function(e){console.log(e.data),C()})).catch((function(e){console.log(e)}));var t}})})]},e._id)}))})]}),Object(E.jsx)("br",{})]})]})})}),yn=function(){var e=Object(x.b)(),t=Object(l.f)();return Object(c.useEffect)((function(){var n=m.onAuthStateChanged(function(){var n=Object(i.a)(o.a.mark((function n(c){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!c){n.next=7;break}return n.next=3,c.getIdTokenResult();case 3:a=n.sent,C(a).then((function(t){e({type:g,payload:{email:t.data.email,token:a.token,name:t.data.name,role:t.data.role,_id:t.data._id}})})).catch((function(e){console.log(e.message)})),n.next=8;break;case 7:t.push("/login");case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());return function(){n()}}),[t,e]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(V,{}),Object(E.jsx)(N.a,{}),Object(E.jsx)(jn,{}),Object(E.jsxs)(l.c,{children:[Object(E.jsx)(l.a,{path:"/",exact:!0,component:Re}),Object(E.jsx)(l.a,{path:"/register",exact:!0,component:T}),Object(E.jsx)(l.a,{path:"/register/complete",exact:!0,component:Fe}),Object(E.jsx)(l.a,{path:"/login",exact:!0,component:I}),Object(E.jsx)(l.a,{path:"/forgot/password",exact:!0,component:Be}),Object(E.jsx)(et,{path:"/user/history",children:Object(E.jsx)(Ze,{})}),Object(E.jsx)(et,{path:"/user/password",children:Object(E.jsx)(ct,{})}),Object(E.jsx)(et,{path:"/user/wishlist",children:Object(E.jsx)(nt,{})}),Object(E.jsx)(lt,{path:"/admin/dashboard",exact:!0,component:it}),Object(E.jsx)(lt,{path:"/admin/category",exact:!0,component:bt}),Object(E.jsx)(lt,{path:"/admin/category/:slug",exact:!0,component:ht}),Object(E.jsx)(lt,{path:"/admin/sub-category/sub",exact:!0,component:pt}),Object(E.jsx)(lt,{path:"/admin/sub-category/sub/:slug",exact:!0,component:Ot}),Object(E.jsx)(lt,{path:"/admin/product",exact:!0,component:It}),Object(E.jsx)(lt,{path:"/admin/products",exact:!0,component:Rt}),Object(E.jsx)(lt,{path:"/admin/product/:slug",exact:!0,component:Mt}),Object(E.jsx)(l.a,{path:"/product/:slug",exact:!0,component:Gt}),Object(E.jsx)(l.a,{path:"/category/:slug",exact:!0,component:zt}),Object(E.jsx)(l.a,{path:"/subcategory/:slug",exact:!0,component:Kt}),Object(E.jsx)(l.a,{path:"/shop/filter",component:rn}),Object(E.jsx)(l.a,{path:"/cart",component:ln}),Object(E.jsx)(et,{path:"/user/checkout",children:Object(E.jsx)(pn,{})}),Object(E.jsx)(lt,{path:"/admin/coupon",exact:!0,component:vn})]})]})},Nn=(n(454),n(87)),wn=n(234),Sn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(ce.a)(Object(ce.a)({},e),t.payload);case v:return t.payload;default:return e}},kn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TEXT_SEARCH":return Object(ce.a)(Object(ce.a)({},e),t.payload);default:return e}},Cn=[];localStorage.getItem("cart")&&(Cn=JSON.parse(localStorage.getItem("cart")));var An=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":return Object(vt.a)(t.payload);default:return e}},En=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"VISIBLE_ACTIVITY":return t.payload;default:return e}},In=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{totalAfterDiscount:0,coupon:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DISCOUNT_FOR_COUPON":return Object(ce.a)(Object(ce.a)({},e),t.payload);default:return e}},Tn=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COD":return t.payload;default:return e}},Dn=function(){var e=Object(l.g)().pathname;return Object(c.useEffect)((function(){window.scrollTo(0,0)}),[e]),null},Rn=Object(Nn.combineReducers)({user:Sn,search:kn,cart:An,drawer:En,coupon:In,cod:Tn}),Fn=Object(Nn.createStore)(Rn,Object(wn.composeWithDevTools)());r.a.render(Object(E.jsx)(x.a,{store:Fn,children:Object(E.jsxs)(y.a,{children:[Object(E.jsx)(Dn,{}),Object(E.jsx)(yn,{})]})}),document.getElementById("root"))}},[[455,1,2]]]);
//# sourceMappingURL=main.177f1061.chunk.js.map
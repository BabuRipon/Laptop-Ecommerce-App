(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{247:function(e,t,c){},455:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(33),r=c.n(a),s=c(8),o=c.n(s),i=c(11),l=(c(247),c(35)),u=c(9),j=c(104),d=c(475),b=c(476),h=c(477),p=c(478),O=c(147);c(457),c(248),c(458);O.a.initializeApp({apiKey:"AIzaSyDhQWDxXoufMpm2IibRVA773RSt8EMLW_g",authDomain:"ecommerce-c8bb3.firebaseapp.com",projectId:"ecommerce-c8bb3",storageBucket:"ecommerce-c8bb3.appspot.com",messagingSenderId:"907312444013",appId:"1:907312444013:web:eafba6a61fedd6f3acc564"});var m=O.a.auth(),f=new O.a.auth.GoogleAuthProvider,x=c(16),g="LOGGED_IN_USER",v="LOGGED_OUT_USER",y=c(21),N=c(29),w=c(25),S=c.n(w),k=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/create-or-update-user",{},{headers:{token:t.token}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/current-user",{},{headers:{token:t.token}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/current-admin",{},{headers:{token:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=c(1),I=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),s=Object(u.a)(r,2),O=s[0],v=s[1],w=Object(n.useState)(!1),S=Object(u.a)(w,2),C=S[0],A=S[1],I=Object(n.useState)("password"),T=Object(u.a)(I,2),D=T[0],R=T[1],B=Object(n.useState)(!1),F=Object(u.a)(B,2),L=F[0],M=F[1],H=Object(x.b)(),J=Object(l.f)(),Q=(Object(x.c)((function(e){return e})).user,function(e){e.preventDefault(),A((function(e){return!e})),R((function(e){return"password"===e?"text":"password"}))}),V=function(e){J.location.state?J.push(J.location.state.from):"admin"===e.data.role?J.push("/admin/dashboard"):J.push("/user/history")},W=function(e){e.preventDefault(),M(!0),console.log("onLoginHandler "+JSON.stringify(J.location.state)),m.signInWithEmailAndPassword(c,O).then(function(){var e=Object(i.a)(o.a.mark((function e(t){var c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.user,e.next=3,c.getIdTokenResult();case 3:n=e.sent,k(n).then((function(e){H({type:g,payload:{email:e.data.email,token:n.token,name:e.data.name,role:e.data.role,_id:e.data._id}}),V(e)})).catch((function(e){console.log(e.message)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){M(!1),"auth/user-not-found"===e.code?(N.b.error("email not register"),setTimeout((function(){console.log(J),J.push("/register")}),2e3)):N.b.error("password is incorrect")}))},_=function(){var e=Object(i.a)(o.a.mark((function e(){var t,c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.signInWithPopup(f);case 3:return t=e.sent,c=t.user,e.next=7,c.getIdTokenResult();case 7:n=e.sent,k(n).then((function(e){console.log("backend setup success : ",e),H({type:g,payload:{email:e.data.email,token:n.token,name:e.data.name,role:e.data.role,_id:e.data._id}}),V(e)})).catch((function(e){console.log(e.message)})),J.push("/"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{className:"container p-5",children:Object(E.jsx)("div",{className:"row",children:Object(E.jsxs)("div",{className:"col-md-6 offset-md-3",children:[L?Object(E.jsx)("h4",{className:"text-primary",children:"Loading..."}):Object(E.jsx)("h4",{children:"Login"}),Object(E.jsxs)("form",{children:[Object(E.jsx)("div",{className:"input-group mb-3",children:Object(E.jsx)("input",{value:c,type:"text",className:"form-control",placeholder:"username",onChange:function(e){return a(e.target.value)},autoFocus:!0})}),Object(E.jsxs)("div",{className:"input-group mb-3",children:[Object(E.jsx)("input",{value:O,type:D,className:"form-control",placeholder:"password",onChange:function(e){return v(e.target.value)}}),Object(E.jsx)("label",{onClick:Q,style:{fontSize:"1.2rem"},children:C?Object(E.jsx)(d.a,{}):Object(E.jsx)(b.a,{})})]}),Object(E.jsx)(j.a,{type:"primary",shape:"round",block:!0,className:"mb-3",size:"large",icon:Object(E.jsx)(h.a,{}),onClick:W,children:"Login with email/password"}),Object(E.jsx)(j.a,{type:"danger",shape:"round",block:!0,size:"large",icon:Object(E.jsx)(p.a,{}),onClick:_,className:"mb-3",children:"Login with Google"}),Object(E.jsx)(y.b,{to:"/forgot/password",className:"float-right text-primary",style:{fontSize:"1.1rem"},children:"Forgot Password"})]})]})})})},T=(c(179),function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),c=t[0],a=t[1],r=function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={url:"".concat("http://localhost:3001/register/complete"),handleCodeInApp:!0},e.next=4,m.sendSignInLinkToEmail(c,n);case 4:N.b.success("a link is send to user ".concat(c," to register")),window.localStorage.setItem("emailForSignIn",c),a("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{className:"contianer p-5",children:Object(E.jsx)("div",{className:"row",children:Object(E.jsxs)("div",{className:"col-md-6 offset-md-3",children:[Object(E.jsx)("h4",{children:"Register"}),Object(E.jsxs)("form",{onSubmit:r,children:[Object(E.jsx)("input",{type:"email",value:c,onChange:function(e){return a(e.target.value)},className:"form-control",placeholder:"abc@gamil.com",autoFocus:!0}),Object(E.jsx)("br",{}),Object(E.jsx)("button",{type:"submit",className:"btn btn-raised btn-primary",children:"Register"})]})]})})})}),D=c(465),R=c(471),B=c(479),F=c(480),L=c(481),M=c(482),H=c(483),J=c(484),Q=c(239),V=function(){var e=Object(x.b)(),t=Object(l.f)(),c=Object(x.c)((function(e){return e})).search.text,n=function(e){e.preventDefault(),t.push("/shop/filter?".concat(c))};return Object(E.jsxs)("form",{className:"form-inline my-2",onSubmit:n,children:[Object(E.jsx)("input",{type:"search",className:"form-control ",placeholder:"Search",value:c,onChange:function(t){e({type:"TEXT_SEARCH",payload:{text:t.target.value}})}}),Object(E.jsx)(Q.a,{style:{cursor:"pointer"},onClick:n})]})},W=D.a.SubMenu,_=Object(l.i)((function(e){var t=Object(n.useState)("mail"),c=Object(u.a)(t,2),a=c[0],r=c[1],s=Object(x.b)(),j=Object(l.f)(),d=Object(x.c)((function(e){return e})),b=d.user,h=d.cart;console.log(h);var p=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.signOut();case 2:s({type:v,payload:null}),j.push("/login");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(D.a,{onClick:function(e){r(e.key)},selectedKeys:[a],mode:"horizontal",children:[Object(E.jsx)(D.a.Item,{icon:Object(E.jsx)(B.a,{}),children:Object(E.jsx)(y.b,{to:"/",children:"Home"})},"home"),Object(E.jsx)(D.a.Item,{icon:Object(E.jsx)(F.a,{}),children:Object(E.jsx)(y.b,{to:"/shop/filter",children:"Shop"})},"shop"),Object(E.jsx)(D.a.Item,{icon:Object(E.jsx)(L.a,{}),children:Object(E.jsx)(R.a,{count:h.length,offset:[9,0],children:Object(E.jsx)(y.b,{to:"/cart",children:"Cart"})})},"cart"),!b&&Object(E.jsx)(D.a.Item,{icon:Object(E.jsx)(M.a,{}),className:"float-right",children:Object(E.jsx)(y.b,{to:"/register",children:"Register"})},"register"),!b&&Object(E.jsx)(D.a.Item,{icon:Object(E.jsx)(H.a,{}),className:"float-right",children:Object(E.jsx)(y.b,{to:"/login",children:"Login"})},"login"),b&&Object(E.jsxs)(W,{className:"float-right",title:null===b||void 0===b?void 0:b.email.split("@")[0],children:[Object(E.jsx)(D.a.ItemGroup,{children:Object(E.jsx)(D.a.Item,{icon:Object(E.jsx)(J.a,{}),children:"admin"===b.role?Object(E.jsx)(y.b,{to:"/admin/dashboard",children:"Dashboard"}):Object(E.jsx)(y.b,{to:"/user/history",children:"Dashboard"})})}),Object(E.jsx)(D.a.ItemGroup,{children:Object(E.jsx)(D.a.Item,{icon:Object(E.jsx)(J.a,{}),onClick:p,children:"Logout"})})]},"username"),Object(E.jsx)("span",{className:"float-right",children:Object(E.jsx)(V,{})})]})})),P=c(225),Y=c.n(P),U=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/categories");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/category/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/category",{name:t},{headers:{token:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),z=function(){var e=Object(i.a)(o.a.mark((function e(t,c,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.put("/api/category/".concat(t),{name:c},{headers:{token:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),K=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.delete("/api/category/".concat(t),{headers:{token:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),Z=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/category/subs/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/subs");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/sub/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(i.a)(o.a.mark((function e(t,c,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/sub",{name:t,parent:c},{headers:{token:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),te=function(){var e=Object(i.a)(o.a.mark((function e(t,c,n,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.put("/api/sub/".concat(t),{name:c,parent:n},{headers:{token:a}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n,a){return e.apply(this,arguments)}}(),ce=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.delete("/api/sub/".concat(t),{headers:{token:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),ne=c(20),ae=c(466),re=c(97),se="data:image/jpeg;base64,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",oe=c(92),ie=c.n(oe),le=function(e){var t=e.product,c=Object(n.useState)(),a=Object(u.a)(c,2),r=a[0],s=a[1];return Object(n.useEffect)((function(){var e=0;t.ratings&&t.ratings.length&&(e=t.ratings.map((function(e){return e.star})).reduce((function(e,t){return e+t})),s(e/t.ratings.length))}),[t.ratings]),t.ratings&&t.ratings.length?Object(E.jsx)("div",{className:"d-flex justify-content-center",children:Object(E.jsx)(ie.a,{starDimension:"25px",rating:r,starRatedColor:"red",numberOfStars:5})}):Object(E.jsx)("h6",{className:"text-center",children:"No Rating Yet"})},ue=c(98),je=c.n(ue),de=ae.a.Meta,be=function(e){var t=e.product,c=t.images,a=t.title,r=t.description,s=t.price,o=t.quantity,i=t.slug,l=Object(n.useState)("add to cart"),j=Object(u.a)(l,2),b=(j[0],j[1]),h=Object(x.b)();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(le,{product:t}),Object(E.jsx)(ae.a,{hoverable:!0,className:"mb-3",cover:Object(E.jsx)("img",{alt:"laptop_img",src:c.length?c[0].url:se}),style:{height:"380px",objectFit:"cover"},actions:[Object(E.jsx)(re.a,{title:"View Product Details",children:Object(E.jsxs)(y.b,{to:"/product/".concat(i),children:[Object(E.jsx)(d.a,{className:"text-warning"},"edit"),Object(E.jsx)("br",{}),Object(E.jsx)("span",{children:"View Product"})]})}),Object(E.jsx)(re.a,{title:o>0?"Add To Cart":"Out Of Stock",children:Object(E.jsxs)("a",{onClick:function(){var e=[];if(void 0!==typeof window){localStorage.getItem("cart")&&(e=JSON.parse(localStorage.getItem("cart"))),e.push(Object(ne.a)(Object(ne.a)({},t),{},{count:1}));var c=je.a.uniqWith(e,je.a.isEqual);localStorage.setItem("cart",JSON.stringify(c)),b("added"),h({type:"ADD_TO_CART",payload:c}),h({type:"VISIBLE_ACTIVITY",payload:!0})}},disabled:!o&&!0,children:[Object(E.jsx)(L.a,{className:"text-danger"},"addtocart"),Object(E.jsx)("br",{}),Object(E.jsx)("span",{children:o>0?"Add To Cart":"Out Of Stock"})]})})],children:Object(E.jsx)(de,{title:Object(E.jsxs)("span",{children:[a," - ",Object(E.jsxs)("span",{className:"text-dark font-weight-bold",children:["\u20b9",s]})]}),description:r.length>50?r.substr(0,50).concat("..."):r})})]})},he=c(467),pe=c(472),Oe=function(e){for(var t=e.count,c=[],n=0;n<t;n++)c.push(Object(E.jsx)("div",{className:"col-md-3",children:Object(E.jsx)(ae.a,{children:Object(E.jsx)(he.a,{active:!0})})},Object(pe.a)()));return c},me=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/product",Object(ne.a)({},t),{headers:{token:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),fe=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/products/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/product/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/product/with/populate/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.delete("/api/product/".concat(t),{headers:{token:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),ye=function(){var e=Object(i.a)(o.a.mark((function e(t,c,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.put("/api/product/".concat(t),Object(ne.a)({},c),{headers:{token:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(i.a)(o.a.mark((function e(t,c,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/products",{sort:t,order:c,page:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),we=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/products/total");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(i.a)(o.a.mark((function e(t,c,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.put("/api/product/star/".concat(t),{star_count:c},{headers:{token:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),ke=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/product/relevant/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/query/search",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/query/search/brand/enum");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/query/search/color/enum");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ie=c(464),Te=function(e){var t=Object(n.useState)([]),c=Object(u.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(!1),o=Object(u.a)(s,2),i=o[0],l=o[1],j=Object(n.useState)(1),d=Object(u.a)(j,2),b=d[0],h=d[1],p=Object(n.useState)(0),O=Object(u.a)(p,2),m=O[0],f=O[1];Object(n.useEffect)((function(){x()}),[b]),Object(n.useEffect)((function(){we().then((function(e){f(e.data)})).catch((function(e){console.log(e)}))}),[]);var x=function(){l(!0),Ne("sold","desc",b).then((function(e){r(e.data),l(!1)})).catch((function(e){console.log(e),l(!1)}))};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h4",{className:" font-weight-bold  jumbotron p-3  mb-5  text-center text-uppercase ",children:"best seller"}),Object(E.jsx)("div",{className:"container",children:i?Object(E.jsx)("div",{className:"row justify-content-around",children:Object(E.jsx)(Oe,{count:4})}):Object(E.jsx)("div",{className:"row justify-content-around",children:a.map((function(e){return Object(E.jsx)("div",{className:"col-md-3",children:Object(E.jsx)(be,{product:e})},e._id)}))})}),Object(E.jsx)("div",{className:"text-center my-5",children:Object(E.jsx)(Ie.a,{current:b,total:m/3*10,onChange:function(e){return h(e)}})}),Object(E.jsx)("br",{})]})},De=function(e){var t=Object(n.useState)([]),c=Object(u.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(!1),o=Object(u.a)(s,2),i=o[0],l=o[1],j=Object(n.useState)(1),d=Object(u.a)(j,2),b=d[0],h=d[1],p=Object(n.useState)(0),O=Object(u.a)(p,2),m=O[0],f=O[1];Object(n.useEffect)((function(){x()}),[b]),Object(n.useEffect)((function(){we().then((function(e){f(e.data)})).catch((function(e){console.log(e)}))}),[]);var x=function(){l(!0),Ne("createdAt","desc",b).then((function(e){r(e.data),l(!1)})).catch((function(e){console.log(e),l(!1)}))};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h4",{className:" font-weight-bold  jumbotron p-3  mb-5  text-center text-uppercase ",children:"new arival product"}),Object(E.jsx)("div",{className:"container",children:i?Object(E.jsx)("div",{className:"row justify-content-around",children:Object(E.jsx)(Oe,{count:4})}):Object(E.jsx)("div",{className:"row justify-content-around",children:a.map((function(e){return Object(E.jsx)("div",{className:"col-md-3",children:Object(E.jsx)(be,{product:e})},e._id)}))})}),Object(E.jsx)("div",{className:"text-center my-5",children:Object(E.jsx)(Ie.a,{current:b,total:m/3*10,onChange:function(e){return h(e)}})})]})},Re=function(e){var t=Object(n.useState)([]),c=Object(u.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)([]),o=Object(u.a)(s,2),i=o[0],l=o[1];return Object(n.useEffect)((function(){U().then((function(e){r(e.data)})).catch((function(e){console.log("category",e)})),X().then((function(e){l(e.data)})).catch((function(e){console.log("sub category",e)}))}),[]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"jumbotron text-center h4",children:Object(E.jsx)(Y.a,{options:{strings:["Welcome to our site","Hope you feel great","For query contact with  our team"],autoStart:!0,loop:!0}})}),Object(E.jsx)(De,{}),Object(E.jsx)("br",{}),Object(E.jsx)(Te,{}),Object(E.jsx)("br",{}),Object(E.jsx)("h4",{className:" font-weight-bold  jumbotron p-3  mb-5  text-center text-uppercase ",children:"Category"}),Object(E.jsx)("div",{className:"container",children:Object(E.jsx)("div",{className:"row",children:a.map((function(e){return Object(E.jsx)(y.b,{to:"/category/".concat(e.slug),className:"col-sm-2 mb-3",children:Object(E.jsx)("h6",{className:"btn btn-outline-secondary py-2 px-5 ",children:e.name})},e._id)}))})}),Object(E.jsx)("h4",{className:" font-weight-bold  jumbotron p-3  mb-5  text-center text-uppercase ",children:"Sub Category"}),Object(E.jsx)("div",{className:"container",children:Object(E.jsx)("div",{className:"row",children:i.map((function(e){return Object(E.jsx)(y.b,{to:"/subcategory/".concat(e.slug),className:"col-sm-2 mb-3",children:Object(E.jsx)("h6",{className:"btn btn-outline-secondary py-2 px-5 ",children:e.name})},e._id)}))})})]})},Be=function(e){var t=e.history,c=Object(n.useState)(""),a=Object(u.a)(c,2),r=a[0],s=a[1],l=Object(n.useState)(""),j=Object(u.a)(l,2),d=j[0],b=j[1],h=Object(x.b)();Object(n.useEffect)((function(){s(window.localStorage.getItem("emailForSignIn"))}),[]);var p=function(){var e=Object(i.a)(o.a.mark((function e(c){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),d&&r){e.next=4;break}return N.b.error("please check your email or password"),e.abrupt("return");case 4:if(!m.isSignInWithEmailLink(window.location.href)){e.next=26;break}if(window.localStorage.getItem("emailForSignIn")){e.next=9;break}return N.b.error("please no email found | please go to email to get link."),e.abrupt("return");case 9:return e.prev=9,e.next=12,m.signInWithEmailLink(r,window.location.href);case 12:return n=m.currentUser,e.next=15,n.updatePassword(d);case 15:return e.next=17,n.getIdTokenResult();case 17:a=e.sent,window.localStorage.removeItem("emailForSignIn"),k(a).then((function(e){h({type:g,payload:{email:e.data.email,token:a.token,name:e.data.name,role:e.data.role,_id:e.data._id}})})).catch((function(e){console.log(e.message)})),t.push("/login"),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(9),N.b.error(e.t0.message);case 26:case"end":return e.stop()}}),e,null,[[9,23]])})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{className:"container p-5",children:Object(E.jsx)("div",{className:"row",children:Object(E.jsxs)("div",{className:"col-md-6 offset-md-3",children:[Object(E.jsx)("h4",{children:"Register Complete"}),Object(E.jsxs)("form",{onSubmit:p,children:[Object(E.jsx)("input",{type:"email",value:r,className:"form-control",disabled:!0}),Object(E.jsx)("input",{type:"password",value:d,onChange:function(e){return b(e.target.value)},className:"form-control",placeholder:"password",autoFocus:!0}),Object(E.jsx)("br",{}),Object(E.jsx)("button",{type:"submit",className:"btn btn-raised btn-primary",children:"Complete Registration"})]})]})})})},Fe=function(e){var t=e.history,c=Object(n.useState)(""),a=Object(u.a)(c,2),r=a[0],s=a[1],o=Object(x.c)((function(e){return e})).user;Object(n.useEffect)((function(){o&&t.push("/")}),[o]);var i=function(e){e.preventDefault();var t={url:"".concat("http://localhost:3001/login"),handleCodeInApp:!0};m.sendPasswordResetEmail(r,t).then((function(){N.b.success("Please find your email to reset password link")})).catch((function(e){N.b.error(e.message)}))},l=function(){return Object(E.jsxs)("form",{onSubmit:i,children:[Object(E.jsx)("input",{placeholder:"enter your email",className:"form-control mb-3",value:r,onChange:function(e){return s(e.target.value)},autoFocus:!0}),Object(E.jsx)("button",{className:"btn btn-raised btn-primary",children:"submit"})]})};return Object(E.jsx)("div",{className:"container p-5",children:Object(E.jsx)("div",{className:"row",children:Object(E.jsxs)("div",{className:"col-md-6 offset-md-3",children:[Object(E.jsx)("h4",{className:"text-info",children:"Forgot password"}),l()]})})})},Le=function(){return Object(E.jsxs)("ul",{className:"nav d-flex flex-column",children:[Object(E.jsx)("li",{className:"nav-item ",children:Object(E.jsx)(y.b,{className:"nav-link",to:"/user/history",children:"History"})}),Object(E.jsx)("li",{className:"nav-item ",children:Object(E.jsx)(y.b,{className:"nav-link",to:"/user/password",children:"password"})}),Object(E.jsx)("li",{className:"nav-item ",children:Object(E.jsx)(y.b,{className:"nav-link",to:"/user/wishlist",children:"wishlist"})})]})},Me=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/user/cart",{cart:t},{headers:{token:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),He=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/user/cart",{headers:{token:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.a.delete("/api/user/cart/empty",{headers:{token:t}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/user/save/adress",{adress:t},{headers:{token:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/apply/coupon",{name:t},{headers:{token:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),We=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/user/order",{paymentResponse:t},{headers:{token:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),_e=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/user/orders",{headers:{token:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/user/wishlist",{headers:{token:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.put("/api/user/wishlist/".concat(t),{},{headers:{token:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/user/wishlist",{productId:t},{headers:{token:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),Ge=c(144),qe=c(145),ze=function(e){var t=e.order,c=e.showStatus,n=void 0===c||c;return Object(E.jsx)("div",{children:Object(E.jsxs)("p",{children:[Object(E.jsxs)("span",{children:["Order Id: ",t.paymentResponse.orderCreationId]})," / ",Object(E.jsxs)("span",{children:["Amount :",t.paymentResponse.amount?t.paymentResponse.amount.toLocaleString("en-IN",{style:"currency",currency:"INR"}):"NA"]})," / ",Object(E.jsxs)("span",{children:["Currency: ",t.paymentResponse.currency?t.paymentResponse.currency:"NA"]})," / ",Object(E.jsxs)("span",{children:["Orderd on :",t.paymentResponse.created_at?new Date(1e3*t.paymentResponse.created_at).toLocaleString():"NA"]})," / ",Object(E.jsx)("br",{}),n&&Object(E.jsxs)("span",{className:"badge bg-primary text-white",children:["STATUS: ",t.orderStatus]})]})})},Ke=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(x.c)((function(e){return Object(ne.a)({},e)})).user;Object(n.useEffect)((function(){s()}),[]);var s=function(){return _e(r.token).then((function(e){a(e.data)}))},o=function(e){return Object(E.jsxs)("table",{className:"table table-bordered",children:[Object(E.jsx)("thead",{className:"thead-light",children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{scope:"col",children:"Title"}),Object(E.jsx)("th",{scope:"col",children:"Price"}),Object(E.jsx)("th",{scope:"col",children:"Brand"}),Object(E.jsx)("th",{scope:"col",children:"Color"}),Object(E.jsx)("th",{scope:"col",children:"Count"}),Object(E.jsx)("th",{scope:"col",children:"Shipping"})]})}),Object(E.jsx)("tbody",{children:e.products.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:Object(E.jsx)("b",{children:e.product.title})}),Object(E.jsx)("td",{children:e.product.price}),Object(E.jsx)("td",{children:e.product.brand}),Object(E.jsx)("td",{children:e.color}),Object(E.jsx)("td",{children:e.count}),Object(E.jsx)("td",{children:"Yes"===e.product.shipping?Object(E.jsx)(Ge.a,{style:{color:"green"}}):Object(E.jsx)(qe.a,{style:{color:"red"}})})]},t)}))})]})};return Object(E.jsx)("div",{className:"container-fluid",children:Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"col-md-2 ",children:Object(E.jsx)(Le,{})}),Object(E.jsxs)("div",{className:"col text-center",children:[Object(E.jsx)("h4",{children:c.length>0?"User purchase orders":"No purchase orders"}),c.reverse().map((function(e,t){return Object(E.jsxs)("div",{className:"m-5 p-3 card",children:[Object(E.jsx)(ze,{order:e}),o(e)]},t)}))]})]})})},Ze=c(142),Xe=function(){var e=Object(n.useState)(5),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(l.f)();return Object(n.useEffect)((function(){0==c&&r.push("/login"),setTimeout((function(){a((function(e){return--e}))}),1e3)}),[c]),Object(E.jsx)("div",{className:"container p-5",children:Object(E.jsxs)("p",{className:"text-center text-danger",children:["Redirect to you just in ",c," seconds."]})})},$e=function(e){var t=e.children,c=Object(Ze.a)(e,["children"]),n=Object(x.c)((function(e){return Object(ne.a)({},e)})).user;return n&&n._id?Object(E.jsx)(l.a,Object(ne.a)(Object(ne.a)({},c),{},{render:function(){return t}})):Object(E.jsx)(Xe,{})},et=c(485),tt=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(x.c)((function(e){return Object(ne.a)({},e)})).user;Object(n.useEffect)((function(){s()}),[]);var s=function(){return Pe(r.token).then((function(e){a(e.data.wishlist)}))};return Object(E.jsx)("div",{className:"container-fluid",children:Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"col-md-2 ",children:Object(E.jsx)(Le,{})}),Object(E.jsxs)("div",{className:"col-md-10",children:[Object(E.jsx)("h4",{children:"Wishlist"}),c.map((function(e){return Object(E.jsxs)("div",{className:"alert alert-secondary",children:[Object(E.jsx)(y.b,{to:"/product/".concat(e.slug),children:e.title}),Object(E.jsx)("span",{onClick:function(){return t=e._id,Ye(t,r.token).then((function(e){s()}));var t},className:"btn btn-sm float-right",children:Object(E.jsx)(et.a,{className:"text-danger"})})]},e._id)}))]})]})})},ct=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(u.a)(r,2),l=s[0],j=s[1],d=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),j(!0),e.next=4,m.currentUser.updatePassword(c).then((function(){N.b.success("password updated successfully."),a(""),j(!1)})).catch((function(e){N.b.error(e.message)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{className:"container-fluid",children:Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"col-md-2 ",children:Object(E.jsx)(Le,{})}),Object(E.jsxs)("div",{className:"col",children:[l?Object(E.jsx)("h4",{className:"p-1 text-success",children:"loading..."}):Object(E.jsx)("h4",{className:"p-1",children:"Reset Your Password"}),Object(E.jsxs)("form",{onSubmit:d,children:[Object(E.jsxs)("div",{className:"form-group p-1",children:[Object(E.jsx)("label",{children:"your password"}),Object(E.jsx)("input",{type:"password",className:"form-control",value:c,onChange:function(e){return a(e.target.value)},disabled:l})]}),Object(E.jsx)("button",{className:"btn btn-raised btn-primary",disabled:!c||c.length<4||l,children:"submit"})]})]})]})})},nt=function(){return Object(E.jsxs)("ul",{className:"nav d-flex flex-column",children:[Object(E.jsx)("li",{className:"nav-item ",children:Object(E.jsx)(y.b,{className:"nav-link",to:"/admin/dashboard",children:"Dashboard"})}),Object(E.jsx)("li",{className:"nav-item ",children:Object(E.jsx)(y.b,{className:"nav-link",to:"/admin/product",children:"Product"})}),Object(E.jsx)("li",{className:"nav-item ",children:Object(E.jsx)(y.b,{className:"nav-link",to:"/admin/products",children:"Products"})}),Object(E.jsx)("li",{className:"nav-item ",children:Object(E.jsx)(y.b,{className:"nav-link",to:"/admin/category",children:"Category"})}),Object(E.jsx)("li",{className:"nav-item ",children:Object(E.jsx)(y.b,{className:"nav-link",to:"/admin/sub-category/sub",children:"Sub Category"})}),Object(E.jsx)("li",{className:"nav-item ",children:Object(E.jsx)(y.b,{className:"nav-link",to:"/admin/coupon",children:"Coupon"})}),Object(E.jsx)("li",{className:"nav-item ",children:Object(E.jsx)(y.b,{className:"nav-link",to:"/user/password",children:"Password"})})]})},at=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/admin/orders",{headers:{token:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rt=function(){var e=Object(i.a)(o.a.mark((function e(t,c,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.put("/api/admin/order-status",{orderId:t,orderStatus:c},{headers:{token:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),st=function(e){var t=e.orders,c=e.handleStatusChange,n=function(e){return Object(E.jsxs)("table",{className:"table table-bordered",children:[Object(E.jsx)("thead",{className:"thead-light",children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{scope:"col",children:"Title"}),Object(E.jsx)("th",{scope:"col",children:"Price"}),Object(E.jsx)("th",{scope:"col",children:"Brand"}),Object(E.jsx)("th",{scope:"col",children:"Color"}),Object(E.jsx)("th",{scope:"col",children:"Count"}),Object(E.jsx)("th",{scope:"col",children:"Shipping"})]})}),Object(E.jsx)("tbody",{children:e.products.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:Object(E.jsx)("b",{children:e.product.title})}),Object(E.jsx)("td",{children:e.product.price}),Object(E.jsx)("td",{children:e.product.brand}),Object(E.jsx)("td",{children:e.color}),Object(E.jsx)("td",{children:e.count}),Object(E.jsx)("td",{children:"Yes"===e.product.shipping?Object(E.jsx)(Ge.a,{style:{color:"green"}}):Object(E.jsx)(qe.a,{style:{color:"red"}})})]},t)}))})]})};return Object(E.jsx)(E.Fragment,{children:t.map((function(e){return Object(E.jsxs)("div",{className:"row pb-5",children:[Object(E.jsxs)("div",{className:"btn btn-block bg-light",children:[Object(E.jsx)(ze,{order:e,showStatus:!1}),Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"col-md-4",children:"Delivery Status"}),Object(E.jsx)("div",{className:"col-md-8",children:Object(E.jsxs)("select",{onChange:function(t){return c(e._id,t.target.value)},className:"form-control",defaultValue:e.orderStatus,name:"status",children:[Object(E.jsx)("option",{value:"Not Processed",children:"Not Processed"}),Object(E.jsx)("option",{value:"Cash On Delivery",children:"Cash On Delivery"}),Object(E.jsx)("option",{value:"Processing",children:"Processing"}),Object(E.jsx)("option",{value:"Dispatched",children:"Dispatched"}),Object(E.jsx)("option",{value:"Cancelled",children:"Cancelled"}),Object(E.jsx)("option",{value:"Completed",children:"Completed"})]})})]})]}),n(e)]},e._id)}))})},ot=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(x.c)((function(e){return Object(ne.a)({},e)})).user;Object(n.useEffect)((function(){s()}),[]);var s=function(){return at(r.token).then((function(e){console.log(JSON.stringify(e.data,null,4)),a(e.data)}))};return Object(E.jsx)("div",{className:"container-fluid",children:Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"col-md-2 ",children:Object(E.jsx)(nt,{})}),Object(E.jsxs)("div",{className:"col-md-10",children:[Object(E.jsx)("h4",{children:"Admin Dashboard"}),Object(E.jsx)(st,{orders:c,handleStatusChange:function(e,t){rt(e,t,r.token).then((function(e){N.b.success("Status updated"),s()}))}})]})]})})},it=function(e){e.children;var t=Object(Ze.a)(e,["children"]),c=Object(x.c)((function(e){return Object(ne.a)({},e)})).user,a=Object(n.useState)(!1),r=Object(u.a)(a,2),s=r[0],o=r[1];return Object(n.useEffect)((function(){c&&c.token&&A(c.token).then((function(e){o(!0)})).catch((function(e){console.log(e.message)}))}),[c]),s?Object(E.jsx)(l.a,Object(ne.a)({},t)):Object(E.jsx)(Xe,{})},lt=c(486),ut=function(e){var t=e.category,c=e.setCategory,n=e.handleSubmit;return Object(E.jsxs)("form",{onSubmit:n,className:"mb-4",children:[Object(E.jsx)("input",{className:"form-control",autoFocus:!0,onChange:function(e){return c(e.target.value)},value:t,placeholder:"category",type:"text",required:!0}),Object(E.jsx)("br",{}),Object(E.jsx)("button",{className:"btn btn-outline-primary",children:"create/update"})]})},jt=function(e){var t=e.keyword,c=e.setKeyword;return Object(E.jsx)("form",{children:Object(E.jsx)("input",{value:t,onChange:function(e){return c(e.target.value.toLowerCase())},className:"form-control",placeholder:"search"})})},dt=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(u.a)(r,2),o=(s[0],s[1]),i=Object(n.useState)([]),l=Object(u.a)(i,2),j=l[0],d=l[1],b=Object(x.c)((function(e){return e})).user,h=Object(n.useState)(""),p=Object(u.a)(h,2),O=p[0],m=p[1];Object(n.useEffect)((function(){return f(),function(){d([])}}),[]);var f=function(){U().then((function(e){console.log(e.data),d(e.data)})).catch((function(e){console.log(e.response)}))};return Object(E.jsx)("div",{className:"container-fluid",children:Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"col-md-2 ",children:Object(E.jsx)(nt,{})}),Object(E.jsxs)("div",{className:"col mt-5",children:[Object(E.jsx)("h4",{children:"Create Category"}),Object(E.jsx)(ut,{category:c,setCategory:a,handleSubmit:function(e){e.preventDefault(),o(!0),q(c,b.token).then((function(e){a(""),o(!1),N.b.success("".concat(e.data.name," is created")),f()})).catch((function(e){o(!1),N.b.error(e.response.data)}))}}),Object(E.jsx)("hr",{}),Object(E.jsx)(jt,{keyword:O,setKeyword:m}),j.filter((function(e){return e.name.toLowerCase().includes(O)})).map((function(e){return Object(E.jsxs)("div",{className:"alert alert-secondary",children:[e.name,Object(E.jsx)("span",{className:"float-right",onClick:function(){return t=e.slug,void(window.confirm("are you sure you wanna delete ".concat(t))&&(o(!0),K(t,b.token).then((function(e){o(!1),N.b.success(e.data.result),f()})).catch((function(e){o(!1),N.b.error(e)}))));var t},children:Object(E.jsx)(et.a,{className:"text-danger btn"})}),Object(E.jsx)("span",{className:"float-right",children:Object(E.jsxs)(y.b,{to:"/admin/category/".concat(e.slug),children:["    ",Object(E.jsx)(lt.a,{className:"text-warning btn"})]})})]},e._id)}))]})]})})},bt=function(e){e.match;var t=e.history,c=Object(n.useState)(""),a=Object(u.a)(c,2),r=a[0],s=a[1],o=Object(n.useState)(!1),i=Object(u.a)(o,2),j=i[0],d=i[1],b=Object(x.c)((function(e){return e})).user,h=Object(l.h)().slug;Object(n.useEffect)((function(){p()}),[]);var p=function(){d(!0),G(h).then((function(e){s(e.data.categoryResult.name),d(!1)})).catch((function(e){console.log(e.response),d(!1)}))};return Object(E.jsx)("div",{className:"container-fluid",children:Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"col-md-2 ",children:Object(E.jsx)(nt,{})}),Object(E.jsxs)("div",{className:"col mt-5",children:[j?Object(E.jsx)("h4",{className:"text-primary",children:"Loading..."}):Object(E.jsx)("h4",{children:"Update Category"}),Object(E.jsx)(ut,{category:r,setCategory:s,handleSubmit:function(e){e.preventDefault(),d(!0),z(h,r,b.token).then((function(e){s(""),d(!1),N.b.success("".concat(h," is updated")),t.push("/admin/category")})).catch((function(e){d(!1),N.b.error(e.response.data)}))}})]})]})})},ht=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),s=Object(u.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)(!1),j=Object(u.a)(l,2),d=(j[0],j[1]),b=Object(n.useState)([]),h=Object(u.a)(b,2),p=h[0],O=h[1],m=Object(x.c)((function(e){return e})).user,f=Object(n.useState)(""),g=Object(u.a)(f,2),v=g[0],w=g[1],S=Object(n.useState)(""),k=Object(u.a)(S,2),C=k[0],A=k[1];Object(n.useEffect)((function(){T(),I()}),[]);var I=function(){X().then((function(e){console.log(e.data),O(e.data)})).catch((function(e){console.log(e.response)}))},T=function(){U().then((function(e){console.log(e.data),i(e.data)})).catch((function(e){console.log(e.response)}))};return Object(E.jsx)("div",{className:"container-fluid",children:Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"col-md-2 ",children:Object(E.jsx)(nt,{})}),Object(E.jsxs)("div",{className:"col mt-5",children:[Object(E.jsx)("h4",{children:"Create Sub Category"}),Object(E.jsxs)("select",{className:"form-control pl-2",onChange:function(e){return A(e.target.value)},children:[Object(E.jsx)("option",{children:"please select one parent"}),o.map((function(e){return Object(E.jsx)("option",{value:e._id,children:e.name},e._id)}))]}),Object(E.jsx)("br",{}),Object(E.jsx)(ut,{category:c,setCategory:a,handleSubmit:function(e){e.preventDefault(),d(!0),ee(c,C,m.token).then((function(e){a(""),d(!1),N.b.success("".concat(e.data.name," is created")),I()})).catch((function(e){d(!1),N.b.error(e.response.data)}))}}),Object(E.jsx)("hr",{}),Object(E.jsx)(jt,{keyword:v,setKeyword:w}),p.filter((function(e){return e.name.toLowerCase().includes(v)})).map((function(e){return Object(E.jsxs)("div",{className:"alert alert-secondary",children:[e.name,Object(E.jsx)("span",{className:"float-right",onClick:function(){return t=e.slug,void(window.confirm("are you sure you wanna delete ".concat(t))&&(d(!0),ce(t,m.token).then((function(e){d(!1),N.b.success(e.data.result),I()})).catch((function(e){d(!1),N.b.error(e)}))));var t},children:Object(E.jsx)(et.a,{className:"text-danger btn"})}),Object(E.jsx)("span",{className:"float-right",children:Object(E.jsxs)(y.b,{to:"/admin/sub-category/sub/".concat(e.slug),children:["    ",Object(E.jsx)(lt.a,{className:"text-warning btn"})]})})]},e._id)}))]})]})})},pt=function(e){e.match;var t=e.history,c=Object(n.useState)(""),a=Object(u.a)(c,2),r=a[0],s=a[1],o=Object(n.useState)([]),i=Object(u.a)(o,2),j=i[0],d=i[1],b=Object(n.useState)(!1),h=Object(u.a)(b,2),p=h[0],O=h[1],m=Object(n.useState)(""),f=Object(u.a)(m,2),g=f[0],v=f[1],y=Object(x.c)((function(e){return e})).user,w=Object(l.h)().slug;Object(n.useEffect)((function(){S(),k()}),[]);var S=function(){O(!0),$(w).then((function(e){console.log(e.data),s(e.data.categorySubResult.name),v(e.data.categorySubResult.parent),O(!1)})).catch((function(e){console.log(e.response),O(!1)}))},k=function(){U().then((function(e){d(e.data)})).catch((function(e){console.log(e.response)}))};return Object(E.jsx)("div",{className:"container-fluid",children:Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"col-md-2 ",children:Object(E.jsx)(nt,{})}),Object(E.jsxs)("div",{className:"col mt-5",children:[p?Object(E.jsx)("h4",{className:"text-primary",children:"Loading..."}):Object(E.jsx)("h4",{children:"Update Sub Category"}),Object(E.jsxs)("select",{className:"form-control pl-2",value:g,onChange:function(e){return v(e.target.value)},children:[Object(E.jsx)("option",{children:"please select one parent"}),j.map((function(e){return Object(E.jsx)("option",{value:e._id,selected:g===e._id,children:e.name},e._id)}))]}),Object(E.jsx)("br",{}),Object(E.jsx)(ut,{category:r,setCategory:s,handleSubmit:function(e){e.preventDefault(),O(!0),te(w,r,g,y.token).then((function(e){s(""),O(!1),N.b.success("".concat(w," is updated")),t.push("/admin/sub-category/sub")})).catch((function(e){O(!1),N.b.error(e.response.data)}))}})]})]})})},Ot=c(71),mt=c(107),ft=mt.a.Option,xt=function(e){var t=e.onSubmitHandler,c=e.onChangeHandler,n=e.values,a=e.onCategoryChangeHandler,r=e.setValues,s=e.subs,o=n.title,i=n.description,l=n.price,u=(n.category,n.subCategory,n.quantity),j=(n.images,n.shipping,n.color,n.brand,n.colors),d=n.brands,b=n.categories;return Object(E.jsxs)("form",{onSubmit:t,children:[Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Title"}),Object(E.jsx)("input",{className:"form-control",type:"text",name:"title",value:o,onChange:c})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Description"}),Object(E.jsx)("input",{className:"form-control",type:"text",name:"description",value:i,onChange:c})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Price"}),Object(E.jsx)("input",{className:"form-control",type:"number",name:"price",value:l,onChange:c})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Category"}),Object(E.jsxs)("select",{className:"form-control",name:"category",onChange:a,children:[Object(E.jsx)("option",{children:"please select one"}),b.map((function(e){return Object(E.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),s.length>0?Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"sub-category"}),Object(E.jsx)(mt.a,{mode:"multiple",style:{width:"100%"},placeholder:"Please select",onChange:function(e){r(Object(ne.a)(Object(ne.a)({},n),{},{subCategory:e}))},children:s.map((function(e){return Object(E.jsx)(ft,{value:e._id,children:e.name},e._id)}))})]}):null,Object(E.jsx)("br",{}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"quantity"}),Object(E.jsx)("input",{className:"form-control",type:"number",name:"quantity",value:u,onChange:c})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Color"}),Object(E.jsxs)("select",{className:"form-control",name:"color",onChange:c,children:[Object(E.jsx)("option",{children:"please select one"}),j.map((function(e,t){return Object(E.jsx)("option",{value:e,children:e},t)}))]})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Brand"}),Object(E.jsxs)("select",{className:"form-control",name:"brand",onChange:c,children:[Object(E.jsx)("option",{children:"please select one"}),d.map((function(e,t){return Object(E.jsx)("option",{value:e,children:e},t)}))]})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Shipping"}),Object(E.jsxs)("select",{className:"form-control",name:"shipping",onChange:c,children:[Object(E.jsx)("option",{children:"please select shipping option !"}),Object(E.jsx)("option",{value:"No",children:"No"}),Object(E.jsx)("option",{value:"Yes",children:"Yes"})]})]}),Object(E.jsx)("button",{className:"btn btn-outline-info",children:"save"})]})},gt=c(82),vt=c(487),yt=c(227),Nt=c.n(yt),wt=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/uploadImage",{image:t},{headers:{token:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),St=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/removeImage",{public_id:t},{headers:{token:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),kt=c(469),Ct=function(e){var t=e.values,c=e.setValues,a=Object(x.c)((function(e){return e})).user,r=Object(n.useState)([]),s=Object(u.a)(r,2),o=s[0],i=s[1];Object(n.useEffect)((function(){console.log("image folder ",t),i(t.images)}),[t.images]);return console.log("image folder only image",o),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{children:o.map((function(e){return Object(E.jsx)(R.a,{className:"mr-3",style:{cursor:"pointer"},onClick:function(){return n=e.public_id,void St(n,a.token).then((function(e){var a=o.filter((function(e){return e.public_id!==n}));i(a),c(Object(ne.a)(Object(ne.a)({},t),{},{images:a}))})).catch((function(e){console.log(e)}));var n},count:"x",children:Object(E.jsx)(kt.a,{size:120,shape:"square",src:e.url})},e.public_id)}))}),Object(E.jsx)("br",{}),Object(E.jsx)("div",{className:"row",children:Object(E.jsxs)("label",{className:"ml-3 btn btn-outline-primary",children:[Object(E.jsx)(vt.a,{className:"text-dark pr-2",style:{fontSize:"20px"}}),"image",Object(E.jsx)("input",{type:"file",multiple:!0,hidden:!0,accept:"image/*",onChange:function(e){var t=e.target.files;if(t)for(var n=0;n<t.length;n++)Nt.a.imageFileResizer(t[n],720,720,"JPEG",100,0,(function(e){wt(e,a.token).then((function(e){c((function(t){return Object(ne.a)(Object(ne.a)({},t),{},{images:[].concat(Object(gt.a)(t.images),[e.data])})})),i((function(t){return[].concat(Object(gt.a)(t),[e.data])}))})).catch((function(e){console.log(e)}))}),"base64")}})]})})]})},At={title:"",description:"",price:"",category:"",categories:[],subCategory:[],quantity:"",images:[],shipping:"",color:"",brand:"",colors:["Black","Brown","Silver","White","Blue"],brands:["Apple","Lenovo","Dell","Samsung","Asus","Microsoft"]},Et=function(){var e=Object(n.useState)(At),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),s=Object(u.a)(r,2),l=s[0],j=s[1],d=Object(x.c)((function(e){return e})).user;c.categories,c.category;Object(n.useEffect)((function(){b()}),[]);var b=function(){U().then((function(e){a(Object(ne.a)(Object(ne.a)({},c),{},{categories:e.data}))})).catch((function(e){console.log(e.response)}))},h=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a(Object(ne.a)(Object(ne.a)({},c),{},Object(Ot.a)({},t.target.name,t.target.value))),Z(t.target.value).then((function(e){j(e.data)})).catch((function(e){console.log(e)})),j([]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),me(c,d.token).then((function(e){window.alert("".concat(e.data.title," is created")),window.location.reload()})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return console.log(c),Object(E.jsx)("div",{className:"container-fluid",children:Object(E.jsxs)("div",{className:"row mt-2",children:[Object(E.jsx)("div",{className:"col-md-2 ",children:Object(E.jsx)(nt,{})}),Object(E.jsxs)("div",{className:"mt-2 col-md-8 offset-md-1",children:[Object(E.jsx)("h4",{children:"Product Create"}),Object(E.jsx)("hr",{}),Object(E.jsx)(Ct,{values:c,setValues:a}),Object(E.jsx)("br",{}),Object(E.jsx)(xt,{setValues:a,values:c,subs:l,onSubmitHandler:p,onChangeHandler:function(e){a(Object(ne.a)(Object(ne.a)({},c),{},Object(Ot.a)({},e.target.name,e.target.value)))},onCategoryChangeHandler:h})]})]})})},It=ae.a.Meta,Tt=function(e){var t=e.product,c=e.removeProductHandler,n=t.images,a=t.title,r=t.description;return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(ae.a,{hoverable:!0,className:"mb-3",cover:Object(E.jsx)("img",{alt:"laptop_img",src:n.length?n[0].url:se}),style:{height:"350px",objectFit:"cover"},actions:[Object(E.jsx)(y.b,{to:"/admin/product/".concat(a),children:Object(E.jsx)(lt.a,{className:"text-warning"},"edit")}),Object(E.jsx)(et.a,{className:"text-danger",onClick:function(){return c(t.title)}},"delete")],children:Object(E.jsx)(It,{title:a,description:r.length>50?r.substr(0,50).concat("..."):r})})})},Dt=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(u.a)(r,2),o=(s[0],s[1]),i=Object(x.c)((function(e){return e})).user;Object(n.useEffect)((function(){l()}),[]);var l=function(){o(!0),fe(10).then((function(e){console.log(e.data),a(e.data),o(!1)})).catch((function(e){o(!1),console.log(e)}))},j=function(e){window.confirm("delete ?")&&ve(e,i.token).then((function(e){console.log(e.data),l()})).catch((function(e){console.log(e)}))};return Object(E.jsx)("div",{className:"container-fluid",children:Object(E.jsxs)("div",{className:"row mt-2",children:[Object(E.jsx)("div",{className:"col-md-2 ",children:Object(E.jsx)(nt,{})}),Object(E.jsxs)("div",{className:"col-md-8",children:[Object(E.jsx)("h4",{children:"All Products"}),Object(E.jsx)("hr",{}),Object(E.jsx)("div",{className:"row",children:c.map((function(e){return Object(E.jsx)("div",{className:"col-md-4",children:Object(E.jsx)(Tt,{product:e,removeProductHandler:j})},e._id)}))})]})]})})},Rt=mt.a.Option,Bt=function(e){var t=e.onSubmitHandler,c=e.onChangeHandler,a=e.onCategoryChangeHandler,r=e.subs,s=e.values,o=e.setValues,i=s.title,l=s.description,u=s.price,j=s.category,d=s.subCategory,b=s.quantity,h=(s.images,s.shipping),p=s.color,O=s.brand,m=s.colors,f=s.brands,x=s.categories;return Object(n.useEffect)((function(){}),[]),Object(E.jsxs)("form",{onSubmit:t,children:[Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Title"}),Object(E.jsx)("input",{className:"form-control",type:"text",name:"title",value:i,onChange:c})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Description"}),Object(E.jsx)("input",{className:"form-control",type:"text",name:"description",value:l,onChange:c})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Price"}),Object(E.jsx)("input",{className:"form-control",type:"number",name:"price",value:u,onChange:c})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"quantity"}),Object(E.jsx)("input",{className:"form-control",type:"number",name:"quantity",value:b,onChange:c})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Color"}),Object(E.jsxs)("select",{className:"form-control",name:"color",value:p,onChange:c,children:[Object(E.jsx)("option",{children:"please select one"}),m.map((function(e,t){return Object(E.jsx)("option",{value:e,children:e},t)}))]})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Category"}),Object(E.jsxs)("select",{className:"form-control",name:"category",value:j,onChange:a,children:[Object(E.jsx)("option",{children:"please select one"}),x.map((function(e){return Object(E.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"sub-category"}),Object(E.jsx)(mt.a,{mode:"multiple",style:{width:"100%"},placeholder:"Please select",onChange:function(e){o(Object(ne.a)(Object(ne.a)({},s),{},{subCategory:e}))},value:d,children:r.map((function(e){return Object(E.jsx)(Rt,{value:e._id,children:e.name},e._id)}))})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Brand"}),Object(E.jsxs)("select",{className:"form-control",name:"brand",value:O,onChange:c,children:[Object(E.jsx)("option",{children:"please select one"}),f.map((function(e,t){return Object(E.jsx)("option",{value:e,children:e},t)}))]})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Shipping"}),Object(E.jsxs)("select",{className:"form-control",name:"shipping",value:h,onChange:c,children:[Object(E.jsx)("option",{children:"please select shipping option !"}),Object(E.jsx)("option",{value:"No",children:"No"}),Object(E.jsx)("option",{value:"Yes",children:"Yes"})]})]}),Object(E.jsx)("button",{className:"btn btn-outline-info",children:"save"})]})},Ft={title:"",description:"",price:"",category:"",categories:[],subCategory:[],quantity:"",images:[],shipping:"",color:"",brand:"",colors:["Black","Brown","Silver","White","Blue"],brands:["Apple","Lenovo","Dell","Samsung","Asus","Microsoft"]},Lt=function(e){var t=e.match,c=e.history,a=Object(n.useState)(Ft),r=Object(u.a)(a,2),s=r[0],l=r[1],j=Object(x.c)((function(e){return e})).user,d=t.params.slug,b=Object(n.useState)([]),h=Object(u.a)(b,2),p=h[0],O=h[1];Object(n.useEffect)((function(){m(),f()}),[]);var m=function(){xe(d).then((function(e){l((function(t){return Object(ne.a)(Object(ne.a)({},t),e.data[0])})),Z(e.data[0].category).then((function(e){O(e.data)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},f=function(){U().then((function(e){l((function(t){return Object(ne.a)(Object(ne.a)({},t),{},{categories:e.data})}))})).catch((function(e){console.log(e)}))},g=function(){var e=Object(i.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),l(Object(ne.a)(Object(ne.a)({},s),{},(c={},Object(Ot.a)(c,t.target.name,t.target.value),Object(Ot.a)(c,"subCategory",[]),c))),Z(t.target.value).then((function(e){O(e.data)})).catch((function(e){console.log(e)})),O([]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return console.log("product update ",s),Object(E.jsx)("div",{className:"container-fluid",children:Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"col-md-2 ",children:Object(E.jsx)(nt,{})}),Object(E.jsxs)("div",{className:"col",children:[Object(E.jsx)("br",{}),Object(E.jsx)("h4",{children:"Product Update"}),Object(E.jsx)("hr",{}),Object(E.jsx)(Ct,{values:s,setValues:l}),Object(E.jsx)("br",{}),Object(E.jsx)(Bt,{onSubmitHandler:function(e){e.preventDefault(),ye(d,s,j.token).then((function(e){N.b.success("product update successfully."),c.push("/admin/products")})).catch((function(e){console.log(e)}))},onChangeHandler:function(e){l(Object(ne.a)(Object(ne.a)({},s),{},Object(Ot.a)({},e.target.name,e.target.value)))},values:s,subs:p,setValues:l,onCategoryChangeHandler:g})]})]})})},Mt=(c(276),c(228)),Ht=c(168),Jt=Ht.a.TabPane,Qt=function(e){var t=e.product,c=t.images,n=t.description;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Mt.Carousel,{autoPlay:!0,infiniteLoop:!0,children:c.map((function(e){return Object(E.jsx)("img",{src:e.url},e.public_id)}))}),Object(E.jsxs)(Ht.a,{type:"card",children:[Object(E.jsx)(Jt,{tab:"Description",children:Object(E.jsx)("p",{children:n})},"1"),Object(E.jsx)(Jt,{tab:"More",children:Object(E.jsx)("p",{children:"To know further please contact our Team on xxxx xxx xxx number (toll free)"})},"3")]})]})},Vt=c(489),Wt=c(468),_t=c(488),Pt=function(e){var t=e.children,c=e.onRatingHandler,a=Object(n.useState)(!1),r=Object(u.a)(a,2),s=r[0],o=r[1],i=Object(x.c)((function(e){return e})).user,j=Object(l.f)(),d=Object(l.h)().slug;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{onClick:function(){i&&i._id?o(!0):j.push({pathname:"/login",state:{from:"/product/".concat(d)}})},children:[Object(E.jsx)(_t.a,{className:"h6 text-warning"})," ",Object(E.jsx)("br",{}),i&&i._id?Object(E.jsx)("span",{className:"h6 text-warning",children:"Leave Ratings"}):Object(E.jsx)(y.b,{to:"/login",children:Object(E.jsx)("span",{className:"h6 text-warning",children:"Login to leave rating"})})]}),Object(E.jsx)(Wt.a,{title:"Please give you valuable rating",visible:s,onOk:function(){o(!1),c()},onCancel:function(){o(!1)},children:t})]})},Yt=function(e){var t=e.product,c=e.loadProduct,a=Object(n.useState)(0),r=Object(u.a)(a,2),s=r[0],o=r[1],i=Object(x.c)((function(e){return Object(ne.a)({},e)})).user,j=Object(n.useState)("add to cart"),d=Object(u.a)(j,2),b=d[0],h=d[1],p=Object(x.b)(),O=Object(l.f)(),m=t.color,f=t.brand,g=t.shipping,v=t.sold,w=t.price,S=t.category,k=t.subCategory,C=t.quantity,A=t._id;console.log(t),Object(n.useEffect)((function(){if(t.ratings&&i){var e=t.ratings.find((function(e){return e.postedBy===i._id}));e&&o(e.star)}}),[t.ratings,i]);return Object(E.jsx)(ae.a,{actions:[Object(E.jsx)(re.a,{title:b,children:Object(E.jsxs)("a",{onClick:function(){var e=[];if(void 0!==typeof window){localStorage.getItem("cart")&&(e=JSON.parse(localStorage.getItem("cart"))),e.push(Object(ne.a)(Object(ne.a)({},t),{},{count:1}));var c=je.a.uniqWith(e,je.a.isEqual);localStorage.setItem("cart",JSON.stringify(c)),h("added"),p({type:"ADD_TO_CART",payload:c}),p({type:"VISIBLE_ACTIVITY",payload:!0})}},className:"h6 "+(C>0?"text-warning":"text-secondary"),disabled:!C,children:[Object(E.jsx)(L.a,{},"cart"),Object(E.jsx)("br",{}),C>0?"Add to Cart":"Out Of Stock"]})}),Object(E.jsx)(re.a,{title:"Add to Wishlist",children:Object(E.jsxs)("a",{onClick:function(e){e.preventDefault(),Ue(A,i.token).then((function(e){console.log("ADDED TO WISHLIST",e.data),N.b.success("Added to wishlist"),O.push("/user/wishlist")})).catch((function(e){console.log(e)}))},children:[Object(E.jsx)(Vt.a,{className:"h6 text-warning"},"heart"),Object(E.jsx)("br",{}),Object(E.jsx)("span",{className:"h6 text-warning",children:"Add to Wishlist"})]})}),Object(E.jsx)(Pt,{onRatingHandler:function(){Se(A,s,i.token).then((function(e){console.log(e.data),c()})).catch((function(e){console.log(e)}))},children:Object(E.jsx)(ie.a,{rating:s,starRatedColor:"red",changeRating:function(e,t){o(e),console.log(e,t)},numberOfStars:5,name:A})})],children:Object(E.jsxs)("ul",{className:"list-group list-group-flush ",children:[Object(E.jsxs)("li",{className:"list-group-item d-flex  justify-content-between",children:[Object(E.jsx)("span",{className:"h6 text-uppercase",children:"brand"}),Object(E.jsx)("span",{className:"h6 text-uppercase",children:f})]}),Object(E.jsxs)("li",{className:"list-group-item d-flex  justify-content-between ",children:[Object(E.jsx)("span",{className:"h6 text-uppercase",children:"category"}),Object(E.jsx)(y.b,{className:"h6 text-uppercase btn btn-link btn-primary",to:S&&S.slug?"/category/".concat(S.slug):"",children:S&&S.name})]}),Object(E.jsxs)("li",{className:"list-group-item d-flex  justify-content-between ",children:[Object(E.jsx)("span",{className:"h6 text-uppercase",children:"sub-category"}),k&&k.map((function(e){return Object(E.jsx)(y.b,{className:"h6 text-uppercase btn btn-link btn-primary",to:e&&e.slug?"/subcategory/".concat(e.slug):"",children:e.name},e._id)}))]}),Object(E.jsxs)("li",{className:"list-group-item d-flex  justify-content-between",children:[Object(E.jsx)("span",{className:"h6 text-uppercase",children:"color"}),Object(E.jsx)("span",{className:"h6 text-uppercase",children:m})]}),Object(E.jsxs)("li",{className:"list-group-item d-flex  justify-content-between ",children:[Object(E.jsx)("span",{className:"h6 text-uppercase",children:"price"}),Object(E.jsx)("span",{className:"h6 text-uppercase",children:w})]}),Object(E.jsxs)("li",{className:"list-group-item d-flex  justify-content-between ",children:[Object(E.jsx)("span",{className:"h6 text-uppercase",children:"quantity"}),Object(E.jsx)("span",{className:"h6 text-uppercase",children:C})]}),Object(E.jsxs)("li",{className:"list-group-item d-flex  justify-content-between ",children:[Object(E.jsx)("span",{className:"h6 text-uppercase",children:"sold"}),Object(E.jsx)("span",{className:"h6 text-uppercase",children:v})]}),Object(E.jsxs)("li",{className:"list-group-item d-flex  justify-content-between ",children:[Object(E.jsx)("span",{className:"h6 text-uppercase",children:"shipping"}),Object(E.jsx)("span",{className:"h6 text-uppercase",children:g})]})]})})},Ut=function(){var e=Object(n.useState)({}),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),s=Object(u.a)(r,2),j=s[0],d=s[1],b=Object(l.h)().slug;Object(n.useEffect)((function(){h()}),[b]);var h=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(b).then((function(e){a(e.data[0]),ke(e.data[0]._id).then((function(e){d(e.data)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"container-fluid",children:Object(E.jsxs)("div",{className:"row mt-3",children:[Object(E.jsx)("div",{className:"col-md-7",children:Object.keys(c).length>0&&c.images&&c.images.length?Object(E.jsx)(Qt,{product:c}):Object(E.jsx)("h4",{children:"no image present"})}),Object(E.jsxs)("div",{className:"col-md-5",children:[Object(E.jsx)("h4",{className:" pb-3 text-dark text-center font-weight-bold  text-uppercase border-bottom ",children:Object.keys(c).length>0&&c.title}),Object.keys(c).length>0&&Object(E.jsx)(le,{product:c}),Object.keys(c).length>0&&Object(E.jsx)(Yt,{product:c,loadProduct:h})]})]})}),Object(E.jsx)("h4",{className:" jumbotron mt-3 p-3 text-center text-uppercase font-weight-bold ",children:"Relevant Category"}),Object(E.jsx)("div",{className:"container",children:j.length?Object(E.jsx)("div",{className:"row justify-content-around",children:j.map((function(e){return Object(E.jsx)("div",{className:"col-md-3",children:Object(E.jsx)(be,{product:e})},e._id)}))}):Object(E.jsx)("h6",{className:"text-center",children:"No relevant category present"})})]})},Gt=c(94),qt=function(e){Object(Gt.a)(e);var t=Object(n.useState)([]),c=Object(u.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(!1),o=Object(u.a)(s,2),i=o[0],j=o[1],d=Object(l.h)().slug;return Object(n.useEffect)((function(){j(!0),G(d).then((function(e){r(e.data.products),j(!1)})).catch((function(e){console.log(e),j(!1)}))}),[]),Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{className:"container",children:i?Object(E.jsx)("h4",{className:"text-center text-warning",children:"Loading..."}):Object(E.jsx)("div",{className:"row mt-5 justify-content-around",children:a.length?a.map((function(e){return Object(E.jsx)("div",{className:"col-md-3",children:Object(E.jsx)(be,{product:e})},e._id)})):Object(E.jsxs)("h4",{className:"text-center text-warning",children:["No Product found on ",Object(E.jsx)("span",{className:"text-primary",children:d.toUpperCase()})]})})})})},zt=function(e){Object(Gt.a)(e);var t=Object(n.useState)([]),c=Object(u.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(!1),o=Object(u.a)(s,2),i=o[0],j=o[1],d=Object(l.h)().slug;return Object(n.useEffect)((function(){j(!0),$(d).then((function(e){r(e.data.products),j(!1)})).catch((function(e){console.log(e),j(!1)}))}),[]),Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{className:"container",children:i?Object(E.jsx)("h4",{className:"text-center text-warning",children:"Loading..."}):Object(E.jsx)("div",{className:"row mt-5 justify-content-around",children:a.length?a.map((function(e){return Object(E.jsx)("div",{className:"col-md-3",children:Object(E.jsx)(be,{product:e})},e._id)})):Object(E.jsxs)("h4",{className:"text-center text-warning",children:["No Product found on ",Object(E.jsx)("span",{className:"text-primary",children:d.toUpperCase()})," sub category ."]})})})})},Kt=c(474),Zt=c(473),Xt=c(463),$t=c(490),ec=c(491),tc=c(492),cc=function(e){var t=e.handleRatingChange,c=e.numberOfRatings;return Object(E.jsx)("span",{className:"pl-3 pb-2",children:Object(E.jsx)(ie.a,{rating:c,starDimension:"16px",starRatedColor:"red",starHoverColor:"red",starEmptyColor:"red",changeRating:function(){return t(c)},numberOfStars:c,name:"rating"})})},nc=D.a.SubMenu,ac=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),s=Object(u.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)([]),j=Object(u.a)(l,2),d=j[0],b=j[1],h=Object(x.c)((function(e){return e})).search,p=Object(n.useState)([0,0]),O=Object(u.a)(p,2),m=O[0],f=O[1],g=Object(n.useState)(!1),v=Object(u.a)(g,2),y=v[0],N=v[1],w=Object(n.useState)(0),S=Object(u.a)(w,2),k=(S[0],S[1]),C=Object(n.useState)([]),A=Object(u.a)(C,2),I=A[0],T=A[1],R=Object(n.useState)(""),B=Object(u.a)(R,2),F=(B[0],B[1]),L=Object(n.useState)([]),M=Object(u.a)(L,2),H=M[0],J=M[1],Q=Object(n.useState)([]),V=Object(u.a)(Q,2),W=V[0],_=V[1],P=Object(n.useState)(""),Y=Object(u.a)(P,2),G=Y[0],q=Y[1],z=Object(n.useState)(""),K=Object(u.a)(z,2),Z=K[0],$=K[1],ee=Object(n.useState)(["No","Yes"]),te=Object(u.a)(ee,2),ce=te[0],ne=(te[1],Object(n.useState)("")),ae=Object(u.a)(ne,2),re=ae[0],se=ae[1],oe=Object(x.b)(),ie=h.text;Object(n.useEffect)((function(){ue(),U().then((function(e){i(e.data)})).catch((function(e){console.log(e)})),X().then((function(e){T(e.data)})).catch((function(e){console.log(e)})),Ae().then((function(e){J(e.data)})).catch((function(e){console.log(e)})),Ee().then((function(e){_(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){var e=setTimeout((function(){le({query:ie})}),300);return function(){e&&clearTimeout(e),F(""),k(0),b([]),$(""),q(""),se(""),f([0,0])}}),[ie]),Object(n.useEffect)((function(){m[0]!==m[1]&&le({price:m})}),[y]);var le=function(e){Ce(e).then((function(e){a(e.data)})).catch((function(e){console.log(e)}))},ue=function(){fe(10).then((function(e){a(e.data)})).catch((function(e){console.log(e)}))},je=function(e){f([0,0]),oe({type:"TEXT_SEARCH",payload:{text:""}}),F(""),k(0),$(""),q(""),se("");var t=Object(gt.a)(d),c=t.indexOf(e.target.value);-1===c?t.push(e.target.value):t.splice(c,1),b(t),le({category:t})},de=function(e){b([]),oe({type:"TEXT_SEARCH",payload:{text:""}}),f([0,0]),F(""),$(""),q(""),se(""),k(e),le({stars:e})},he=function(e){b([]),oe({type:"TEXT_SEARCH",payload:{text:""}}),f([0,0]),k(0),$(""),q(""),se(""),F(e),le({subs:e._id})},Oe=function(e){b([]),oe({type:"TEXT_SEARCH",payload:{text:""}}),f([0,0]),k(0),se(""),F(""),$(""),q(e.target.value),le({brand:e.target.value})},me=function(e){b([]),oe({type:"TEXT_SEARCH",payload:{text:""}}),f([0,0]),k(0),F(""),q(""),se(""),$(e.target.value),le({color:e.target.value})},xe=function(e){b([]),oe({type:"TEXT_SEARCH",payload:{text:""}}),f([0,0]),k(0),F(""),q(""),$(""),se(e.target.value),le({shipping:e.target.value})};return Object(E.jsx)("div",{className:"container-fluid",children:Object(E.jsxs)("div",{className:"row justify-content-between ",children:[Object(E.jsxs)("div",{className:"col-sm-3  d-flex flex-column",children:[Object(E.jsx)("h4",{className:"border-bottom border-success pt-3 pb-2",children:"search/filters"}),Object(E.jsxs)(D.a,{mode:"inline",defaultOpenKeys:["1","2","3","4"],children:[Object(E.jsx)(nc,{title:Object(E.jsxs)("span",{className:"h5",children:[Object(E.jsx)($t.a,{})," price"]}),children:Object(E.jsx)("div",{className:"ml-3",children:Object(E.jsx)(Xt.a,{range:!0,value:m,max:2e4,tipFormatter:function(e){return"$ ".concat(e)},onChange:function(e){F(""),k(0),b([]),oe({type:"TEXT_SEARCH",payload:{text:""}}),$(""),q(""),se(""),f(e),setTimeout((function(){N(!y)}),300)}})})},"1"),Object(E.jsx)(nc,{title:Object(E.jsxs)("span",{className:"h5",children:[Object(E.jsx)(ec.a,{})," Category"]}),children:Object(E.jsx)("div",{className:"d-flex flex-column",children:o.map((function(e){return Object(E.jsx)(Kt.a,{className:"py-2 px-3 m-0",value:e._id,onChange:je,checked:d.includes(e._id),children:e.name},e._id)}))})},"2"),Object(E.jsx)(nc,{title:Object(E.jsxs)("span",{className:"h5",children:[Object(E.jsx)(_t.a,{})," Stars"]}),children:Object(E.jsx)("div",{className:"d-flex flex-column",children:function(){for(var e=[],t=5;t>0;t--)e.push(Object(E.jsx)(cc,{numberOfRatings:t,handleRatingChange:de},Object(pe.a)()));return e}()})},"3"),Object(E.jsx)(nc,{title:Object(E.jsxs)("span",{className:"h5",children:[Object(E.jsx)(ec.a,{})," sub-category"]}),children:I.map((function(e){return Object(E.jsx)("div",{onClick:function(){return he(e)},style:{cursor:"pointer"},className:"p-2 m-2 badge badge-secondary",children:e.name.toUpperCase()},e._id)}))},"4"),Object(E.jsx)(nc,{title:Object(E.jsxs)("span",{className:"h5",children:[Object(E.jsx)(ec.a,{})," Brands"]}),children:Object(E.jsx)("div",{className:"d-flex flex-column",children:H.map((function(e){return Object(E.jsx)(Zt.a,{className:"pl-4 pb-2",value:e,name:e,onChange:Oe,checked:G===e,children:e.toUpperCase()},e)}))})},"5"),Object(E.jsx)(nc,{title:Object(E.jsxs)("span",{className:"h5",children:[Object(E.jsx)(ec.a,{})," Colors"]}),children:Object(E.jsx)("div",{className:"d-flex flex-column",children:W.map((function(e){return Object(E.jsx)(Zt.a,{className:"pl-4 pb-2",value:e,name:e,onChange:me,checked:Z===e,children:e.toUpperCase()},e)}))})},"6"),Object(E.jsx)(nc,{title:Object(E.jsxs)("span",{className:"h5",children:[Object(E.jsx)(tc.a,{})," Shipping"]}),children:Object(E.jsx)("div",{className:"d-flex flex-column",children:ce.map((function(e){return Object(E.jsx)(Zt.a,{className:"pl-4 pb-2",value:e,name:e,onChange:xe,checked:re===e,children:e.toUpperCase()},e)}))})},"7")]})]}),Object(E.jsxs)("div",{className:"col-sm-8 mt-2",children:[Object(E.jsx)("h5",{className:"text-danger",children:"Products"}),Object(E.jsx)("hr",{className:"bg-success"}),Object(E.jsx)("div",{className:"row ",children:c.length>0?c.map((function(e){return Object(E.jsx)("div",{className:"col-md-4 mt-3",children:Object(E.jsx)(be,{product:e})},e._id)})):Object(E.jsx)("h4",{className:"text-center mt-3 w-100",children:"No Product Found"})})]})]})})},rc=c(238),sc=c(66),oc=function(e){var t=e.history,c=Object(x.c)((function(e){return e})),a=c.cart,r=c.user,s=Object(x.b)(),o=Object(n.useState)([]),i=Object(u.a)(o,2),l=i[0],j=i[1];console.log(r),Object(n.useEffect)((function(){console.log("cart",localStorage.getItem("cart")),Ee().then((function(e){j(e.data)})).catch((function(e){console.log(e)}))}),[]);return Object(E.jsxs)("div",{className:"container-fluid",children:[Object(E.jsx)("div",{className:"row",children:Object(E.jsxs)("h4",{children:["Cart / ",a.length," product"]})}),Object(E.jsx)("hr",{}),Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"col-md-8",children:a.length?Object(E.jsxs)("table",{className:"table table-bordered",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"image"}),Object(E.jsx)("th",{children:"title"}),Object(E.jsx)("th",{children:"price"}),Object(E.jsx)("th",{children:"count"}),Object(E.jsx)("th",{children:"color"}),Object(E.jsx)("th",{children:"shipping"}),Object(E.jsx)("th",{children:"brand"}),Object(E.jsx)("th",{children:"remove"})]})}),Object(E.jsx)("tbody",{children:a.map((function(e){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:e.images.length?Object(E.jsx)("div",{style:{width:"100px",height:"auto"},children:Object(E.jsx)(rc.a,{small:e.images[0].url,medium:e.images[0].url})}):"image"}),Object(E.jsx)("th",{children:e.title}),Object(E.jsx)("th",{children:e.price}),Object(E.jsx)("th",{children:Object(E.jsx)("input",{type:"number",value:e.count,className:"form-control",onChange:function(t){return function(e,t){var c=[],n=e.target.value<1?1:e.target.value;if(e.target.value>t.quantity)N.b.error("product out of stock .");else if(void 0!==typeof window){localStorage.getItem("cart")&&(c=JSON.parse(localStorage.getItem("cart")));var a=c.map((function(e){return e._id===t._id&&(e.count=n),e}));localStorage.setItem("cart",JSON.stringify(a)),s({type:"ADD_TO_CART",payload:a})}}(t,e)}})}),Object(E.jsx)("th",{children:Object(E.jsxs)("select",{className:"form-control",name:"color",onChange:function(t){return function(e,t){console.log(e.target.value,t);var c=[];if(void 0!==typeof window){localStorage.getItem("cart")&&(c=JSON.parse(localStorage.getItem("cart")));var n=c.map((function(c){return c._id===t._id&&(c.color=e.target.value),c}));localStorage.setItem("cart",JSON.stringify(n)),s({type:"ADD_TO_CART",payload:n})}}(t,e)},children:[e.color?Object(E.jsx)("option",{value:e.color,children:e.color},e.color):Object(E.jsx)("option",{children:"select"}),l.filter((function(t){return t!==e.color})).map((function(e){return Object(E.jsx)("option",{value:e,children:e},e)}))]})}),Object(E.jsx)("th",{className:"text-center",children:"Yes"===e.shipping?Object(E.jsx)(Ge.a,{className:"text-success"}):Object(E.jsx)(qe.a,{className:"text-danger"})}),Object(E.jsx)("th",{children:e.brand}),Object(E.jsx)("th",{className:"text-center",children:Object(E.jsx)(sc.a,{style:{cursor:"pointer"},className:"text-danger",onClick:function(){return function(e){var t=[];if(void 0!==typeof window){localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart")));var c=t.filter((function(t){return t._id!==e._id}));localStorage.setItem("cart",JSON.stringify(c)),s({type:"ADD_TO_CART",payload:c})}}(e)}})})]},e._id)}))})]}):Object(E.jsxs)("h6",{children:["no product in cart.Please ",Object(E.jsx)(y.b,{to:"/shop/filter",children:" continue shopping"})]})}),Object(E.jsxs)("div",{className:"col-md-4",children:[Object(E.jsx)("h3",{children:"Order Summery"}),Object(E.jsx)("hr",{}),Object(E.jsx)("h4",{children:"products"}),a.length?a.map((function(e,t){return Object(E.jsxs)("h6",{children:[e.title," x ",e.count," = ",e.count*e.price]},t)})):null,Object(E.jsx)("hr",{}),Object(E.jsxs)("h6",{children:["total = ",a.length?a.reduce((function(e,t){return e+t.count*t.price}),0):0]}),Object(E.jsx)("br",{}),r?Object(E.jsxs)("div",{className:"row ",children:[Object(E.jsx)("span",{className:"col-sm-5 btn btn-outline-info",style:{whiteSpace:"normal"},onClick:function(){Me(a,r.token).then((function(e){e.data.ok&&t.push("/user/checkout")})).catch((function(e){console.log("cart save err",e)}))},children:"proceed to checkout"}),Object(E.jsx)("span",{className:"col-sm-5 btn btn-outline-info ml-5 d-flex justify-content-center align-items-center",onClick:function(){console.log("emptyCart handler"),Je(r.token).then((function(e){localStorage.removeItem("cart"),s({type:"ADD_TO_CART",payload:[]}),N.b.success("cart has been removed.please continue shopping")})).catch((function(e){console.log(e)}))},children:"Empty Cart"})]}):Object(E.jsx)("span",{className:"btn btn-outline-info",children:Object(E.jsx)(y.b,{to:{pathname:"/login",state:{from:"/cart"}},children:"Login to checkout"})})]})]})]})},ic=c(470),lc=function(){var e=Object(x.c)((function(e){return e})),t=e.drawer,c=e.cart,n=Object(x.b)();return Object(E.jsxs)(ic.a,{title:"product / ".concat(c.length),placement:"right",visible:t,onClose:function(e){n({type:"VISIBLE_ACTIVITY",payload:!1})},children:[Object(E.jsx)("div",{className:"container",children:c.map((function(e){return Object(E.jsxs)("div",{className:"row my-2",children:[Object(E.jsx)("div",{className:"col",children:Object(E.jsx)("img",{style:{width:"100%",objectFit:"cover"},src:e.images[0].url})}),Object(E.jsxs)("h6",{className:"text-center w-100 p-3",children:[e.title," x ",e.count]})]},e._id)}))}),Object(E.jsx)(y.b,{className:"btn btn-primary btn-outline  btn-block",onClick:function(e){n({type:"VISIBLE_ACTIVITY",payload:!1})},to:"/cart",children:"Go to Cart page"})]})},uc=c(230),jc=c.n(uc),dc=(c(384),function(e){return new Promise((function(t){var c=document.createElement("script");c.src=e,c.onload=function(){t(!0)},c.onerror=function(){t(!1)},document.body.appendChild(c)}))}),bc=function(e){Object(Gt.a)(e);var t=Object(n.useState)([]),c=Object(u.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(0),j=Object(u.a)(s,2),d=j[0],b=j[1],h=Object(n.useState)("<p></p>"),p=Object(u.a)(h,2),O=p[0],m=p[1],f=Object(n.useState)(""),g=Object(u.a)(f,2),v=g[0],y=g[1],w=Object(n.useState)(0),k=Object(u.a)(w,2),C=k[0],A=k[1],I=Object(n.useState)(!1),T=Object(u.a)(I,2),D=T[0],R=T[1],B=Object(n.useState)(""),F=Object(u.a)(B,2),L=F[0],M=F[1],H=Object(n.useState)(!1),J=Object(u.a)(H,2),Q=J[0],V=J[1],W=Object(x.c)((function(e){return e})),_=W.user,P=W.coupon,Y=Object(x.b)(),U=Object(l.f)();Object(n.useEffect)((function(){He(_.token).then((function(e){r(e.data.products),b(e.data.cartTotal)})).catch((function(e){console.log(e)}))}),[]);var G=function(){var e=Object(i.a)(o.a.mark((function e(){var t,c,n,a,r,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dc("https://checkout.razorpay.com/v1/checkout.js");case 2:if(e.sent){e.next=6;break}return alert("Razorpay SDK failed to load. Are you online?"),e.abrupt("return");case 6:return e.next=8,S.a.post("/api/payment/order",{coupon:P},{headers:{token:_.token}});case 8:if(t=e.sent){e.next=12;break}return alert("Server error. Are you online?"),e.abrupt("return");case 12:c=t.data,n=c.amount,a=c.id,r=c.currency,s=c.created_at,l={key:"rzp_test_ch7pGW9fBa6dhK",amount:n.toString(),currency:r,name:"Laptop World",description:"Test Transaction",order_id:a,handler:function(){var e=Object(i.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c={orderCreationId:a,razorpayPaymentId:t.razorpay_payment_id,razorpayOrderId:t.razorpay_order_id,razorpaySignature:t.razorpay_signature,amount:n/100,currency:r,created_at:s},console.log("response handler",t),We(c,_.token).then((function(e){e.data.ok&&("undefined"!==typeof window&&localStorage.removeItem("cart"),Y({type:"ADD_TO_CART",payload:[]}),Y({type:"DISCOUNT_FOR_COUPON",payload:{}}),Je(_.token),U.push("/user/history"))})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),prefill:{name:_.name,email:_.email},notes:{address:O},theme:{color:"#61dafb"}},new window.Razorpay(l).open();case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{className:"container mt-3",children:Object(E.jsxs)("div",{className:"row",children:[Object(E.jsxs)("div",{className:"col-sm-6",children:[Object(E.jsx)("h4",{children:"Delivary Address"}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)("p",{className:"text-info",children:"Please fill the adress to proceed to pay."}),Object(E.jsx)(jc.a,{value:O,onChange:function(e){m(e),console.log("adress",e)}}),Object(E.jsx)("button",{className:"btn btn-primary mt-2 btn-outline",disabled:"<p></p>"===O||"<p><br></p>"===O,onClick:function(){Qe(O,_.token).then((function(e){V(!0),N.b.success("Adress saved")})).catch((function(e){console.log(e)}))},children:"Save"}),Object(E.jsx)("hr",{}),Object(E.jsx)("h4",{children:"Got Coupon ?"}),Object(E.jsx)("br",{}),Object(E.jsx)("input",{className:"form-control",placeholder:"enter coupon",value:v,onChange:function(e){return y(e.target.value)}}),Object(E.jsx)("br",{}),L?Object(E.jsx)("h4",{className:"bg-danger p-1",children:L}):null,Object(E.jsx)("button",{onClick:function(){Ve(v,_.token).then((function(e){A(e.data.totalAfterDiscount),Y({type:"DISCOUNT_FOR_COUPON",payload:{totalAfterDiscount:+e.data.totalAfterDiscount,coupon:!0}}),R(!0),M("")})).catch((function(e){console.log(e.response&&e.response.data),M(e.response.data.error)}))},className:"btn btn-outline-primary",children:"apply"})]}),Object(E.jsxs)("div",{className:"col-sm-6",children:[Object(E.jsx)("h4",{children:"Order Summery"}),Object(E.jsx)("hr",{}),Object(E.jsxs)("p",{children:["product ",a.length]}),Object(E.jsx)("hr",{}),a.map((function(e){return Object(E.jsx)("div",{children:Object(E.jsxs)("p",{children:[e.product.title," (",e.color,") x ",e.count," = ",e.count*e.price]})},e._id)})),Object(E.jsx)("hr",{}),Object(E.jsxs)("p",{children:["Cart Total :",d]}),D?Object(E.jsxs)("p",{className:"bg-success p-1",children:["Total price after discount : ",C]}):null,Object(E.jsx)("div",{className:"row",children:Object(E.jsx)("div",{className:"col-md-6",children:Object(E.jsx)("button",{className:"btn btn-primary btn-outline",disabled:!(O&&Q),onClick:G,children:"Place Order"})})})]})]})})},hc=c(231),pc=c.n(hc),Oc=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.post("/api/coupon",{couponData:t},{headers:{token:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),mc=function(){var e=Object(i.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.delete("/api/coupon/".concat(t),{headers:{token:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),fc=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/coupon",{headers:{token:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xc=(c(385),function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(0),s=Object(u.a)(r,2),l=s[0],j=s[1],d=Object(n.useState)(new Date),b=Object(u.a)(d,2),h=b[0],p=b[1],O=Object(n.useState)(!1),m=Object(u.a)(O,2),f=m[0],g=m[1],v=Object(n.useState)([]),y=Object(u.a)(v,2),w=y[0],S=y[1],k=Object(x.c)((function(e){return e})).user;Object(n.useEffect)((function(){C()}),[]);var C=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fc(k.token).then((function(e){S(e.data)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{className:"container-fluid",children:Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)("div",{className:"col-md-2 ",children:Object(E.jsx)(nt,{})}),Object(E.jsxs)("div",{className:"col mt-5",children:[f?Object(E.jsx)("h4",{className:"text-danger",children:"loading..."}):Object(E.jsx)("h4",{children:"Create Coupon"}),Object(E.jsx)("hr",{}),Object(E.jsx)("br",{}),Object(E.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g(!0),Oc({name:c,discount:l,expiryDate:h},k.token).then((function(e){console.log(e.data),C(),a(""),j(0),p(new Date),g(!1),N.b.success("coupon created")})).catch((function(e){g(!1),console.log(e)}))},children:[Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Name"}),Object(E.jsx)("input",{type:"text",className:"form-control",name:"name",value:c,onChange:function(e){return a(e.target.value)}})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Discount(%)"}),Object(E.jsx)("input",{type:"number",className:"form-control",name:"discount",value:l,onChange:function(e){return j(e.target.value)}})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{className:"form-label",children:"Expiry Date"}),Object(E.jsx)(pc.a,{className:"form-control",selected:h,onChange:function(e){return p(e)}})]}),Object(E.jsx)("button",{className:"btn btn-outline-primary",children:"Create"})]}),Object(E.jsx)("hr",{}),Object(E.jsxs)("h5",{className:"text-primary",children:[w.length," coupons"]}),Object(E.jsxs)("table",{className:"table",children:[Object(E.jsx)("thead",{className:"thead-light",children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{scope:"col",children:"name"}),Object(E.jsx)("th",{scope:"col",children:"discount"}),Object(E.jsx)("th",{scope:"col",children:"expiry date"}),Object(E.jsx)("th",{scope:"col",children:"action"})]})}),Object(E.jsx)("tbody",{children:w.map((function(e){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:e.name}),Object(E.jsx)("td",{children:e.discount}),Object(E.jsx)("td",{children:new Date(e.expiryDate).toLocaleDateString()}),Object(E.jsx)("td",{children:Object(E.jsx)(et.a,{className:"text-danger",onClick:function(){return t=e._id,void mc(t,k.token).then((function(e){console.log(e.data),C()})).catch((function(e){console.log(e)}));var t}})})]},e._id)}))})]}),Object(E.jsx)("br",{})]})]})})}),gc=function(){var e=Object(x.b)(),t=Object(l.f)();return Object(n.useEffect)((function(){var c=m.onAuthStateChanged(function(){var c=Object(i.a)(o.a.mark((function c(n){var a;return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(!n){c.next=7;break}return c.next=3,n.getIdTokenResult();case 3:a=c.sent,C(a).then((function(t){e({type:g,payload:{email:t.data.email,token:a.token,name:t.data.name,role:t.data.role,_id:t.data._id}})})).catch((function(e){console.log(e.message)})),c.next=8;break;case 7:t.push("/login");case 8:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}());return function(){c()}}),[t,e]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(_,{}),Object(E.jsx)(N.a,{}),Object(E.jsx)(lc,{}),Object(E.jsxs)(l.c,{children:[Object(E.jsx)(l.a,{path:"/",exact:!0,component:Re}),Object(E.jsx)(l.a,{path:"/register",exact:!0,component:T}),Object(E.jsx)(l.a,{path:"/register/complete",exact:!0,component:Be}),Object(E.jsx)(l.a,{path:"/login",exact:!0,component:I}),Object(E.jsx)(l.a,{path:"/forgot/password",exact:!0,component:Fe}),Object(E.jsx)($e,{path:"/user/history",children:Object(E.jsx)(Ke,{})}),Object(E.jsx)($e,{path:"/user/password",children:Object(E.jsx)(ct,{})}),Object(E.jsx)($e,{path:"/user/wishlist",children:Object(E.jsx)(tt,{})}),Object(E.jsx)(it,{path:"/admin/dashboard",exact:!0,component:ot}),Object(E.jsx)(it,{path:"/admin/category",exact:!0,component:dt}),Object(E.jsx)(it,{path:"/admin/category/:slug",exact:!0,component:bt}),Object(E.jsx)(it,{path:"/admin/sub-category/sub",exact:!0,component:ht}),Object(E.jsx)(it,{path:"/admin/sub-category/sub/:slug",exact:!0,component:pt}),Object(E.jsx)(it,{path:"/admin/product",exact:!0,component:Et}),Object(E.jsx)(it,{path:"/admin/products",exact:!0,component:Dt}),Object(E.jsx)(it,{path:"/admin/product/:slug",exact:!0,component:Lt}),Object(E.jsx)(l.a,{path:"/product/:slug",exact:!0,component:Ut}),Object(E.jsx)(l.a,{path:"/category/:slug",exact:!0,component:qt}),Object(E.jsx)(l.a,{path:"/subcategory/:slug",exact:!0,component:zt}),Object(E.jsx)(l.a,{path:"/shop/filter",component:ac}),Object(E.jsx)(l.a,{path:"/cart",component:oc}),Object(E.jsx)($e,{path:"/user/checkout",children:Object(E.jsx)(bc,{})}),Object(E.jsx)(it,{path:"/admin/coupon",exact:!0,component:xc})]})]})},vc=(c(454),c(87)),yc=c(234),Nc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(ne.a)(Object(ne.a)({},e),t.payload);case v:return t.payload;default:return e}},wc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TEXT_SEARCH":return Object(ne.a)(Object(ne.a)({},e),t.payload);default:return e}},Sc=[];localStorage.getItem("cart")&&(Sc=JSON.parse(localStorage.getItem("cart")));var kc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":return Object(gt.a)(t.payload);default:return e}},Cc=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"VISIBLE_ACTIVITY":return t.payload;default:return e}},Ac=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{totalAfterDiscount:0,coupon:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DISCOUNT_FOR_COUPON":return Object(ne.a)(Object(ne.a)({},e),t.payload);default:return e}},Ec=function(){var e=Object(l.g)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null},Ic=Object(vc.combineReducers)({user:Nc,search:wc,cart:kc,drawer:Cc,coupon:Ac}),Tc=Object(vc.createStore)(Ic,Object(yc.composeWithDevTools)());r.a.render(Object(E.jsx)(x.a,{store:Tc,children:Object(E.jsxs)(y.a,{children:[Object(E.jsx)(Ec,{}),Object(E.jsx)(gc,{})]})}),document.getElementById("root"))}},[[455,1,2]]]);
//# sourceMappingURL=main.f8e17cfb.chunk.js.map